// ==UserScript==
// @name            PT种子列表瀑布流视图(Svelte重构)
// @name:en         PT_Masonry_View_Svelte
// @namespace       https://github.com/KesaubeEire/PT_Masonry_View_Svelte
// @version         1.0.3
// @author          Kesa
// @description     PT种子列表无限下拉瀑布流视图(Svelte重构)
// @description:en  PT Masonry View by Svelte.
// @license         MIT
// @icon            https://avatars.githubusercontent.com/u/23617963
// @match           https://kamept.com/*
// @match           https://kp.m-team.cc/*
// @match           https://pterclub.com/*
// @exclude         */offers.php*
// @exclude         */index.php*
// @exclude         */forums.php*
// @exclude         */viewrequests.php*
// @exclude         */seek.php*
// @grant           none
// ==/UserScript==

(t=>{const e=document.createElement("style");e.dataset.source="vite-plugin-monkey",e.textContent=t,document.head.append(e)})(' div.waterfall{width:100%;padding-top:20px;padding-bottom:60px;border-radius:20px;height:100%;margin:20px auto;transition:height .3s}button.debug{position:fixed;top:10px;right:10px;padding:4px;background-color:#333;color:#fff;border:none;border-radius:5px;cursor:pointer}button#toggle_oldTable{top:10px}button#btnReLayout{top:40px}button#btnSwitchMode{top:70px}button#sort_masonry{top:100px}.switch.svelte-2vaqag.svelte-2vaqag{width:100%;height:30px;display:flex;align-items:center;justify-content:space-between}.s_title.svelte-2vaqag.svelte-2vaqag{display:flex;align-items:center;font-size:14px;position:relative}.title_green.svelte-2vaqag.svelte-2vaqag{color:green;font-weight:800}.title_red.svelte-2vaqag.svelte-2vaqag{color:red;font-weight:800}.s_title.svelte-2vaqag:has(.hint):hover ._hint.svelte-2vaqag{display:block}._hint.svelte-2vaqag.svelte-2vaqag{display:none;position:absolute;bottom:28px;left:0;width:max-content;height:auto;background-color:#fff;border:1px solid black;border-radius:8px;padding:4px 8px;box-sizing:content-box;z-index:1}input[type=checkbox].svelte-2vaqag.svelte-2vaqag{width:0px;height:0px;display:none;visibility:hidden}label.svelte-2vaqag.svelte-2vaqag{width:48px;height:12px;display:inline-block;position:relative;background-color:#777;border:2px solid #555;border-radius:30px;transition:all .2s}label.svelte-2vaqag.svelte-2vaqag:after{content:"";display:block;width:24px;height:24px;background-color:#555;position:absolute;border-radius:50%;left:-2px;top:-6px;transition:transform .2s}input[type=checkbox].svelte-2vaqag:checked~label.svelte-2vaqag{background-color:#00a0fc;border-color:#006dc9}input[type=checkbox].svelte-2vaqag:checked~label.svelte-2vaqag:after{background-color:#0054b0;transform:translate(28px)}.sideP.svelte-mdsgbd.svelte-mdsgbd{position:fixed;opacity:.4;margin:4px 2px;border-radius:8px;overflow:hidden;z-index:40000;border:2px solid transparent}.sideP.svelte-mdsgbd.svelte-mdsgbd:hover{opacity:1;border:2px solid yellow}.sideP__title.svelte-mdsgbd.svelte-mdsgbd{width:100%;height:8px;background-color:#ff0}.sideP__title.svelte-mdsgbd.svelte-mdsgbd:hover{cursor:move}.sideP__out.svelte-mdsgbd.svelte-mdsgbd{display:flex;flex-direction:column}.sideP__btn.svelte-mdsgbd.svelte-mdsgbd{background-color:gray;color:#fff;padding:4px 8px;margin:4px;border-radius:8px;cursor:pointer;border:none}.sideP__btn.svelte-mdsgbd.svelte-mdsgbd:hover{background-color:#6531ff}.configP.svelte-mdsgbd.svelte-mdsgbd{position:fixed;left:0;top:0;width:100vw;height:100vh;padding:0;margin:0;z-index:50000;background-color:#0003}.configP_holder.svelte-mdsgbd.svelte-mdsgbd{position:absolute;right:20px;top:20px;overflow-y:scroll;width:360px;max-height:calc(100vh - 40px);padding:0;margin:0;border-radius:24px;border:2px solid black;background-color:#d4e7ff}.configP_holder.svelte-mdsgbd.svelte-mdsgbd::-webkit-scrollbar{display:none}.configP_title.svelte-mdsgbd.svelte-mdsgbd{position:fixed;box-sizing:border-box;width:inherit;display:flex;justify-content:space-between;align-items:center;height:40px;padding:0 10px;border-top-left-radius:24px;border-top-right-radius:24px;border-bottom:2px solid black;background-color:#9ac6ff;z-index:2}.configP_title.svelte-mdsgbd.svelte-mdsgbd p{font-size:18px;font-weight:500}.configP_title.svelte-mdsgbd.svelte-mdsgbd button{border:none;padding:0;margin:0;background-color:transparent}.section.svelte-mdsgbd.svelte-mdsgbd{margin:16px 18px}.section.svelte-mdsgbd.svelte-mdsgbd button{border-radius:10px;margin:4px;padding:12px 16px}.section.svelte-mdsgbd.svelte-mdsgbd .s_title{text-align:center}.section.svelte-mdsgbd.svelte-mdsgbd .s_panel{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}.section.svelte-mdsgbd.svelte-mdsgbd .s_checkbox{padding:12px;margin:4px;border-radius:10px;border:1px solid black;font-size:14px;display:flex;align-items:center}.configP_holder.svelte-mdsgbd .section.svelte-mdsgbd:nth-child(2){margin-top:48px}#reset_panel_pos.svelte-mdsgbd.svelte-mdsgbd{width:100%;text-align:center;border:1px solid black;border-radius:16px}.card.svelte-vdh3h6.svelte-vdh3h6{border:1px solid rgba(255,255,255,.5);border-radius:16px;margin:6px 0;overflow:hidden;cursor:pointer;box-shadow:#0000004d 3px 3px,#0000001a -1px -1px;transition:box-shadow .2s}.card.svelte-vdh3h6.svelte-vdh3h6:hover{box-shadow:#7300ff4d 5px 5px,#0000001a -1px -1px}.card-title.svelte-vdh3h6.svelte-vdh3h6{padding:2px 0}.card-holder.svelte-vdh3h6.svelte-vdh3h6{background-color:#ffffff80;background:linear-gradient(to bottom,rgba(255,255,255,.4),rgba(255,255,255,0))}.card-category.svelte-vdh3h6.svelte-vdh3h6{text-align:center;letter-spacing:2px;font-weight:700}.card-line.svelte-vdh3h6.svelte-vdh3h6{margin-top:1px;margin-bottom:1px;display:flex;justify-content:space-evenly;align-items:center;height:20px}.two-lines.svelte-vdh3h6.svelte-vdh3h6{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;transition:color .3s}.two-lines.svelte-vdh3h6.svelte-vdh3h6:hover{-webkit-line-clamp:100}.cl-center.svelte-vdh3h6.svelte-vdh3h6{display:flex;justify-content:space-evenly;align-items:center}.cl-tags.svelte-vdh3h6.svelte-vdh3h6{display:flex;justify-content:left;align-items:center;flex-wrap:wrap;gap:2px;transform:translate(4px)}.cl-tags.svelte-vdh3h6.svelte-vdh3h6:has(span){padding-top:2px}.card-details.svelte-vdh3h6.svelte-vdh3h6{display:flex;justify-content:center;align-items:center;flex-direction:column}.card-image.svelte-vdh3h6.svelte-vdh3h6{height:100%;position:relative}.card-image.svelte-vdh3h6 img.svelte-vdh3h6{width:100%;object-fit:cover}.card-alter.svelte-vdh3h6.svelte-vdh3h6{text-align:center;height:20px;display:flex;justify-content:center;align-items:center}.top_and_free.svelte-vdh3h6.svelte-vdh3h6{padding:2px;border-radius:4px;margin-bottom:2px;display:flex;justify-content:center;align-items:center;line-height:11px;height:11px;font-size:10px}._Free.svelte-vdh3h6.svelte-vdh3h6{color:#00f}._2XFree.svelte-vdh3h6.svelte-vdh3h6{color:green}.card-description.svelte-vdh3h6.svelte-vdh3h6{padding-left:4px;padding-right:4px}.card-index.svelte-vdh3h6.svelte-vdh3h6{position:absolute;top:0;left:0;padding-right:9px;padding-left:2px;margin:0;height:20px;line-height:16px;font-size:16px;background-color:#000;color:#ff0;border-top-right-radius:100px;border-bottom-right-radius:100px;display:flex;align-items:center;pointer-events:none}.btnCollet.svelte-vdh3h6.svelte-vdh3h6{padding:1px 2px;cursor:pointer}.hot.svelte-vdh3h6.svelte-vdh3h6,.new.svelte-vdh3h6.svelte-vdh3h6{padding:0 2px;border-radius:8px;background:white;margin:2px}.card-category.svelte-1fw75v2.svelte-1fw75v2{height:24px;padding:0 2px;border:1px;background:black;color:#fff;font-weight:600;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:flex;align-items:center;justify-content:center}.card_category-img.svelte-1fw75v2.svelte-1fw75v2{height:32px;background-size:100% 141%;background-position:center top;padding-top:6px}.card.svelte-1fw75v2.svelte-1fw75v2{border:1px solid rgba(255,255,255,.5);border-radius:16px;margin:6px 0;overflow:hidden;cursor:pointer;box-shadow:#0000004d 3px 3px,#0000001a -1px -1px;transition:box-shadow .2s}.card.svelte-1fw75v2.svelte-1fw75v2:hover{box-shadow:#7300ff4d 5px 5px,#0000001a -1px -1px}.card-title.svelte-1fw75v2.svelte-1fw75v2{padding:2px 0}.card-holder.svelte-1fw75v2.svelte-1fw75v2{background-color:#ffffff80;background:linear-gradient(to bottom,rgba(255,255,255,.4),rgba(255,255,255,0))}.card-line.svelte-1fw75v2.svelte-1fw75v2{margin-top:1px;margin-bottom:1px;display:flex;justify-content:space-evenly;align-items:center;height:20px}.two-lines.svelte-1fw75v2.svelte-1fw75v2{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;transition:color .3s}.two-lines.svelte-1fw75v2.svelte-1fw75v2:hover{-webkit-line-clamp:100}.cl-center.svelte-1fw75v2.svelte-1fw75v2{display:flex;justify-content:space-evenly;align-items:center}.cl-tags.svelte-1fw75v2.svelte-1fw75v2{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:2px;padding-top:4px;padding-bottom:2px}.cl-tags.svelte-1fw75v2.svelte-1fw75v2:has(span){padding-top:2px}.card-details.svelte-1fw75v2.svelte-1fw75v2{display:flex;justify-content:center;align-items:center;flex-direction:column}.card-image.svelte-1fw75v2.svelte-1fw75v2{height:100%;position:relative}.card-image.svelte-1fw75v2 img.svelte-1fw75v2{width:100%;object-fit:cover}.card-alter.svelte-1fw75v2.svelte-1fw75v2{text-align:center;height:20px;display:flex;justify-content:center;align-items:center}.top_and_free.svelte-1fw75v2.svelte-1fw75v2{padding:2px;border-radius:4px;margin-bottom:2px;display:flex;justify-content:center;align-items:center;line-height:11px;height:11px;font-size:10px}._Free.svelte-1fw75v2.svelte-1fw75v2{color:#00f}._2XFree.svelte-1fw75v2.svelte-1fw75v2{color:green}.card-description.svelte-1fw75v2.svelte-1fw75v2{padding-left:4px;padding-right:4px}.card-index.svelte-1fw75v2.svelte-1fw75v2{position:absolute;top:0;left:0;padding-right:9px;padding-left:2px;margin:0;height:20px;line-height:16px;font-size:16px;background-color:#000;color:#ff0;border-top-right-radius:100px;border-bottom-right-radius:100px;display:flex;align-items:center;pointer-events:none}.btnCollet.svelte-1fw75v2.svelte-1fw75v2{padding:1px 2px;cursor:pointer}.tempTags.svelte-1fw75v2.svelte-1fw75v2{background-color:#fff;margin-left:2px;padding-left:2px;padding-right:2px;border-radius:4px}#turnPage.svelte-tr7wwl{width:100%;height:32px;border-radius:16px;line-height:20px;font-size:14px;position:absolute;bottom:0px}div#_iframe.svelte-tr7wwl{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0026269b;z-index:30000;display:flex}iframe.svelte-tr7wwl{height:96%;margin:auto} ');

(function () {
      'use strict';

      function ve(){}const Ei=e=>e;function Ui(e,t){for(const n in t)e[n]=t[n];return e}function Ti(e){return e()}function _n(){return Object.create(null)}function He(e){e.forEach(Ti);}function nt(e){return typeof e=="function"}function it(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let yt;function at(e,t){return yt||(yt=document.createElement("a")),yt.href=t,e===yt.href}function Xi(e){return Object.keys(e).length===0}function Li(e,...t){if(e==null)return ve;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function hn(e){let t;return Li(e,n=>t=n)(),t}function K(e,t,n){e.$$.on_destroy.push(Li(t,n));}function Qi(e,t,n,i){if(e){const l=Ii(e,t,n,i);return e[0](l)}}function Ii(e,t,n,i){return e[1]&&i?Ui(n.ctx.slice(),e[1](i(t))):n.ctx}function $i(e,t,n,i){if(e[2]&&i){const l=e[2](i(n));if(t.dirty===void 0)return l;if(typeof l=="object"){const o=[],r=Math.max(t.dirty.length,l.length);for(let s=0;s<r;s+=1)o[s]=t.dirty[s]|l[s];return o}return t.dirty|l}return t.dirty}function Vi(e,t,n,i,l,o){if(l){const r=Ii(t,n,i,o);e.p(r,l);}}function Zi(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return -1}function ue(e,t,n){return e.set(n),t}const Ci=typeof window<"u";let Ji=Ci?()=>window.performance.now():()=>Date.now(),Ut=Ci?e=>requestAnimationFrame(e):ve;const ft=new Set;function Si(e){ft.forEach(t=>{t.c(e)||(ft.delete(t),t.f());}),ft.size!==0&&Ut(Si);}function Ki(e){let t;return ft.size===0&&Ut(Si),{promise:new Promise(n=>{ft.add(t={c:e,f:n});}),abort(){ft.delete(t);}}}const xi=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function m(e,t){e.appendChild(t);}function Oi(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function el(e){const t=w("style");return tl(Oi(e),t),t.sheet}function tl(e,t){return m(e.head||e,t),t.sheet}function S(e,t,n){e.insertBefore(t,n||null);}function C(e){e.parentNode&&e.parentNode.removeChild(e);}function w(e){return document.createElement(e)}function wt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function L(e){return document.createTextNode(e)}function z(){return L(" ")}function We(){return L("")}function ee(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function nl(e){return function(t){t.target===this&&e.call(this,t);}}function y(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n);}function il(e){return e===""?null:+e}function ll(e){return Array.from(e.childNodes)}function j(e,t){t=""+t,e.data!==t&&(e.data=t);}function mn(e,t){e.value=t??"";}function x(e,t,n,i){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"");}function ol(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,n,i,t),l}class V{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null;}c(t){this.h(t);}m(t,n,i=null){this.e||(this.is_svg?this.e=wt(n.nodeName):this.e=w(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(i);}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes);}i(t){for(let n=0;n<this.n.length;n+=1)S(this.t,this.n[n],t);}p(t){this.d(),this.h(t),this.i(this.a);}d(){this.n.forEach(C);}}const St=new Map;let Ot=0;function sl(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function rl(e,t){const n={stylesheet:el(t),rules:{}};return St.set(e,n),n}function pn(e,t,n,i,l,o,r,s=0){const a=16.666/i;let c=`{
`;for(let f=0;f<=1;f+=a){const d=t+(n-t)*o(f);c+=f*100+`%{${r(d,1-d)}}
`;}const u=c+`100% {${r(n,1-n)}}
}`,g=`__svelte_${sl(u)}_${s}`,h=Oi(e),{stylesheet:_,rules:b}=St.get(h)||rl(h,e);b[g]||(b[g]=!0,_.insertRule(`@keyframes ${g} ${u}`,_.cssRules.length));const v=e.style.animation||"";return e.style.animation=`${v?`${v}, `:""}${g} ${i}ms linear ${l}ms 1 both`,Ot+=1,g}function al(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),l=n.length-i.length;l&&(e.style.animation=i.join(", "),Ot-=l,Ot||fl());}function fl(){Ut(()=>{Ot||(St.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&C(t);}),St.clear());});}let gt;function pt(e){gt=e;}function Ni(){if(!gt)throw new Error("Function called outside component initialization");return gt}function Xt(e){Ni().$$.on_mount.push(e);}function cl(e){Ni().$$.after_update.push(e);}const st=[],ze=[];let ct=[];const Gt=[],ul=Promise.resolve();let Yt=!1;function dl(){Yt||(Yt=!0,ul.then(Di));}function ut(e){ct.push(e);}function Fe(e){Gt.push(e);}const At=new Set;let lt=0;function Di(){if(lt!==0)return;const e=gt;do{try{for(;lt<st.length;){const t=st[lt];lt++,pt(t),_l(t.$$);}}catch(t){throw st.length=0,lt=0,t}for(pt(null),st.length=0,lt=0;ze.length;)ze.pop()();for(let t=0;t<ct.length;t+=1){const n=ct[t];At.has(n)||(At.add(n),n());}ct.length=0;}while(st.length);for(;Gt.length;)Gt.pop()();Yt=!1,At.clear(),pt(e);}function _l(e){if(e.fragment!==null){e.update(),He(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ut);}}function hl(e){const t=[],n=[];ct.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),ct=t;}let mt;function ml(){return mt||(mt=Promise.resolve(),mt.then(()=>{mt=null;})),mt}function Ht(e,t,n){e.dispatchEvent(ol(`${t?"intro":"outro"}${n}`));}const Et=new Set;let Je;function xe(){Je={r:0,c:[],p:Je};}function et(){Je.r||He(Je.c),Je=Je.p;}function Q(e,t){e&&e.i&&(Et.delete(e),e.i(t));}function J(e,t,n,i){if(e&&e.o){if(Et.has(e))return;Et.add(e),Je.c.push(()=>{Et.delete(e),i&&(n&&e.d(1),i());}),e.o(t);}else i&&i();}const pl={duration:0};function Nt(e,t,n,i){const l={direction:"both"};let o=t(e,n,l),r=i?0:1,s=null,a=null,c=null;function u(){c&&al(e,c);}function g(_,b){const v=_.b-r;return b*=Math.abs(v),{a:r,b:_.b,d:v,duration:b,start:_.start,end:_.start+b,group:_.group}}function h(_){const{delay:b=0,duration:v=300,easing:f=Ei,tick:d=ve,css:p}=o||pl,k={start:Ji()+b,b:_};_||(k.group=Je,Je.r+=1),s||a?a=k:(p&&(u(),c=pn(e,r,_,v,b,f,p)),_&&d(0,1),s=g(k,v),ut(()=>Ht(e,_,"start")),Ki(E=>{if(a&&E>a.start&&(s=g(a,v),a=null,Ht(e,s.b,"start"),p&&(u(),c=pn(e,r,s.b,s.duration,0,f,o.css))),s){if(E>=s.end)d(r=s.b,1-r),Ht(e,s.b,"end"),a||(s.b?u():--s.group.r||He(s.group.c)),s=null;else if(E>=s.start){const A=E-s.start;r=s.a+s.d*f(A/s.duration),d(r,1-r);}}return !!(s||a)}));}return {run(_){nt(o)?ml().then(()=>{o=o(l),h(_);}):h(_);},end(){u(),s=a=null;}}}function Mi(e,t){J(e,1,1,()=>{t.delete(e.key);});}function Ri(e,t,n,i,l,o,r,s,a,c,u,g){let h=e.length,_=o.length,b=h;const v={};for(;b--;)v[e[b].key]=b;const f=[],d=new Map,p=new Map,k=[];for(b=_;b--;){const D=g(l,o,b),R=n(D);let T=r.get(R);T?i&&k.push(()=>T.p(D,t)):(T=c(R,D),T.c()),d.set(R,f[b]=T),R in v&&p.set(R,Math.abs(b-v[R]));}const E=new Set,A=new Set;function O(D){Q(D,1),D.m(s,u),r.set(D.key,D),u=D.first,_--;}for(;h&&_;){const D=f[_-1],R=e[h-1],T=D.key,N=R.key;D===R?(u=D.first,h--,_--):d.has(N)?!r.has(T)||E.has(T)?O(D):A.has(N)?h--:p.get(T)>p.get(N)?(A.add(T),O(D)):(E.add(N),h--):(a(R,r),h--);}for(;h--;){const D=e[h];d.has(D.key)||a(D,r);}for(;_;)O(f[_-1]);return He(k),f}function je(e,t,n){const i=e.$$.props[t];i!==void 0&&(e.$$.bound[i]=n,n(e.$$.ctx[i]));}function Ae(e){e&&e.c();}function Ne(e,t,n,i){const{fragment:l,after_update:o}=e.$$;l&&l.m(t,n),i||ut(()=>{const r=e.$$.on_mount.map(Ti).filter(nt);e.$$.on_destroy?e.$$.on_destroy.push(...r):He(r),e.$$.on_mount=[];}),o.forEach(ut);}function De(e,t){const n=e.$$;n.fragment!==null&&(hl(n.after_update),He(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[]);}function gl(e,t){e.$$.dirty[0]===-1&&(st.push(e),dl(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31;}function dt(e,t,n,i,l,o,r,s=[-1]){const a=gt;pt(e);const c=e.$$={fragment:null,ctx:[],props:o,update:ve,not_equal:l,bound:_n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:_n(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};r&&r(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(g,h,..._)=>{const b=_.length?_[0]:h;return c.ctx&&l(c.ctx[g],c.ctx[g]=b)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](b),u&&gl(e,g)),h}):[],c.update(),u=!0,He(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){const g=ll(t.target);c.fragment&&c.fragment.l(g),g.forEach(C);}else c.fragment&&c.fragment.c();t.intro&&Q(e.$$.fragment),Ne(e,t.target,t.anchor,t.customElement),Di();}pt(a);}class _t{$destroy(){De(this,1),this.$destroy=ve;}$on(t,n){if(!nt(n))return ve;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const l=i.indexOf(n);l!==-1&&i.splice(l,1);}}$set(t){this.$$set&&!Xi(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1);}}/*!
       * Masonry PACKAGED v4.2.2
       * Cascading grid layout library
       * https://masonry.desandro.com
       * MIT License
       * by David DeSandro
       */(function(e,t){typeof define=="function"&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(n){return t(e,n)}):e.jQueryBridget=t(e,e.jQuery);})(window,function(t,n){var i=Array.prototype.slice,l=t.console,o=typeof l>"u"?function(){}:function(a){l.error(a);};function r(a,c,u){if(u=u||n||t.jQuery,!u)return;c.prototype.option||(c.prototype.option=function(_){u.isPlainObject(_)&&(this.options=u.extend(!0,this.options,_));}),u.fn[a]=function(_){if(typeof _=="string"){var b=i.call(arguments,1);return g(this,_,b)}return h(this,_),this};function g(_,b,v){var f,d="$()."+a+'("'+b+'")';return _.each(function(p,k){var E=u.data(k,a);if(!E){o(a+" not initialized. Cannot call methods, i.e. "+d);return}var A=E[b];if(!A||b.charAt(0)=="_"){o(d+" is not a valid method");return}var O=A.apply(E,v);f=f===void 0?O:f;}),f!==void 0?f:_}function h(_,b){_.each(function(v,f){var d=u.data(f,a);d?(d.option(b),d._init()):(d=new c(f,b),u.data(f,a,d));});}s(u);}function s(a){!a||a&&a.bridget||(a.bridget=r);}return s(n||t.jQuery),r});(function(e,t){typeof define=="function"&&define.amd?define("ev-emitter/ev-emitter",t):e.EvEmitter=t();})(typeof window<"u"?window:globalThis,function(){function e(){}var t=e.prototype;return t.on=function(n,i){if(!(!n||!i)){var l=this._events=this._events||{},o=l[n]=l[n]||[];return o.indexOf(i)==-1&&o.push(i),this}},t.once=function(n,i){if(!(!n||!i)){this.on(n,i);var l=this._onceEvents=this._onceEvents||{},o=l[n]=l[n]||{};return o[i]=!0,this}},t.off=function(n,i){var l=this._events&&this._events[n];if(!(!l||!l.length)){var o=l.indexOf(i);return o!=-1&&l.splice(o,1),this}},t.emitEvent=function(n,i){var l=this._events&&this._events[n];if(!(!l||!l.length)){l=l.slice(0),i=i||[];for(var o=this._onceEvents&&this._onceEvents[n],r=0;r<l.length;r++){var s=l[r],a=o&&o[s];a&&(this.off(n,s),delete o[s]),s.apply(this,i);}return this}},t.allOff=function(){delete this._events,delete this._onceEvents;},e});/*!
       * getSize v2.0.3
       * measure size of elements
       * MIT license
       */(function(e,t){typeof define=="function"&&define.amd?define("get-size/get-size",t):e.getSize=t();})(window,function(){function t(h){var _=parseFloat(h),b=h.indexOf("%")==-1&&!isNaN(_);return b&&_}function n(){}var i=typeof console>"u"?n:function(h){console.error(h);},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],o=l.length;function r(){for(var h={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},_=0;_<o;_++){var b=l[_];h[b]=0;}return h}function s(h){var _=getComputedStyle(h);return _||i("Style returned "+_+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),_}var a=!1,c;function u(){if(!a){a=!0;var h=document.createElement("div");h.style.width="200px",h.style.padding="1px 2px 3px 4px",h.style.borderStyle="solid",h.style.borderWidth="1px 2px 3px 4px",h.style.boxSizing="border-box";var _=document.body||document.documentElement;_.appendChild(h);var b=s(h);c=Math.round(t(b.width))==200,g.isBoxSizeOuter=c,_.removeChild(h);}}function g(h){if(u(),typeof h=="string"&&(h=document.querySelector(h)),!(!h||typeof h!="object"||!h.nodeType)){var _=s(h);if(_.display=="none")return r();var b={};b.width=h.offsetWidth,b.height=h.offsetHeight;for(var v=b.isBorderBox=_.boxSizing=="border-box",f=0;f<o;f++){var d=l[f],p=_[d],k=parseFloat(p);b[d]=isNaN(k)?0:k;}var E=b.paddingLeft+b.paddingRight,A=b.paddingTop+b.paddingBottom,O=b.marginLeft+b.marginRight,D=b.marginTop+b.marginBottom,R=b.borderLeftWidth+b.borderRightWidth,T=b.borderTopWidth+b.borderBottomWidth,N=v&&c,W=t(_.width);W!==!1&&(b.width=W+(N?0:E+R));var I=t(_.height);return I!==!1&&(b.height=I+(N?0:A+T)),b.innerWidth=b.width-(E+R),b.innerHeight=b.height-(A+T),b.outerWidth=b.width+O,b.outerHeight=b.height+D,b}}return g});(function(e,t){typeof define=="function"&&define.amd?define("desandro-matches-selector/matches-selector",t):e.matchesSelector=t();})(window,function(){var t=function(){var n=window.Element.prototype;if(n.matches)return "matches";if(n.matchesSelector)return "matchesSelector";for(var i=["webkit","moz","ms","o"],l=0;l<i.length;l++){var o=i[l],r=o+"MatchesSelector";if(n[r])return r}}();return function(i,l){return i[t](l)}});(function(e,t){typeof define=="function"&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(n){return t(e,n)}):e.fizzyUIUtils=t(e,e.matchesSelector);})(window,function(t,n){var i={};i.extend=function(r,s){for(var a in s)r[a]=s[a];return r},i.modulo=function(r,s){return (r%s+s)%s};var l=Array.prototype.slice;i.makeArray=function(r){if(Array.isArray(r))return r;if(r==null)return [];var s=typeof r=="object"&&typeof r.length=="number";return s?l.call(r):[r]},i.removeFrom=function(r,s){var a=r.indexOf(s);a!=-1&&r.splice(a,1);},i.getParent=function(r,s){for(;r.parentNode&&r!=document.body;)if(r=r.parentNode,n(r,s))return r},i.getQueryElement=function(r){return typeof r=="string"?document.querySelector(r):r},i.handleEvent=function(r){var s="on"+r.type;this[s]&&this[s](r);},i.filterFindElements=function(r,s){r=i.makeArray(r);var a=[];return r.forEach(function(c){if(c instanceof HTMLElement){if(!s){a.push(c);return}n(c,s)&&a.push(c);for(var u=c.querySelectorAll(s),g=0;g<u.length;g++)a.push(u[g]);}}),a},i.debounceMethod=function(r,s,a){a=a||100;var c=r.prototype[s],u=s+"Timeout";r.prototype[s]=function(){var g=this[u];clearTimeout(g);var h=arguments,_=this;this[u]=setTimeout(function(){c.apply(_,h),delete _[u];},a);};},i.docReady=function(r){var s=document.readyState;s=="complete"||s=="interactive"?setTimeout(r):document.addEventListener("DOMContentLoaded",r);},i.toDashed=function(r){return r.replace(/(.)([A-Z])/g,function(s,a,c){return a+"-"+c}).toLowerCase()};var o=t.console;return i.htmlInit=function(r,s){i.docReady(function(){var a=i.toDashed(s),c="data-"+a,u=document.querySelectorAll("["+c+"]"),g=document.querySelectorAll(".js-"+a),h=i.makeArray(u).concat(i.makeArray(g)),_=c+"-options",b=t.jQuery;h.forEach(function(v){var f=v.getAttribute(c)||v.getAttribute(_),d;try{d=f&&JSON.parse(f);}catch(k){o&&o.error("Error parsing "+c+" on "+v.className+": "+k);return}var p=new r(v,d);b&&b.data(v,s,p);});});},i});(function(e,t){typeof define=="function"&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],t):(e.Outlayer={},e.Outlayer.Item=t(e.EvEmitter,e.getSize));})(window,function(t,n){function i(v){for(var f in v)return !1;return f=null,!0}var l=document.documentElement.style,o=typeof l.transition=="string"?"transition":"WebkitTransition",r=typeof l.transform=="string"?"transform":"WebkitTransform",s={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[o],a={transform:r,transition:o,transitionDuration:o+"Duration",transitionProperty:o+"Property",transitionDelay:o+"Delay"};function c(v,f){v&&(this.element=v,this.layout=f,this.position={x:0,y:0},this._create());}var u=c.prototype=Object.create(t.prototype);u.constructor=c,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"});},u.handleEvent=function(v){var f="on"+v.type;this[f]&&this[f](v);},u.getSize=function(){this.size=n(this.element);},u.css=function(v){var f=this.element.style;for(var d in v){var p=a[d]||d;f[p]=v[d];}},u.getPosition=function(){var v=getComputedStyle(this.element),f=this.layout._getOption("originLeft"),d=this.layout._getOption("originTop"),p=v[f?"left":"right"],k=v[d?"top":"bottom"],E=parseFloat(p),A=parseFloat(k),O=this.layout.size;p.indexOf("%")!=-1&&(E=E/100*O.width),k.indexOf("%")!=-1&&(A=A/100*O.height),E=isNaN(E)?0:E,A=isNaN(A)?0:A,E-=f?O.paddingLeft:O.paddingRight,A-=d?O.paddingTop:O.paddingBottom,this.position.x=E,this.position.y=A;},u.layoutPosition=function(){var v=this.layout.size,f={},d=this.layout._getOption("originLeft"),p=this.layout._getOption("originTop"),k=d?"paddingLeft":"paddingRight",E=d?"left":"right",A=d?"right":"left",O=this.position.x+v[k];f[E]=this.getXValue(O),f[A]="";var D=p?"paddingTop":"paddingBottom",R=p?"top":"bottom",T=p?"bottom":"top",N=this.position.y+v[D];f[R]=this.getYValue(N),f[T]="",this.css(f),this.emitEvent("layout",[this]);},u.getXValue=function(v){var f=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!f?v/this.layout.size.width*100+"%":v+"px"},u.getYValue=function(v){var f=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&f?v/this.layout.size.height*100+"%":v+"px"},u._transitionTo=function(v,f){this.getPosition();var d=this.position.x,p=this.position.y,k=v==this.position.x&&f==this.position.y;if(this.setPosition(v,f),k&&!this.isTransitioning){this.layoutPosition();return}var E=v-d,A=f-p,O={};O.transform=this.getTranslate(E,A),this.transition({to:O,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0});},u.getTranslate=function(v,f){var d=this.layout._getOption("originLeft"),p=this.layout._getOption("originTop");return v=d?v:-v,f=p?f:-f,"translate3d("+v+"px, "+f+"px, 0)"},u.goTo=function(v,f){this.setPosition(v,f),this.layoutPosition();},u.moveTo=u._transitionTo,u.setPosition=function(v,f){this.position.x=parseFloat(v),this.position.y=parseFloat(f);},u._nonTransition=function(v){this.css(v.to),v.isCleaning&&this._removeStyles(v.to);for(var f in v.onTransitionEnd)v.onTransitionEnd[f].call(this);},u.transition=function(v){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(v);return}var f=this._transn;for(var d in v.onTransitionEnd)f.onEnd[d]=v.onTransitionEnd[d];for(d in v.to)f.ingProperties[d]=!0,v.isCleaning&&(f.clean[d]=!0);v.from&&(this.css(v.from),this.element.offsetHeight),this.enableTransition(v.to),this.css(v.to),this.isTransitioning=!0;};function g(v){return v.replace(/([A-Z])/g,function(f){return "-"+f.toLowerCase()})}var h="opacity,"+g(r);u.enableTransition=function(){if(!this.isTransitioning){var v=this.layout.options.transitionDuration;v=typeof v=="number"?v+"ms":v,this.css({transitionProperty:h,transitionDuration:v,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(s,this,!1);}},u.onwebkitTransitionEnd=function(v){this.ontransitionend(v);},u.onotransitionend=function(v){this.ontransitionend(v);};var _={"-webkit-transform":"transform"};u.ontransitionend=function(v){if(v.target===this.element){var f=this._transn,d=_[v.propertyName]||v.propertyName;if(delete f.ingProperties[d],i(f.ingProperties)&&this.disableTransition(),d in f.clean&&(this.element.style[v.propertyName]="",delete f.clean[d]),d in f.onEnd){var p=f.onEnd[d];p.call(this),delete f.onEnd[d];}this.emitEvent("transitionEnd",[this]);}},u.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(s,this,!1),this.isTransitioning=!1;},u._removeStyles=function(v){var f={};for(var d in v)f[d]="";this.css(f);};var b={transitionProperty:"",transitionDuration:"",transitionDelay:""};return u.removeTransitionStyles=function(){this.css(b);},u.stagger=function(v){v=isNaN(v)?0:v,this.staggerDelay=v+"ms";},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this]);},u.remove=function(){if(!o||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem();}),this.hide();},u.reveal=function(){delete this.isHidden,this.css({display:""});var v=this.layout.options,f={},d=this.getHideRevealTransitionEndProperty("visibleStyle");f[d]=this.onRevealTransitionEnd,this.transition({from:v.hiddenStyle,to:v.visibleStyle,isCleaning:!0,onTransitionEnd:f});},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal");},u.getHideRevealTransitionEndProperty=function(v){var f=this.layout.options[v];if(f.opacity)return "opacity";for(var d in f)return d},u.hide=function(){this.isHidden=!0,this.css({display:""});var v=this.layout.options,f={},d=this.getHideRevealTransitionEndProperty("hiddenStyle");f[d]=this.onHideTransitionEnd,this.transition({from:v.visibleStyle,to:v.hiddenStyle,isCleaning:!0,onTransitionEnd:f});},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"));},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""});},c});/*!
       * Outlayer v2.1.1
       * the brains and guts of a layout library
       * MIT license
       */(function(e,t){typeof define=="function"&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,i,l,o){return t(e,n,i,l,o)}):e.Outlayer=t(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item);})(window,function(t,n,i,l,o){var r=t.console,s=t.jQuery,a=function(){},c=0,u={};function g(f,d){var p=l.getQueryElement(f);if(!p){r&&r.error("Bad element for "+this.constructor.namespace+": "+(p||f));return}this.element=p,s&&(this.$element=s(this.element)),this.options=l.extend({},this.constructor.defaults),this.option(d);var k=++c;this.element.outlayerGUID=k,u[k]=this,this._create();var E=this._getOption("initLayout");E&&this.layout();}g.namespace="outlayer",g.Item=o,g.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var h=g.prototype;l.extend(h,n.prototype),h.option=function(f){l.extend(this.options,f);},h._getOption=function(f){var d=this.constructor.compatOptions[f];return d&&this.options[d]!==void 0?this.options[d]:this.options[f]},g.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},h._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),l.extend(this.element.style,this.options.containerStyle);var f=this._getOption("resize");f&&this.bindResize();},h.reloadItems=function(){this.items=this._itemize(this.element.children);},h._itemize=function(f){for(var d=this._filterFindItemElements(f),p=this.constructor.Item,k=[],E=0;E<d.length;E++){var A=d[E],O=new p(A,this);k.push(O);}return k},h._filterFindItemElements=function(f){return l.filterFindElements(f,this.options.itemSelector)},h.getItemElements=function(){return this.items.map(function(f){return f.element})},h.layout=function(){this._resetLayout(),this._manageStamps();var f=this._getOption("layoutInstant"),d=f!==void 0?f:!this._isLayoutInited;this.layoutItems(this.items,d),this._isLayoutInited=!0;},h._init=h.layout,h._resetLayout=function(){this.getSize();},h.getSize=function(){this.size=i(this.element);},h._getMeasurement=function(f,d){var p=this.options[f],k;p?(typeof p=="string"?k=this.element.querySelector(p):p instanceof HTMLElement&&(k=p),this[f]=k?i(k)[d]:p):this[f]=0;},h.layoutItems=function(f,d){f=this._getItemsForLayout(f),this._layoutItems(f,d),this._postLayout();},h._getItemsForLayout=function(f){return f.filter(function(d){return !d.isIgnored})},h._layoutItems=function(f,d){if(this._emitCompleteOnItems("layout",f),!(!f||!f.length)){var p=[];f.forEach(function(k){var E=this._getItemLayoutPosition(k);E.item=k,E.isInstant=d||k.isLayoutInstant,p.push(E);},this),this._processLayoutQueue(p);}},h._getItemLayoutPosition=function(){return {x:0,y:0}},h._processLayoutQueue=function(f){this.updateStagger(),f.forEach(function(d,p){this._positionItem(d.item,d.x,d.y,d.isInstant,p);},this);},h.updateStagger=function(){var f=this.options.stagger;if(f==null){this.stagger=0;return}return this.stagger=v(f),this.stagger},h._positionItem=function(f,d,p,k,E){k?f.goTo(d,p):(f.stagger(E*this.stagger),f.moveTo(d,p));},h._postLayout=function(){this.resizeContainer();},h.resizeContainer=function(){var f=this._getOption("resizeContainer");if(f){var d=this._getContainerSize();d&&(this._setContainerMeasure(d.width,!0),this._setContainerMeasure(d.height,!1));}},h._getContainerSize=a,h._setContainerMeasure=function(f,d){if(f!==void 0){var p=this.size;p.isBorderBox&&(f+=d?p.paddingLeft+p.paddingRight+p.borderLeftWidth+p.borderRightWidth:p.paddingBottom+p.paddingTop+p.borderTopWidth+p.borderBottomWidth),f=Math.max(f,0),this.element.style[d?"width":"height"]=f+"px";}},h._emitCompleteOnItems=function(f,d){var p=this;function k(){p.dispatchEvent(f+"Complete",null,[d]);}var E=d.length;if(!d||!E){k();return}var A=0;function O(){A++,A==E&&k();}d.forEach(function(D){D.once(f,O);});},h.dispatchEvent=function(f,d,p){var k=d?[d].concat(p):p;if(this.emitEvent(f,k),s)if(this.$element=this.$element||s(this.element),d){var E=s.Event(d);E.type=f,this.$element.trigger(E,p);}else this.$element.trigger(f,p);},h.ignore=function(f){var d=this.getItem(f);d&&(d.isIgnored=!0);},h.unignore=function(f){var d=this.getItem(f);d&&delete d.isIgnored;},h.stamp=function(f){f=this._find(f),f&&(this.stamps=this.stamps.concat(f),f.forEach(this.ignore,this));},h.unstamp=function(f){f=this._find(f),f&&f.forEach(function(d){l.removeFrom(this.stamps,d),this.unignore(d);},this);},h._find=function(f){if(f)return typeof f=="string"&&(f=this.element.querySelectorAll(f)),f=l.makeArray(f),f},h._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this));},h._getBoundingRect=function(){var f=this.element.getBoundingClientRect(),d=this.size;this._boundingRect={left:f.left+d.paddingLeft+d.borderLeftWidth,top:f.top+d.paddingTop+d.borderTopWidth,right:f.right-(d.paddingRight+d.borderRightWidth),bottom:f.bottom-(d.paddingBottom+d.borderBottomWidth)};},h._manageStamp=a,h._getElementOffset=function(f){var d=f.getBoundingClientRect(),p=this._boundingRect,k=i(f),E={left:d.left-p.left-k.marginLeft,top:d.top-p.top-k.marginTop,right:p.right-d.right-k.marginRight,bottom:p.bottom-d.bottom-k.marginBottom};return E},h.handleEvent=l.handleEvent,h.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0;},h.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1;},h.onresize=function(){this.resize();},l.debounceMethod(g,"onresize",100),h.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout();},h.needsResizeLayout=function(){var f=i(this.element),d=this.size&&f;return d&&f.innerWidth!==this.size.innerWidth},h.addItems=function(f){var d=this._itemize(f);return d.length&&(this.items=this.items.concat(d)),d},h.appended=function(f){var d=this.addItems(f);d.length&&(this.layoutItems(d,!0),this.reveal(d));},h.prepended=function(f){var d=this._itemize(f);if(d.length){var p=this.items.slice(0);this.items=d.concat(p),this._resetLayout(),this._manageStamps(),this.layoutItems(d,!0),this.reveal(d),this.layoutItems(p);}},h.reveal=function(f){if(this._emitCompleteOnItems("reveal",f),!(!f||!f.length)){var d=this.updateStagger();f.forEach(function(p,k){p.stagger(k*d),p.reveal();});}},h.hide=function(f){if(this._emitCompleteOnItems("hide",f),!(!f||!f.length)){var d=this.updateStagger();f.forEach(function(p,k){p.stagger(k*d),p.hide();});}},h.revealItemElements=function(f){var d=this.getItems(f);this.reveal(d);},h.hideItemElements=function(f){var d=this.getItems(f);this.hide(d);},h.getItem=function(f){for(var d=0;d<this.items.length;d++){var p=this.items[d];if(p.element==f)return p}},h.getItems=function(f){f=l.makeArray(f);var d=[];return f.forEach(function(p){var k=this.getItem(p);k&&d.push(k);},this),d},h.remove=function(f){var d=this.getItems(f);this._emitCompleteOnItems("remove",d),!(!d||!d.length)&&d.forEach(function(p){p.remove(),l.removeFrom(this.items,p);},this);},h.destroy=function(){var f=this.element.style;f.height="",f.position="",f.width="",this.items.forEach(function(p){p.destroy();}),this.unbindResize();var d=this.element.outlayerGUID;delete u[d],delete this.element.outlayerGUID,s&&s.removeData(this.element,this.constructor.namespace);},g.data=function(f){f=l.getQueryElement(f);var d=f&&f.outlayerGUID;return d&&u[d]},g.create=function(f,d){var p=_(g);return p.defaults=l.extend({},g.defaults),l.extend(p.defaults,d),p.compatOptions=l.extend({},g.compatOptions),p.namespace=f,p.data=g.data,p.Item=_(o),l.htmlInit(p,f),s&&s.bridget&&s.bridget(f,p),p};function _(f){function d(){f.apply(this,arguments);}return d.prototype=Object.create(f.prototype),d.prototype.constructor=d,d}var b={ms:1,s:1e3};function v(f){if(typeof f=="number")return f;var d=f.match(/(^\d*\.?\d*)(\w*)/),p=d&&d[1],k=d&&d[2];if(!p.length)return 0;p=parseFloat(p);var E=b[k]||1;return p*E}return g.Item=o,g});/*!
       * Masonry v4.2.2
       * Cascading grid layout library
       * https://masonry.desandro.com
       * MIT License
       * by David DeSandro
       */(function(e,t){typeof define=="function"&&define.amd?define(["outlayer/outlayer","get-size/get-size"],t):e.Masonry=t(e.Outlayer,e.getSize);})(window,function(t,n){var i=t.create("masonry");i.compatOptions.fitWidth="isFitWidth";var l=i.prototype;return l._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var o=0;o<this.cols;o++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0;},l.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var o=this.items[0],r=o&&o.element;this.columnWidth=r&&n(r).outerWidth||this.containerWidth;}var s=this.columnWidth+=this.gutter,a=this.containerWidth+this.gutter,c=a/s,u=s-a%s,g=u&&u<1?"round":"floor";c=Math[g](c),this.cols=Math.max(c,1);},l.getContainerWidth=function(){var o=this._getOption("fitWidth"),r=o?this.element.parentNode:this.element,s=n(r);this.containerWidth=s&&s.innerWidth;},l._getItemLayoutPosition=function(o){o.getSize();var r=o.size.outerWidth%this.columnWidth,s=r&&r<1?"round":"ceil",a=Math[s](o.size.outerWidth/this.columnWidth);a=Math.min(a,this.cols);for(var c=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",u=this[c](a,o),g={x:this.columnWidth*u.col,y:u.y},h=u.y+o.size.outerHeight,_=a+u.col,b=u.col;b<_;b++)this.colYs[b]=h;return g},l._getTopColPosition=function(o){var r=this._getTopColGroup(o),s=Math.min.apply(Math,r);return {col:r.indexOf(s),y:s}},l._getTopColGroup=function(o){if(o<2)return this.colYs;for(var r=[],s=this.cols+1-o,a=0;a<s;a++)r[a]=this._getColGroupY(a,o);return r},l._getColGroupY=function(o,r){if(r<2)return this.colYs[o];var s=this.colYs.slice(o,o+r);return Math.max.apply(Math,s)},l._getHorizontalColPosition=function(o,r){var s=this.horizontalColIndex%this.cols,a=o>1&&s+o>this.cols;s=a?0:s;var c=r.size.outerWidth&&r.size.outerHeight;return this.horizontalColIndex=c?s+o:this.horizontalColIndex,{col:s,y:this._getColGroupY(s,o)}},l._manageStamp=function(o){var r=n(o),s=this._getElementOffset(o),a=this._getOption("originLeft"),c=a?s.left:s.right,u=c+r.outerWidth,g=Math.floor(c/this.columnWidth);g=Math.max(0,g);var h=Math.floor(u/this.columnWidth);h-=u%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var _=this._getOption("originTop"),b=(_?s.top:s.bottom)+r.outerHeight,v=g;v<=h;v++)this.colYs[v]=Math.max(b,this.colYs[v]);},l._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var o={height:this.maxY};return this._getOption("fitWidth")&&(o.width=this._getContainerFitWidth()),o},l._getContainerFitWidth=function(){for(var o=0,r=this.cols;--r&&this.colYs[r]===0;)o++;return (this.cols-o)*this.columnWidth-this.gutter},l.needsResizeLayout=function(){var o=this.containerWidth;return this.getContainerWidth(),o!=this.containerWidth},i});function Dt(e,{delay:t=0,duration:n=400,easing:i=Ei}={}){const l=+getComputedStyle(e).opacity;return {delay:t,duration:n,easing:i,css:o=>`opacity: ${o*l}`}}const ot=[];function ht(e,t=ve){let n;const i=new Set;function l(s){if(it(e,s)&&(e=s,n)){const a=!ot.length;for(const c of i)c[1](),ot.push(c,e);if(a){for(let c=0;c<ot.length;c+=2)ot[c][0](ot[c+1]);ot.length=0;}}}function o(s){l(s(e));}function r(s,a=ve){const c=[s,a];return i.add(c),i.size===1&&(n=t(l)||ve),s(e),()=>{i.delete(c),i.size===0&&n&&(n(),n=null);}}return {set:l,update:o,subscribe:r}}const Tt={Call:0,Run:0};let kt=null;function vl(e,t){return function(){kt&&(console.warn("debounce dupe!!!!!!"),clearTimeout(kt)),kt=setTimeout(function(){e.apply(this,arguments),kt=null;},t);}}function zi(e,t){let n,i=0;return function(...l){const o=Date.now(),r=o-i;!n&&r>t?(e.apply(this,l),i=o):(clearTimeout(n),n=setTimeout(()=>{e.apply(this,l),i=o,n=null;},t-r));}}const bl=zi(Ai,1500),yl=zi(Ai,30);function Ai(){Tt.Run++,console.log(`呼叫整理次数: ${Tt.Call}   实际整理次数: ${Tt.Run}`),masonry.layout();}function se(e="normal"){Tt.Call++,masonry&&(e==="fast"?yl():bl());}function Wt(){console.log("------------------------NEXUS TOOLS------------------------"),jQuery(document).ready(function(){function e(u,g){let h=g.prop("naturalWidth"),_=g.prop("naturalHeight"),b=h/_,v=0,f=0,d=window.innerWidth-u.clientX,p=window.innerHeight-u.clientY,k=0,E=!1;return u.clientX>window.innerWidth/2&&u.clientX+h>window.innerWidth&&(E=!0,d=u.clientX),u.clientY>window.innerHeight/2&&(u.clientY+_/2>window.innerHeight?(k=1,p=u.clientY):u.clientY+_>window.innerHeight&&(k=2,p=u.clientY)),h>d&&(h=d,_=h/b),_>p&&(_=p,h=_*b),E&&(v=-h),k==1?f=-(_-(window.innerHeight-u.clientY)):k==2&&(f=-_/2),{imgWidth:h,imgHeight:_,offsetX:v,offsetY:f}}function t(u,g){return Math.min(g.width/u.width,g.height/u.height)}function n(u,g){let h=g.prop("naturalWidth")??0,_=g.prop("naturalHeight")??0;const b=u.clientX,v=u.clientY,f=window.innerWidth,d=window.innerHeight,p=v,k=d-v,E=b,A=f-b,O={width:h,height:_},D={bot:{width:f,height:k},top:{width:f,height:p},right:{width:A,height:d},left:{width:E,height:d}};let R=0,T="";for(const I in D)if(Object.hasOwnProperty.call(D,I)){const H=D[I];t(O,H)>R&&(R=t(O,H),T=I);}const N={top:{left:0,top:0,width:f,height:p},bot:{left:0,top:p,width:f,height:k},left:{left:0,top:0,width:E,height:d},right:{left:E,top:0,width:A,height:d},default:{left:0,top:0,width:0,height:0}};return T!=""?N[T]:N.default}function i(u,g){return {left:u.pageX+g.offsetX,top:u.pageY+g.offsetY,width:g.imgWidth,height:g.imgHeight}}const l="img.preview_Kesa";let o,r;if(!jQuery("#nexus-preview").length){const u=document.body.appendChild(document.createElement("img"));u.id="nexus-preview";}jQuery("#nexus-preview");function s(u){const g=jQuery("<div>",{id:"kp_container",css:{backgroundColor:u,opacity:1,position:"fixed",zIndex:2e4,pointerEvents:"none",transition:"all .3s"}});return g.append(jQuery("<img>",{class:"kp_img",css:{position:"absolute",zIndex:20002,pointerEvents:"none",width:"100%",height:"100%",objectFit:"contain"}})),g.append(jQuery("<img>",{class:"kp_img",css:{position:"absolute",zIndex:20001,pointerEvents:"none",width:"100%",height:"100%",objectFit:"cover",filter:"blur(8px)"}})),g}const a=jQuery("#kp_container").length>0?jQuery("#kp_container"):s("");jQuery("body").append(a);let c=null;if(jQuery("body").on("mouseover",l,function(u){o=jQuery(this),c=setTimeout(()=>{if(hn(It)){r=e(u,o),i(u,r);let g=o.attr("src");g&&a&&a.find(".kp_img").attr("src",g),a.css(n(u,o)).show();}},hn(Ct));}).on("mouseout",l,function(u){a.hide(),c&&clearTimeout(c);}).on("mousemove",l,function(u){r=e(u,o),i(u,r),a.css(n(u,o));}),"IntersectionObserver"in window){let u=[...document.querySelectorAll(".nexus-lazy-load_Kesa")];const g=new IntersectionObserver(h=>{h.forEach(_=>{const b=_.target;if(_.intersectionRatio,_.isIntersecting&&!b.classList.contains("preview_Kesa")){const v=b.dataset.src;b.src=v,b.classList.add("preview_Kesa"),se();}});});u.forEach(h=>g.observe(h));}});}function Qe(e,t){const n=localStorage.getItem(e),i=n?JSON.parse(n):t,l=ht(i);return l.subscribe(o=>{localStorage.setItem(e,JSON.stringify(o));}),l}const Bt=ht({}),Ke=ht(0),vt=ht("https://kamept.com/index.php"),Ft=Qe("_domain",""),bt=Qe("_bgColor",""),gn=ht(0),rt=ht(!1),Pt=Qe("_panelPos",{x:0,y:0}),Lt=Qe("_turnPage",!1),qt=Qe("_show_debug_btn",0),It=Qe("_show_nexus_pic",1),Ct=Qe("_delay_nexus_pic",600),jt=Qe("_card_width",200),kl={mt:{hide_gay:!0}},Mt=Qe("_SITE_SETTING",kl);let vn=!1;Mt.subscribe(e=>{vn?(se("fast"),se("fast"),se(),se()):vn=!0;});const wl={all:!1,title:!0,free:!1,sub_title:!1,tags:!1,size_download_collect:!1,upload_time:!1,statistics:!1},pe=Qe("_card_show",wl);let bn=!1;pe.subscribe(e=>{bn?(se("fast"),se("fast"),se(),se()):bn=!0;});function yn(e){let t,n,i,l,o,r;return {c(){t=wt("svg"),n=wt("path"),i=wt("circle"),l=z(),o=w("div"),r=L(e[5]),y(n,"d","M102.6476822,65.245285l-40.2463036,40.1161652c-3.1256676,3.1155624-8.1839256,3.1114655-11.3045425-0.0091476  l-26.7890854-26.789093c-3.1289177-3.1289139-3.1234951-8.2035599,0.0121021-11.3257828l40.077301-39.9063568  C65.8964539,25.8381672,67.9261017,25,70.0419083,25H97c4.4182816,0,8,3.5817223,8,8v26.5792809  C105,61.7055016,104.1535873,63.7442589,102.6476822,65.245285z"),y(n,"fill","yellow"),y(n,"stroke","#000000"),y(n,"stroke-linecap","round"),y(n,"stroke-linejoin","round"),y(n,"stroke-miterlimit","10"),y(n,"stroke-width","4"),y(i,"cx","85"),y(i,"cy","45"),y(i,"fill","red"),y(i,"r","8"),y(i,"stroke","#000000"),y(i,"stroke-linecap","round"),y(i,"stroke-linejoin","round"),y(i,"stroke-miterlimit","10"),y(i,"stroke-width","4"),y(t,"enable-background","new 0 0 128 128"),y(t,"id","Layer_1"),y(t,"version","1.1"),y(t,"viewBox","0 0 128 128"),y(t,"xml:space","preserve"),y(t,"width","28"),y(t,"height","28"),y(t,"class","hint"),y(o,"class","_hint svelte-2vaqag");},m(s,a){S(s,t,a),m(t,n),m(t,i),S(s,l,a),S(s,o,a),m(o,r);},p(s,a){a&32&&j(r,s[5]);},d(s){s&&C(t),s&&C(l),s&&C(o);}}}function kn(e){let t,n;function i(r,s){return r[6]?Ll:r[0]?Tl:El}let l=i(e),o=l(e);return {c(){t=L(`: 

      `),o.c(),n=We();},m(r,s){S(r,t,s),o.m(r,s),S(r,n,s);},p(r,s){l===(l=i(r))&&o?o.p(r,s):(o.d(1),o=l(r),o&&(o.c(),o.m(n.parentNode,n)));},d(r){r&&C(t),o.d(r),r&&C(n);}}}function El(e){let t,n;return {c(){t=w("span"),n=L(e[3]),y(t,"class","title_green svelte-2vaqag");},m(i,l){S(i,t,l),m(t,n);},p(i,l){l&8&&j(n,i[3]);},d(i){i&&C(t);}}}function Tl(e){let t,n;return {c(){t=w("span"),n=L(e[4]),y(t,"class","title_red svelte-2vaqag");},m(i,l){S(i,t,l),m(t,n);},p(i,l){l&16&&j(n,i[4]);},d(i){i&&C(t);}}}function Ll(e){let t;function n(o,r){return o[0]?Cl:Il}let i=n(e),l=i(e);return {c(){l.c(),t=We();},m(o,r){l.m(o,r),S(o,t,r);},p(o,r){i===(i=n(o))&&l?l.p(o,r):(l.d(1),l=i(o),l&&(l.c(),l.m(t.parentNode,t)));},d(o){l.d(o),o&&C(t);}}}function Il(e){let t,n;return {c(){t=w("span"),n=L(e[4]),y(t,"class","title_red svelte-2vaqag");},m(i,l){S(i,t,l),m(t,n);},p(i,l){l&16&&j(n,i[4]);},d(i){i&&C(t);}}}function Cl(e){let t,n;return {c(){t=w("span"),n=L(e[3]),y(t,"class","title_green svelte-2vaqag");},m(i,l){S(i,t,l),m(t,n);},p(i,l){l&8&&j(n,i[3]);},d(i){i&&C(t);}}}function wn(e){let t,n,i,l,o,r;return {c(){t=w("div"),n=w("input"),i=z(),l=w("label"),y(n,"type","checkbox"),y(n,"id","_t"+e[7]),y(n,"class","svelte-2vaqag"),y(l,"for","_t"+e[7]),y(l,"class","svelte-2vaqag"),y(t,"class","s_switch");},m(s,a){S(s,t,a),m(t,n),n.checked=e[0],m(t,i),m(t,l),o||(r=[ee(n,"change",e[10]),ee(n,"change",e[11])],o=!0);},p(s,a){a&1&&(n.checked=s[0]);},d(s){s&&C(t),o=!1,He(r);}}}function En(e){let t;const n=e[9].default,i=Qi(n,e,e[8],null);return {c(){i&&i.c();},m(l,o){i&&i.m(l,o),t=!0;},p(l,o){i&&i.p&&(!t||o&256)&&Vi(i,n,l,l[8],t?$i(n,l[8],o,null):Zi(l[8]),null);},i(l){t||(Q(i,l),t=!0);},o(l){J(i,l),t=!1;},d(l){i&&i.d(l);}}}function Sl(e){let t,n,i,l,o,r,s,a,c=e[5]&&yn(e),u=(e[3]||e[4])&&kn(e),g=e[1]=="switch"&&wn(e),h=e[1]=="range"&&En(e);return {c(){t=w("div"),n=w("div"),c&&c.c(),i=z(),l=L(e[2]),o=z(),u&&u.c(),r=z(),g&&g.c(),s=z(),h&&h.c(),y(n,"class","s_title svelte-2vaqag"),y(n,"title",e[5]),y(t,"class","switch svelte-2vaqag");},m(_,b){S(_,t,b),m(t,n),c&&c.m(n,null),m(n,i),m(n,l),m(n,o),u&&u.m(n,null),m(t,r),g&&g.m(t,null),m(t,s),h&&h.m(t,null),a=!0;},p(_,[b]){_[5]?c?c.p(_,b):(c=yn(_),c.c(),c.m(n,i)):c&&(c.d(1),c=null),(!a||b&4)&&j(l,_[2]),_[3]||_[4]?u?u.p(_,b):(u=kn(_),u.c(),u.m(n,null)):u&&(u.d(1),u=null),(!a||b&32)&&y(n,"title",_[5]),_[1]=="switch"?g?g.p(_,b):(g=wn(_),g.c(),g.m(t,s)):g&&(g.d(1),g=null),_[1]=="range"?h?(h.p(_,b),b&2&&Q(h,1)):(h=En(_),h.c(),Q(h,1),h.m(t,null)):h&&(xe(),J(h,1,1,()=>{h=null;}),et());},i(_){a||(Q(h),a=!0);},o(_){J(h),a=!1;},d(_){_&&C(t),c&&c.d(),u&&u.d(),g&&g.d(),h&&h.d();}}}function Ol(e,t,n){let{$$slots:i={},$$scope:l}=t,{type:o="switch"}=t,{title_fixed:r=""}=t,{title_green:s=""}=t,{title_red:a=""}=t,{label:c=""}=t;const u=Math.random().toFixed(8);let{checked:g=!1}=t,{green_state:h=!0}=t;function _(){g=this.checked,n(0,g);}const b=()=>{console.log(r,g);};return e.$$set=v=>{"type"in v&&n(1,o=v.type),"title_fixed"in v&&n(2,r=v.title_fixed),"title_green"in v&&n(3,s=v.title_green),"title_red"in v&&n(4,a=v.title_red),"label"in v&&n(5,c=v.label),"checked"in v&&n(0,g=v.checked),"green_state"in v&&n(6,h=v.green_state),"$$scope"in v&&n(8,l=v.$$scope);},[g,o,r,s,a,c,h,u,l,i,_,b]}class Be extends _t{constructor(t){super(),dt(this,t,Ol,Sl,it,{type:1,title_fixed:2,title_green:3,title_red:4,label:5,checked:0,green_state:6});}}function Tn(e){let t,n,i,l,o,r,s,a,c,u,g;return {c(){t=w("button"),t.textContent="[d]切换宽度",n=z(),i=w("button"),i.textContent="[d]显示详情",l=z(),o=w("button"),r=L("[d]"),s=L(e[1]),a=z(),c=w("button"),c.textContent="[d]iframe",y(t,"class","sideP__btn svelte-mdsgbd"),y(i,"class","sideP__btn svelte-mdsgbd"),y(o,"class","sideP__btn svelte-mdsgbd"),y(c,"class","sideP__btn svelte-mdsgbd");},m(h,_){S(h,t,_),S(h,n,_),S(h,i,_),S(h,l,_),S(h,o,_),m(o,r),m(o,s),S(h,a,_),S(h,c,_),u||(g=[ee(t,"click",e[15]),ee(i,"click",e[16]),ee(o,"click",e[17]),ee(c,"click",e[18])],u=!0);},p(h,_){_[0]&2&&j(s,h[1]);},d(h){h&&C(t),h&&C(n),h&&C(i),h&&C(l),h&&C(o),h&&C(a),h&&C(c),u=!1,He(g);}}}function Ln(e){let t,n,i,l,o,r,s,a,c,u,g,h,_,b,v,f,d,p,k,E,A,O,D,R,T,N,W,I,H,Y,de,oe,q,ie,re,U,ne,B,ge,ae,we,Ie,le,Ee,Ce,fe,_e,Se,ce,he,Me,be,ye,Oe,me,Te,Pe,ke,Ye,Re,qe,te=e[8]=="kp.m-team.cc"&&In(e);function Ue(P){e[25](P);}let Ge={title_fixed:"加载下一页方式",title_green:"按钮(默认)",title_red:"滚动(谨慎使用)",label:"滚动模式下 MT 等网站频繁使用可能会导致 120",green_state:!1};e[2]!==void 0&&(Ge.checked=e[2]),_=new Be({props:Ge}),ze.push(()=>je(_,"checked",Ue));function Xe(P){e[26](P);}let M={title_fixed:"侧边栏debug按钮",title_green:"隐藏(默认)",title_red:"显示(开发用)",green_state:!1};e[7]!==void 0&&(M.checked=e[7]),f=new Be({props:M}),ze.push(()=>je(f,"checked",Xe));function $e(P){e[27](P);}let Z={title_fixed:"悬浮预览大图",title_green:"默认开启",title_red:"核心功能->确定不用再关"};e[10]!==void 0&&(Z.checked=e[10]),k=new Be({props:Z}),ze.push(()=>je(k,"checked",$e));let F=e[10]&&Cn(e);function X(P){e[32](P);}let G={title_fixed:"卡片信息",title_green:"显示下方所选信息(精简)",title_red:"显示所有信息(较乱)",green_state:!1};e[3].all!==void 0&&(G.checked=e[3].all),Y=new Be({props:G}),ze.push(()=>je(Y,"checked",X)),Y.$on("click",e[19]);function Pi(P){e[33](P);}let $t={title_fixed:"显示种子名称"};e[3].title!==void 0&&($t.checked=e[3].title),ne=new Be({props:$t}),ze.push(()=>je(ne,"checked",Pi));function qi(P){e[34](P);}let Vt={title_fixed:"显示置顶和免费"};e[3].free!==void 0&&(Vt.checked=e[3].free),ae=new Be({props:Vt}),ze.push(()=>je(ae,"checked",qi));function Gi(P){e[35](P);}let Zt={title_fixed:"显示副标题"};e[3].sub_title!==void 0&&(Zt.checked=e[3].sub_title),le=new Be({props:Zt}),ze.push(()=>je(le,"checked",Gi));function Yi(P){e[36](P);}let Jt={title_fixed:"显示标签"};e[3].tags!==void 0&&(Jt.checked=e[3].tags),fe=new Be({props:Jt}),ze.push(()=>je(fe,"checked",Yi));function Bi(P){e[37](P);}let Kt={title_fixed:"显示 [大小/下载/收藏]"};e[3].size_download_collect!==void 0&&(Kt.checked=e[3].size_download_collect),ce=new Be({props:Kt}),ze.push(()=>je(ce,"checked",Bi));function Fi(P){e[38](P);}let xt={title_fixed:"显示上传时间"};e[3].upload_time!==void 0&&(xt.checked=e[3].upload_time),be=new Be({props:xt}),ze.push(()=>je(be,"checked",Fi));function ji(P){e[39](P);}let en={title_fixed:"显示 [评论/上传/下载/完成]"};return e[3].statistics!==void 0&&(en.checked=e[3].statistics),me=new Be({props:en}),ze.push(()=>je(me,"checked",ji)),{c(){t=w("div"),n=w("div"),i=w("div"),l=w("p"),l.textContent="详细配置面板",o=z(),r=w("button"),r.innerHTML='<svg class="feather feather-x" fill="none" height="28" width="28" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><line x1="20" x2="6" y1="6" y2="20"></line><line x1="6" x2="20" y1="6" y2="20"></line></svg>',s=z(),te&&te.c(),a=z(),c=w("div"),u=w("h1"),u.textContent="常用配置",g=z(),h=w("div"),Ae(_.$$.fragment),v=z(),Ae(f.$$.fragment),p=z(),Ae(k.$$.fragment),A=z(),F&&F.c(),O=z(),D=w("button"),D.textContent="切换宽度(开发中)",R=z(),T=z(),N=w("div"),W=w("h1"),W.textContent="卡片信息",I=z(),H=w("div"),Ae(Y.$$.fragment),oe=z(),q=w("div"),ie=w("h3"),ie.textContent="配置常驻卡片信息",re=z(),U=w("div"),Ae(ne.$$.fragment),ge=z(),Ae(ae.$$.fragment),Ie=z(),Ae(le.$$.fragment),Ce=z(),Ae(fe.$$.fragment),Se=z(),Ae(ce.$$.fragment),Me=z(),Ae(be.$$.fragment),Oe=z(),Ae(me.$$.fragment),Pe=z(),y(i,"class","configP_title svelte-mdsgbd"),y(u,"class","s_title"),y(D,"class","sideP__btn svelte-mdsgbd"),y(h,"class","s_panel"),y(c,"class","section svelte-mdsgbd"),y(W,"class","s_title"),y(H,"class","s_panel"),y(ie,"class","s_title"),y(U,"class","s_panel"),y(q,"class","section svelte-mdsgbd"),y(N,"class","section svelte-mdsgbd"),y(n,"class","configP_holder svelte-mdsgbd"),y(t,"class","configP svelte-mdsgbd");},m(P,Le){S(P,t,Le),m(t,n),m(n,i),m(i,l),m(i,o),m(i,r),m(n,s),te&&te.m(n,null),m(n,a),m(n,c),m(c,u),m(c,g),m(c,h),Ne(_,h,null),m(h,v),Ne(f,h,null),m(h,p),Ne(k,h,null),m(h,A),F&&F.m(h,null),m(h,O),m(h,D),m(h,R),m(n,T),m(n,N),m(N,W),m(N,I),m(N,H),Ne(Y,H,null),m(N,oe),m(N,q),m(q,ie),m(q,re),m(q,U),Ne(ne,U,null),m(U,ge),Ne(ae,U,null),m(U,Ie),Ne(le,U,null),m(U,Ce),Ne(fe,U,null),m(U,Se),Ne(ce,U,null),m(U,Me),Ne(be,U,null),m(U,Oe),Ne(me,U,null),m(U,Pe),Ye=!0,Re||(qe=[ee(r,"click",e[23]),ee(D,"click",e[15]),ee(t,"click",nl(e[54]))],Re=!0);},p(P,Le){P[8]=="kp.m-team.cc"?te?(te.p(P,Le),Le[0]&256&&Q(te,1)):(te=In(P),te.c(),Q(te,1),te.m(n,a)):te&&(xe(),J(te,1,1,()=>{te=null;}),et());const tn={};!b&&Le[0]&4&&(b=!0,tn.checked=P[2],Fe(()=>b=!1)),_.$set(tn);const nn={};!d&&Le[0]&128&&(d=!0,nn.checked=P[7],Fe(()=>d=!1)),f.$set(nn);const ln={};!E&&Le[0]&1024&&(E=!0,ln.checked=P[10],Fe(()=>E=!1)),k.$set(ln),P[10]?F?(F.p(P,Le),Le[0]&1024&&Q(F,1)):(F=Cn(P),F.c(),Q(F,1),F.m(h,O)):F&&(xe(),J(F,1,1,()=>{F=null;}),et());const on={};!de&&Le[0]&8&&(de=!0,on.checked=P[3].all,Fe(()=>de=!1)),Y.$set(on);const sn={};!B&&Le[0]&8&&(B=!0,sn.checked=P[3].title,Fe(()=>B=!1)),ne.$set(sn);const rn={};!we&&Le[0]&8&&(we=!0,rn.checked=P[3].free,Fe(()=>we=!1)),ae.$set(rn);const an={};!Ee&&Le[0]&8&&(Ee=!0,an.checked=P[3].sub_title,Fe(()=>Ee=!1)),le.$set(an);const fn={};!_e&&Le[0]&8&&(_e=!0,fn.checked=P[3].tags,Fe(()=>_e=!1)),fe.$set(fn);const cn={};!he&&Le[0]&8&&(he=!0,cn.checked=P[3].size_download_collect,Fe(()=>he=!1)),ce.$set(cn);const un={};!ye&&Le[0]&8&&(ye=!0,un.checked=P[3].upload_time,Fe(()=>ye=!1)),be.$set(un);const dn={};!Te&&Le[0]&8&&(Te=!0,dn.checked=P[3].statistics,Fe(()=>Te=!1)),me.$set(dn);},i(P){Ye||(Q(te),Q(_.$$.fragment,P),Q(f.$$.fragment,P),Q(k.$$.fragment,P),Q(F),Q(Y.$$.fragment,P),Q(ne.$$.fragment,P),Q(ae.$$.fragment,P),Q(le.$$.fragment,P),Q(fe.$$.fragment,P),Q(ce.$$.fragment,P),Q(be.$$.fragment,P),Q(me.$$.fragment,P),ut(()=>{Ye&&(ke||(ke=Nt(t,Dt,{duration:100},!0)),ke.run(1));}),Ye=!0);},o(P){J(te),J(_.$$.fragment,P),J(f.$$.fragment,P),J(k.$$.fragment,P),J(F),J(Y.$$.fragment,P),J(ne.$$.fragment,P),J(ae.$$.fragment,P),J(le.$$.fragment,P),J(fe.$$.fragment,P),J(ce.$$.fragment,P),J(be.$$.fragment,P),J(me.$$.fragment,P),ke||(ke=Nt(t,Dt,{duration:100},!1)),ke.run(0),Ye=!1;},d(P){P&&C(t),te&&te.d(),De(_),De(f),De(k),F&&F.d(),De(Y),De(ne),De(ae),De(le),De(fe),De(ce),De(be),De(me),P&&ke&&ke.end(),Re=!1,He(qe);}}}function In(e){let t,n,i,l,o,r,s;function a(u){e[24](u);}let c={title_fixed:"隐藏Gay分区卡片",title_green:"隐藏(默认)",title_red:"显示(狠人)"};return e[9].mt.hide_gay!==void 0&&(c.checked=e[9].mt.hide_gay),o=new Be({props:c}),ze.push(()=>je(o,"checked",a)),{c(){t=w("div"),n=w("h1"),n.textContent="MT专用配置",i=z(),l=w("div"),Ae(o.$$.fragment),y(n,"class","s_title"),y(l,"class","s_panel"),y(t,"class","section svelte-mdsgbd");},m(u,g){S(u,t,g),m(t,n),m(t,i),m(t,l),Ne(o,l,null),s=!0;},p(u,g){const h={};!r&&g[0]&512&&(r=!0,h.checked=u[9].mt.hide_gay,Fe(()=>r=!1)),o.$set(h);},i(u){s||(Q(o.$$.fragment,u),s=!0);},o(u){J(o.$$.fragment,u),s=!1;},d(u){u&&C(t),De(o);}}}function Cn(e){let t,n;return t=new Be({props:{title_fixed:`悬浮预览延迟${e[11]?":"+e[11]+"ms":""}`,title_red:`${e[11]?"":"无延迟"}`,label:"防止无意滑动时大图打开妨碍预览",type:"range",$$slots:{default:[Nl]},$$scope:{ctx:e}}}),{c(){Ae(t.$$.fragment);},m(i,l){Ne(t,i,l),n=!0;},p(i,l){const o={};l[0]&2048&&(o.title_fixed=`悬浮预览延迟${i[11]?":"+i[11]+"ms":""}`),l[0]&2048&&(o.title_red=`${i[11]?"":"无延迟"}`),l[0]&2048|l[2]&8&&(o.$$scope={dirty:l,ctx:i}),t.$set(o);},i(i){n||(Q(t.$$.fragment,i),n=!0);},o(i){J(t.$$.fragment,i),n=!1;},d(i){De(t,i);}}}function Nl(e){let t,n,i;return {c(){t=w("input"),y(t,"type","range"),y(t,"min","0"),y(t,"max","1500"),y(t,"step","100"),y(t,"list","values");},m(l,o){S(l,t,o),mn(t,e[11]),n||(i=[ee(t,"change",e[28]),ee(t,"input",e[28])],n=!0);},p(l,o){o[0]&2048&&mn(t,l[11]);},d(l){l&&C(t),n=!1,He(i);}}}function Dl(e){let t,n,i,l,o,r,s,a,c,u,g,h,_,b,v=e[7]&&Tn(e),f=e[6]&&Ln(e);return {c(){t=w("div"),n=w("div"),i=z(),l=w("div"),o=w("button"),o.innerHTML=`<div><svg viewBox="0 0 32 32" width="20" height="20" xmlns="http://www.w3.org/2000/svg"><defs><style>.cls-1 {
                fill: none;
                stroke: #000;
                stroke-linecap: round;
                stroke-linejoin: round;
                stroke-width: 2px;
              }
            </style></defs><title></title><g data-name="43-browser" id="_43-browser"><rect class="cls-1" height="30" width="30" x="1" y="1"></rect><line class="cls-1" x1="1" x2="31" y1="9" y2="9"></line><line class="cls-1" x1="5" x2="7" y1="5" y2="5"></line><line class="cls-1" x1="11" x2="13" y1="5" y2="5"></line><line class="cls-1" x1="9" x2="25" y1="16" y2="16"></line><line class="cls-1" x1="7" x2="25" y1="20" y2="20"></line><line class="cls-1" x1="7" x2="25" y1="24" y2="24"></line></g></svg></div> 
      <div>原有列表</div>`,r=z(),s=w("button"),s.innerHTML=`<div><svg width="20" height="20" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><defs><style>.cls-1 {
                fill: none;
                stroke: #fff;
                stroke-linecap: round;
                stroke-linejoin: round;
                stroke-width: 2px;
              }
            </style></defs><title></title><g data-name="80-setting" id="_80-setting"><circle class="cls-1" cx="10" cy="6" r="3"></circle><circle class="cls-1" cx="22" cy="16" r="3"></circle><circle class="cls-1" cx="10" cy="26" r="3"></circle><line class="cls-1" x1="7" x2="1" y1="6" y2="6"></line><line class="cls-1" x1="15" x2="1" y1="16" y2="16"></line><line class="cls-1" x1="7" x2="1" y1="26" y2="26"></line><line class="cls-1" x1="31" x2="17" y1="26" y2="26"></line><line class="cls-1" x1="31" x2="25" y1="16" y2="16"></line><line class="cls-1" x1="31" x2="17" y1="6" y2="6"></line></g></svg></div> 
      <div>详细配置</div>`,a=z(),v&&v.c(),c=z(),f&&f.c(),u=z(),g=w("div"),g.textContent="重置瀑布流配置边栏位置",y(n,"class","sideP__title svelte-mdsgbd"),y(o,"class","sideP__btn svelte-mdsgbd"),y(s,"class","sideP__btn svelte-mdsgbd"),y(l,"class","sideP__out svelte-mdsgbd"),y(t,"class","sideP svelte-mdsgbd"),x(t,"top",e[4].y+"px"),x(t,"left",e[4].x+"px"),x(t,"background-color",e[5]),y(g,"id","reset_panel_pos"),y(g,"class","svelte-mdsgbd");},m(d,p){S(d,t,p),m(t,n),m(t,i),m(t,l),m(l,o),m(l,r),m(l,s),m(l,a),v&&v.m(l,null),e[22](t),S(d,c,p),f&&f.m(d,p),S(d,u,p),S(d,g,p),h=!0,_||(b=[ee(n,"mousedown",e[12]),ee(o,"click",e[14]),ee(s,"click",e[21]),ee(g,"click",e[13])],_=!0);},p(d,p){d[7]?v?v.p(d,p):(v=Tn(d),v.c(),v.m(l,null)):v&&(v.d(1),v=null),(!h||p[0]&16)&&x(t,"top",d[4].y+"px"),(!h||p[0]&16)&&x(t,"left",d[4].x+"px"),(!h||p[0]&32)&&x(t,"background-color",d[5]),d[6]?f?(f.p(d,p),p[0]&64&&Q(f,1)):(f=Ln(d),f.c(),Q(f,1),f.m(u.parentNode,u)):f&&(xe(),J(f,1,1,()=>{f=null;}),et());},i(d){h||(Q(f),h=!0);},o(d){J(f),h=!1;},d(d){d&&C(t),v&&v.d(),e[22](null),d&&C(c),f&&f.d(d),d&&C(u),d&&C(g),_=!1,He(b);}}}function Sn(e,t,n){return e<=t&&(e=t),e>=n&&(e=n),e}function Ml(e,t,n){let i,l,o,r,s,a,c,u,g,h,_,b,v;K(e,Ke,M=>n(58,i=M)),K(e,Lt,M=>n(2,l=M)),K(e,pe,M=>n(3,o=M)),K(e,jt,M=>n(59,r=M)),K(e,Bt,M=>n(60,M)),K(e,gn,M=>n(61,s=M)),K(e,Pt,M=>n(4,a=M)),K(e,bt,M=>n(5,c=M)),K(e,rt,M=>n(6,u=M)),K(e,qt,M=>n(7,g=M)),K(e,Ft,M=>n(8,h=M)),K(e,Mt,M=>n(9,_=M)),K(e,It,M=>n(10,b=M)),K(e,Ct,M=>n(11,v=M));let f,d=!1,p=0,k=0;const E=M=>{M.preventDefault(),d=!0,p=M.clientX-f.getBoundingClientRect().left,k=M.clientY-f.getBoundingClientRect().top;},A=M=>{if(!d)return;const $e=Sn(M.clientX-p,0,window.innerWidth-(f.getBoundingClientRect().width+5)),Z=Sn(M.clientY-k,0,window.innerHeight-(f.getBoundingClientRect().height+5));ue(Pt,a={x:$e,y:Z},a);},O=()=>{d=!1;};function D(){a.x==0&&a.y==0&&alert("无需重置瀑布流边栏位置"),ue(Pt,a={x:0,y:0},a);}let{originTable:R}=t;function T(){ue(gn,s=s==0?1:0,s),n(20,R.style.display=s===1?"":"none",R);}function N(){ue(jt,r=r==300?200:300,r),console.log(`[debug]$card_width: ${r}`),de();}function W(){ue(pe,o.all=!o.all,o),de();}let I=l?"滚动加载":"按钮加载";function H(){ue(Lt,l=!l,l),n(1,I=l?"滚动加载":"按钮加载");}function Y(){ue(Ke,i=i==0?1:0,i);}function de(){se("fast"),se("fast"),se(),se();}Xt(()=>(window.addEventListener("mousemove",A),window.addEventListener("mouseup",O),()=>{window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",O);}));const oe=()=>{ue(rt,u=!u,u);};function q(M){ze[M?"unshift":"push"](()=>{f=M,n(0,f);});}const ie=()=>ue(rt,u=!1,u);function re(M){e.$$.not_equal(_.mt.hide_gay,M)&&(_.mt.hide_gay=M,Mt.set(_));}function U(M){l=M,Lt.set(l);}function ne(M){g=M,qt.set(g);}function B(M){b=M,It.set(b);}function ge(){v=il(this.value),Ct.set(v);}const ae=()=>{ue(qt,g=!g,g);},we=()=>{ue(It,b=!b,b);},Ie=()=>{ue(Ct,v=v==0?600:0,v);};function le(M){e.$$.not_equal(o.all,M)&&(o.all=M,pe.set(o));}function Ee(M){e.$$.not_equal(o.title,M)&&(o.title=M,pe.set(o));}function Ce(M){e.$$.not_equal(o.free,M)&&(o.free=M,pe.set(o));}function fe(M){e.$$.not_equal(o.sub_title,M)&&(o.sub_title=M,pe.set(o));}function _e(M){e.$$.not_equal(o.tags,M)&&(o.tags=M,pe.set(o));}function Se(M){e.$$.not_equal(o.size_download_collect,M)&&(o.size_download_collect=M,pe.set(o));}function ce(M){e.$$.not_equal(o.upload_time,M)&&(o.upload_time=M,pe.set(o));}function he(M){e.$$.not_equal(o.statistics,M)&&(o.statistics=M,pe.set(o));}function Me(){o.title=this.checked,pe.set(o);}const be=()=>{se();};function ye(){o.free=this.checked,pe.set(o);}const Oe=()=>{se();};function me(){o.sub_title=this.checked,pe.set(o);}const Te=()=>{se();};function Pe(){o.tags=this.checked,pe.set(o);}const ke=()=>{se();};function Ye(){o.size_download_collect=this.checked,pe.set(o);}const Re=()=>{se();};function qe(){o.upload_time=this.checked,pe.set(o);}const te=()=>{se();};function Ue(){o.statistics=this.checked,pe.set(o);}const Ge=()=>{se();},Xe=()=>ue(rt,u=!1,u);return e.$$set=M=>{"originTable"in M&&n(20,R=M.originTable);},[f,I,l,o,a,c,u,g,h,_,b,v,E,D,T,N,W,H,Y,de,R,oe,q,ie,re,U,ne,B,ge,ae,we,Ie,le,Ee,Ce,fe,_e,Se,ce,he,Me,be,ye,Oe,me,Te,Pe,ke,Ye,Re,qe,te,Ue,Ge,Xe]}class Rl extends _t{constructor(t){super(),dt(this,t,Ml,Dl,it,{originTable:20},null,[-1,-1,-1]);}}const Ve={torrentListTable:"table.torrents",TORRENT_LIST_TO_JSON:zl,LOADING_PIC:"pic/logo2_100.png",ICON:{},CATEGORY:{410:"#FF66FF",413:"#FF66FF",414:"#FF66FF",417:"#59CD90",433:"#59CD90",434:"#59CD90",424:"#59CD90",435:"#59CD90",411:"#FAC05E",419:"#FAC05E",423:"#FAC05E",420:"#3FA7D6",421:"#3FA7D6",422:"#3FA7D6",437:"#3FA7D6",415:"#EE6352",418:"#EE6352"},INDEX:0,Iframe_Width:1260,special:function(){$("ksearchboxmain")&&($("ksearchboxmain").style.display="none");const e=document.querySelector('a[href="?sort=7&type=asc&seeders_begin=1"]');e&&(e.childNodes[0].style.color="black");}};function zl(e){const t=e.querySelectorAll("tbody tr"),n=[];return t.forEach(i=>{const l=i.querySelector("td:nth-child(1) > a > img"),o=l?l.alt:"";if(!o)return;const s=l.parentNode.href,a=s.slice(-3),c=l.cloneNode(!0);c.className="card-category-img";const u=Ve.INDEX++,g=i.querySelector(".torrentname a"),h=g?g.textContent.trim():"",_=g.href,b=/id=(\d+)&hit/,v=_.match(b),f=v?parseInt(v[1]):null,d=i.querySelector(".torrentname img").getAttribute("data-src"),p=i.querySelector(".torrentname td:nth-child(2)"),k=p.childNodes.length-1,E=p.childNodes[k],A=E.nodeName=="#text"?E.textContent.trim():"",O=i.querySelectorAll(".torrentname img.sticky"),D=O[0]?O[0].title:"",R=Array.from(i.querySelectorAll(".torrentname font")),T=i.querySelector('img[class^="pro_"]'),N=T?"_"+T.alt.replace(/\s+/g,""):"",W=N?R.pop():"",I=W?W.innerText:"",H=i.querySelectorAll(".torrentname span"),Y=Array.from(H);let de=H?Y.map(he=>he.textContent.trim()):[];I!=""&&(de.shift(),Y.shift());const oe=Y.map(he=>he.outerHTML).join(""),q=`download.php?id=${f}`,ie=`javascript: bookmark(${f},${u});`,U=i.querySelector(".torrentname a[id^='bookmark']").children[0].alt,ne=i.querySelector("td.rowfollow:nth-child(3) a"),B=ne?parseInt(ne.textContent):0,ge=i.querySelector("td:nth-child(4) span"),ae=ge?ge.title:"",we=i.querySelector("td:nth-child(5)"),Ie=we?we.textContent.trim():"",le=i.querySelector("td:nth-child(6) a"),Ee=le?parseInt(le.textContent):0,Ce=i.querySelector("td:nth-child(7)"),fe=Ce?parseInt(Ce.textContent):0,_e=i.querySelector("td:nth-child(8) a"),Se=_e?parseInt(_e.textContent):0,ce={torrentIndex:u,_categoryImg:c,category:o,categoryLink:s,categoryNumber:a,torrent_name:h,torrentLink:_,torrentId:f,picLink:d,place_at_the_top:O,pattMsg:D,downloadLink:q,collectLink:ie,collectState:U,tempTagDom:R,freeTypeImg:T,free_type:N,free_remaining_time:I,raw_tags:oe,tagsDOM:Y,tags:de,description:A,upload_date:ae,comments:B,size:Ie,seeders:Ee,leechers:fe,snatched:Se};n.push(ce);}),n}const Ze={torrentListTable:"table.torrents",TORRENT_LIST_TO_JSON:Al,LOADING_PIC:"logo.png",ICON:{},CATEGORY:{410:"#f52bcb",429:"#f52bcb",424:"#db55a9",430:"#db55a9",437:"#f77afa",426:"#f77afa",431:"#19a7ec",432:"#19a7ec",440:"#f52bcb",436:"#bb1e9a",425:"#bb1e9a",433:"#bb1e9a",411:"#f49800",412:"#f49800",413:"#f49800",401:"#c74854",419:"#c01a20",420:"#c74854",421:"#00a0e9",439:"#1b2a51",403:"#c74854",402:"#276fb8",435:"#4dbebd ",438:"#1897d6",404:"#23ac38",405:"#996c34",407:"#23ac38",422:"#f39800",423:"#f39800",427:"#f39800",409:"#996c34",406:"#8a57a1",408:"#8a57a1",434:"#8a57a1"},INDEX:0,Iframe_Width:1260,special:function(){console.log("23333333333333333333");}};function Al(e){const t=e.querySelectorAll("tbody tr"),n=[];return t.forEach(i=>{const l=i.querySelector("td:nth-child(1) > a > img"),o=l?l.title:"";if(!o)return;const s=l.parentNode.href,a=s.slice(-3),c=l.style.backgroundImage,u=/url\("(.*)"\)/,g=c.match(u),h=g&&g.length>1?g[1]:null,_=Ze.INDEX++,b=i.querySelector(".torrentname a"),v=b?b.title.trim():"",f=b.href,d=/id=(\d+)&hit/,p=f.match(d),k=p?parseInt(p[1]):null,A=i.querySelector(".torrentname img").getAttribute("onmouseover"),O=A?A.split(",")[2].toString():"",D=O?O.slice(O.indexOf("'")+1,O.lastIndexOf("'")):"/pic/nopic.jpg",R=i.querySelector(".torrentname td:nth-child(2)"),T=R.childNodes.length-1,N=R.childNodes[T],W=N.nodeName=="#text"?N.textContent.trim():"",I=i.querySelectorAll(".torrentname img.sticky"),H=I[0]?I[0].title:"",Y=i.querySelectorAll(".torrentname font"),de=i.querySelector('img[class^="pro_"]'),oe=de?"_"+de.alt.replace(/\s+/g,""):"",q=i.querySelector(".torrentname td:nth-child(2) span"),ie=q?q.innerText:"",re=i.querySelectorAll(".torrentname img[class^='label_']"),U=Array.from(re);let ne=re?U.map(Te=>Te.title.trim()):[];const B=U.map(Te=>Te.outerHTML).join("&nbsp;"),ge=`download.php?id=${k}`,ae=`javascript: bookmark(${k},${_});`,Ie=i.querySelector(".torrentname a[id^='bookmark']").children[0].alt,le=i.querySelector("td.rowfollow:nth-child(3) a"),Ee=le?parseInt(le.textContent):0,Ce=i.querySelector("td:nth-child(4) span"),fe=Ce?Ce.title:"",_e=i.querySelector("td:nth-child(5)"),Se=_e?_e.textContent.trim():"",ce=i.querySelector("td:nth-child(6) a"),he=ce?parseInt(ce.textContent):0,Me=i.querySelector("td:nth-child(7)"),be=Me?parseInt(Me.textContent):0,ye=i.querySelector("td:nth-child(8) a"),Oe=ye?parseInt(ye.textContent):0,me={torrentIndex:_,_categoryImg:h,category:o,categoryLink:s,categoryNumber:a,torrent_name:v,torrentLink:f,torrentId:k,picLink:D,place_at_the_top:I,pattMsg:H,downloadLink:ge,collectLink:ae,collectState:Ie,tempTagDom:Y,freeTypeImg:de,free_type:oe,free_remaining_time:ie,raw_tags:B,tagsDOM:U,tags:ne,description:W,comments:Ee,upload_date:fe,size:Se,seeders:he,leechers:be,snatched:Oe};n.push(me);}),n}const tt={"kamept.com":Ve,"kp.m-team.cc":Ze};function Hi(){return window.location.hostname}function Qt(){var n;const e=Hi();console.log("|-> 当前站点: ",e),console.log("|-> 当前页面: ",window.location.pathname);const t=((n=tt[e])==null?void 0:n.torrentListTable)??null;return console.log("|-> 站点selector:",t),t}function On(e){let t,n,i,l=(e[0].tempTagDom?e[0].tempTagDom.map(Qn).join("&nbsp;"):"")+"",o,r,s=e[0].torrent_name+"",a,c;return {c(){t=w("div"),n=w("a"),i=new V(!1),o=z(),r=w("b"),a=L(s),i.a=o,y(n,"class","two-lines svelte-vdh3h6"),y(n,"href",c=e[0].torrentLink),y(n,"target","_blank"),y(t,"class","card-title svelte-vdh3h6");},m(u,g){S(u,t,g),m(t,n),i.m(l,n),m(n,o),m(n,r),m(r,a);},p(u,g){g&1&&l!==(l=(u[0].tempTagDom?u[0].tempTagDom.map(Qn).join("&nbsp;"):"")+"")&&i.p(l),g&1&&s!==(s=u[0].torrent_name+"")&&j(a,s),g&1&&c!==(c=u[0].torrentLink)&&y(n,"href",c);},d(u){u&&C(t);}}}function Nn(e){let t,n,i,l=e[0].tagsDOM.map(e[10]).join("")+"",o,r,s,a,c,u=e[2].SIZE+"",g,h=e[0].size+"",_,b,v,f,d=e[2].DOWNLOAD+"",p,k,E,A,O,D,R,T,N,W=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"",I,H,Y,de,oe,q,ie,re=e[0].upload_date+"",U,ne,B,ge,ae=e[2].COMMENT+"",we,Ie,le=e[0].comments+"",Ee,Ce,fe,_e=e[2].SEEDERS+"",Se,ce,he=e[0].seeders+"",Me,be,ye,Oe=e[2].LEECHERS+"",me,Te,Pe=e[0].leechers+"",ke,Ye,Re,qe=e[2].SNATCHED+"",te,Ue,Ge=e[0].snatched+"",Xe,M,$e,Z=(e[0].free_type||e[0].pattMsg)&&Dn(e),F=e[0].description&&An(e);return {c(){Z&&Z.c(),t=z(),F&&F.c(),n=z(),i=w("div"),o=z(),r=w("div"),s=w("div"),a=w("div"),c=new V(!1),g=L(" "),_=L(h),b=L(`

          
            
          `),v=w("div"),f=new V(!1),p=L(` 
            `),k=w("b"),E=w("a"),A=L("下载"),D=L(`

          
            
          `),R=w("div"),T=w("div"),N=new V(!1),I=L(`
               `),H=w("b"),H.textContent="收藏",de=z(),oe=w("div"),q=w("b"),q.textContent="上传时间:",ie=z(),U=L(re),ne=z(),B=w("div"),ge=new V(!1),we=L(" "),Ie=w("b"),Ee=L(le),Ce=L(`  
          `),fe=new V(!1),Se=L(" "),ce=w("b"),Me=L(he),be=L(`  
          `),ye=new V(!1),me=L(" "),Te=w("b"),ke=L(Pe),Ye=L(`  
          `),Re=new V(!1),te=L(" "),Ue=w("b"),Xe=L(Ge),y(i,"class","cl-tags svelte-vdh3h6"),c.a=g,y(a,"class","cl-center svelte-vdh3h6"),f.a=p,y(E,"href",O=e[0].downloadLink),y(v,"class","cl-center svelte-vdh3h6"),N.a=I,y(T,"class","btnCollet cl-center svelte-vdh3h6"),y(T,"id",Y="tI_"+e[0].torrentIndex),y(R,"class","cl-center svelte-vdh3h6"),y(s,"class","card-line svelte-vdh3h6"),y(oe,"class","card-line svelte-vdh3h6"),ge.a=we,fe.a=Se,ye.a=me,Re.a=te,y(B,"class","card-line svelte-vdh3h6"),y(r,"class","card-details svelte-vdh3h6");},m(X,G){Z&&Z.m(X,G),S(X,t,G),F&&F.m(X,G),S(X,n,G),S(X,i,G),i.innerHTML=l,S(X,o,G),S(X,r,G),m(r,s),m(s,a),c.m(u,a),m(a,g),m(a,_),m(s,b),m(s,v),f.m(d,v),m(v,p),m(v,k),m(k,E),m(E,A),m(s,D),m(s,R),m(R,T),N.m(W,T),m(T,I),m(T,H),m(r,de),m(r,oe),m(oe,q),m(oe,ie),m(oe,U),m(r,ne),m(r,B),ge.m(ae,B),m(B,we),m(B,Ie),m(Ie,Ee),m(B,Ce),fe.m(_e,B),m(B,Se),m(B,ce),m(ce,Me),m(B,be),ye.m(Oe,B),m(B,me),m(B,Te),m(Te,ke),m(B,Ye),Re.m(qe,B),m(B,te),m(B,Ue),m(Ue,Xe),M||($e=ee(T,"click",function(){nt(Rt(e[0].collectLink,"tI_"+e[0].torrentIndex))&&Rt(e[0].collectLink,"tI_"+e[0].torrentIndex).apply(this,arguments);}),M=!0);},p(X,G){e=X,e[0].free_type||e[0].pattMsg?Z?Z.p(e,G):(Z=Dn(e),Z.c(),Z.m(t.parentNode,t)):Z&&(Z.d(1),Z=null),e[0].description?F?F.p(e,G):(F=An(e),F.c(),F.m(n.parentNode,n)):F&&(F.d(1),F=null),G&1&&l!==(l=e[0].tagsDOM.map(e[10]).join("")+"")&&(i.innerHTML=l),G&4&&u!==(u=e[2].SIZE+"")&&c.p(u),G&1&&h!==(h=e[0].size+"")&&j(_,h),G&4&&d!==(d=e[2].DOWNLOAD+"")&&f.p(d),G&1&&O!==(O=e[0].downloadLink)&&y(E,"href",O),G&5&&W!==(W=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"")&&N.p(W),G&1&&Y!==(Y="tI_"+e[0].torrentIndex)&&y(T,"id",Y),G&1&&re!==(re=e[0].upload_date+"")&&j(U,re),G&4&&ae!==(ae=e[2].COMMENT+"")&&ge.p(ae),G&1&&le!==(le=e[0].comments+"")&&j(Ee,le),G&4&&_e!==(_e=e[2].SEEDERS+"")&&fe.p(_e),G&1&&he!==(he=e[0].seeders+"")&&j(Me,he),G&4&&Oe!==(Oe=e[2].LEECHERS+"")&&ye.p(Oe),G&1&&Pe!==(Pe=e[0].leechers+"")&&j(ke,Pe),G&4&&qe!==(qe=e[2].SNATCHED+"")&&Re.p(qe),G&1&&Ge!==(Ge=e[0].snatched+"")&&j(Xe,Ge);},d(X){Z&&Z.d(X),X&&C(t),F&&F.d(X),X&&C(n),X&&C(i),X&&C(o),X&&C(r),M=!1,$e();}}}function Dn(e){let t,n,i,l,o,r=e[0].place_at_the_top.length!=0&&Mn(e),s=e[0].freeTypeImg&&Rn(e),a=e[0].free_remaining_time&&zn(e);return {c(){t=w("div"),n=w("div"),r&&r.c(),i=z(),s&&s.c(),l=z(),a&&a.c(),y(n,"class",o="top_and_free "+e[0].free_type+" svelte-vdh3h6"),y(t,"class","card-alter svelte-vdh3h6");},m(c,u){S(c,t,u),m(t,n),r&&r.m(n,null),m(n,i),s&&s.m(n,null),m(n,l),a&&a.m(n,null);},p(c,u){c[0].place_at_the_top.length!=0?r?r.p(c,u):(r=Mn(c),r.c(),r.m(n,i)):r&&(r.d(1),r=null),c[0].freeTypeImg?s?s.p(c,u):(s=Rn(c),s.c(),s.m(n,l)):s&&(s.d(1),s=null),c[0].free_remaining_time?a?a.p(c,u):(a=zn(c),a.c(),a.m(n,null)):a&&(a.d(1),a=null),u&1&&o!==(o="top_and_free "+c[0].free_type+" svelte-vdh3h6")&&y(n,"class",o);},d(c){c&&C(t),r&&r.d(),s&&s.d(),a&&a.d();}}}function Mn(e){let t,n=Array.from(e[0].place_at_the_top).map($n)+"&nbsp;",i;return {c(){t=new V(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=Array.from(l[0].place_at_the_top).map($n)+"&nbsp;")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function Rn(e){let t,n=e[0].freeTypeImg.outerHTML+"",i;return {c(){t=new V(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=l[0].freeTypeImg.outerHTML+"")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function zn(e){let t,n,i=e[0].free_remaining_time+"",l;return {c(){t=L(" "),n=w("b"),l=L(i);},m(o,r){S(o,t,r),S(o,n,r),m(n,l);},p(o,r){r&1&&i!==(i=o[0].free_remaining_time+"")&&j(l,i);},d(o){o&&C(t),o&&C(n);}}}function An(e){let t,n=e[0].description+"",i,l;return {c(){t=w("a"),i=L(n),y(t,"class","card-description svelte-vdh3h6"),y(t,"href",l=e[0].torrentLink);},m(o,r){S(o,t,r),m(t,i);},p(o,r){r&1&&n!==(n=o[0].description+"")&&j(i,n),r&1&&l!==(l=o[0].torrentLink)&&y(t,"href",l);},d(o){o&&C(t);}}}function Hn(e){let t,n,i,l,o,r,s=e[5].free&&(e[0].free_type||e[0].pattMsg)&&Wn(e),a=e[5].sub_title&&e[0].description&&Yn(e),c=e[5].tags&&Bn(e),u=e[5].size_download_collect&&Fn(e),g=e[5].upload_time&&jn(e),h=e[5].statistics&&Un(e);return {c(){s&&s.c(),t=z(),a&&a.c(),n=z(),c&&c.c(),i=z(),l=w("div"),u&&u.c(),o=z(),g&&g.c(),r=z(),h&&h.c(),y(l,"class","card-details svelte-vdh3h6");},m(_,b){s&&s.m(_,b),S(_,t,b),a&&a.m(_,b),S(_,n,b),c&&c.m(_,b),S(_,i,b),S(_,l,b),u&&u.m(l,null),m(l,o),g&&g.m(l,null),m(l,r),h&&h.m(l,null);},p(_,b){_[5].free&&(_[0].free_type||_[0].pattMsg)?s?s.p(_,b):(s=Wn(_),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),_[5].sub_title&&_[0].description?a?a.p(_,b):(a=Yn(_),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),_[5].tags?c?c.p(_,b):(c=Bn(_),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null),_[5].size_download_collect?u?u.p(_,b):(u=Fn(_),u.c(),u.m(l,o)):u&&(u.d(1),u=null),_[5].upload_time?g?g.p(_,b):(g=jn(_),g.c(),g.m(l,r)):g&&(g.d(1),g=null),_[5].statistics?h?h.p(_,b):(h=Un(_),h.c(),h.m(l,null)):h&&(h.d(1),h=null);},d(_){s&&s.d(_),_&&C(t),a&&a.d(_),_&&C(n),c&&c.d(_),_&&C(i),_&&C(l),u&&u.d(),g&&g.d(),h&&h.d();}}}function Wn(e){let t,n,i,l,o,r=e[0].place_at_the_top.length!=0&&Pn(e),s=e[0].freeTypeImg&&qn(e),a=e[0].free_remaining_time&&Gn(e);return {c(){t=w("div"),n=w("div"),r&&r.c(),i=z(),s&&s.c(),l=z(),a&&a.c(),y(n,"class",o="top_and_free "+e[0].free_type+" svelte-vdh3h6"),y(t,"class","card-alter svelte-vdh3h6");},m(c,u){S(c,t,u),m(t,n),r&&r.m(n,null),m(n,i),s&&s.m(n,null),m(n,l),a&&a.m(n,null);},p(c,u){c[0].place_at_the_top.length!=0?r?r.p(c,u):(r=Pn(c),r.c(),r.m(n,i)):r&&(r.d(1),r=null),c[0].freeTypeImg?s?s.p(c,u):(s=qn(c),s.c(),s.m(n,l)):s&&(s.d(1),s=null),c[0].free_remaining_time?a?a.p(c,u):(a=Gn(c),a.c(),a.m(n,null)):a&&(a.d(1),a=null),u&1&&o!==(o="top_and_free "+c[0].free_type+" svelte-vdh3h6")&&y(n,"class",o);},d(c){c&&C(t),r&&r.d(),s&&s.d(),a&&a.d();}}}function Pn(e){let t,n=Array.from(e[0].place_at_the_top).map(Vn)+"&nbsp;",i;return {c(){t=new V(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=Array.from(l[0].place_at_the_top).map(Vn)+"&nbsp;")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function qn(e){let t,n=e[0].freeTypeImg.outerHTML+"",i;return {c(){t=new V(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=l[0].freeTypeImg.outerHTML+"")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function Gn(e){let t,n,i=e[0].free_remaining_time+"",l;return {c(){t=L(" "),n=w("b"),l=L(i);},m(o,r){S(o,t,r),S(o,n,r),m(n,l);},p(o,r){r&1&&i!==(i=o[0].free_remaining_time+"")&&j(l,i);},d(o){o&&C(t),o&&C(n);}}}function Yn(e){let t,n=e[0].description+"",i,l;return {c(){t=w("a"),i=L(n),y(t,"class","card-description svelte-vdh3h6"),y(t,"href",l=e[0].torrentLink);},m(o,r){S(o,t,r),m(t,i);},p(o,r){r&1&&n!==(n=o[0].description+"")&&j(i,n),r&1&&l!==(l=o[0].torrentLink)&&y(t,"href",l);},d(o){o&&C(t);}}}function Bn(e){let t,n=e[0].tagsDOM.map(e[11]).join("")+"";return {c(){t=w("div"),y(t,"class","cl-tags svelte-vdh3h6");},m(i,l){S(i,t,l),t.innerHTML=n;},p(i,l){l&1&&n!==(n=i[0].tagsDOM.map(i[11]).join("")+"")&&(t.innerHTML=n);},d(i){i&&C(t);}}}function Fn(e){let t,n,i,l=e[2].SIZE+"",o,r=e[0].size+"",s,a,c,u,g=e[2].DOWNLOAD+"",h,_,b,v,f,d,p,k,E,A=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"",O,D,R,T,N;return {c(){t=w("div"),n=w("div"),i=new V(!1),o=L(" "),s=L(r),a=L(`

            
              
            `),c=w("div"),u=new V(!1),h=L(` 
              `),_=w("b"),b=w("a"),v=L("下载"),d=L(`

            
              
            `),p=w("div"),k=w("div"),E=new V(!1),O=L(`
                 `),D=w("b"),D.textContent="收藏",i.a=o,y(n,"class","cl-center svelte-vdh3h6"),u.a=h,y(b,"href",f=e[0].downloadLink),y(c,"class","cl-center svelte-vdh3h6"),E.a=O,y(k,"class","btnCollet cl-center svelte-vdh3h6"),y(k,"id",R="tI_"+e[0].torrentIndex),y(p,"class","cl-center svelte-vdh3h6"),y(t,"class","card-line svelte-vdh3h6");},m(W,I){S(W,t,I),m(t,n),i.m(l,n),m(n,o),m(n,s),m(t,a),m(t,c),u.m(g,c),m(c,h),m(c,_),m(_,b),m(b,v),m(t,d),m(t,p),m(p,k),E.m(A,k),m(k,O),m(k,D),T||(N=ee(k,"click",function(){nt(Rt(e[0].collectLink,"tI_"+e[0].torrentIndex))&&Rt(e[0].collectLink,"tI_"+e[0].torrentIndex).apply(this,arguments);}),T=!0);},p(W,I){e=W,I&4&&l!==(l=e[2].SIZE+"")&&i.p(l),I&1&&r!==(r=e[0].size+"")&&j(s,r),I&4&&g!==(g=e[2].DOWNLOAD+"")&&u.p(g),I&1&&f!==(f=e[0].downloadLink)&&y(b,"href",f),I&5&&A!==(A=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"")&&E.p(A),I&1&&R!==(R="tI_"+e[0].torrentIndex)&&y(k,"id",R);},d(W){W&&C(t),T=!1,N();}}}function jn(e){let t,n,i,l=e[0].upload_date+"",o;return {c(){t=w("div"),n=w("b"),n.textContent="上传时间:",i=z(),o=L(l),y(t,"class","card-line svelte-vdh3h6");},m(r,s){S(r,t,s),m(t,n),m(t,i),m(t,o);},p(r,s){s&1&&l!==(l=r[0].upload_date+"")&&j(o,l);},d(r){r&&C(t);}}}function Un(e){let t,n,i=e[2].COMMENT+"",l,o,r=e[0].comments+"",s,a,c,u=e[2].SEEDERS+"",g,h,_=e[0].seeders+"",b,v,f,d=e[2].LEECHERS+"",p,k,E=e[0].leechers+"",A,O,D,R=e[2].SNATCHED+"",T,N,W=e[0].snatched+"",I;return {c(){t=w("div"),n=new V(!1),l=L(" "),o=w("b"),s=L(r),a=L(`  
            `),c=new V(!1),g=L(" "),h=w("b"),b=L(_),v=L(`  
            `),f=new V(!1),p=L(" "),k=w("b"),A=L(E),O=L(`  
            `),D=new V(!1),T=L(" "),N=w("b"),I=L(W),n.a=l,c.a=g,f.a=p,D.a=T,y(t,"class","card-line svelte-vdh3h6");},m(H,Y){S(H,t,Y),n.m(i,t),m(t,l),m(t,o),m(o,s),m(t,a),c.m(u,t),m(t,g),m(t,h),m(h,b),m(t,v),f.m(d,t),m(t,p),m(t,k),m(k,A),m(t,O),D.m(R,t),m(t,T),m(t,N),m(N,I);},p(H,Y){Y&4&&i!==(i=H[2].COMMENT+"")&&n.p(i),Y&1&&r!==(r=H[0].comments+"")&&j(s,r),Y&4&&u!==(u=H[2].SEEDERS+"")&&c.p(u),Y&1&&_!==(_=H[0].seeders+"")&&j(b,_),Y&4&&d!==(d=H[2].LEECHERS+"")&&f.p(d),Y&1&&E!==(E=H[0].leechers+"")&&j(A,E),Y&4&&R!==(R=H[2].SNATCHED+"")&&D.p(R),Y&1&&W!==(W=H[0].snatched+"")&&j(I,W);},d(H){H&&C(t);}}}function Hl(e){let t,n,i,l=e[0].category+"",o,r,s,a,c,u,g,h,_,b,v,f=e[0].torrentIndex+1+"",d,p,k,E,A,O=(e[5].title||e[3])&&On(e),D=(e[5].all||e[3])&&Nn(e),R=!(e[5].all||e[3])&&Hn(e);return {c(){t=w("div"),n=w("div"),i=w("div"),o=L(l),s=z(),O&&O.c(),a=z(),c=w("div"),u=w("img"),b=z(),v=w("div"),d=L(f),p=z(),D&&D.c(),k=z(),R&&R.c(),y(i,"class","card-category svelte-vdh3h6"),y(i,"data-href",r=e[0].categoryLink),x(i,"background-color",Ve.CATEGORY[e[0].categoryNumber]??"transparent"),x(i,"color",Ve.CATEGORY[e[0].categoryNumber]?Xn(Ve.CATEGORY[e[0].categoryNumber]):"black"),y(u,"class","card-image--img nexus-lazy-load_Kesa svelte-vdh3h6"),at(u.src,g=Ve.LOADING_PIC)||y(u,"src",g),y(u,"data-src",h=e[0].picLink),y(u,"alt",_=e[0].torrentName),y(v,"class","card-index svelte-vdh3h6"),y(c,"class","card-image svelte-vdh3h6"),y(n,"class","card-holder svelte-vdh3h6"),y(t,"class","card svelte-vdh3h6"),x(t,"width",e[1]+"px"),x(t,"z-index",1e4-e[0].torrentIndex),x(t,"background-color",e[4]);},m(T,N){S(T,t,N),m(t,n),m(n,i),m(i,o),m(n,s),O&&O.m(n,null),m(n,a),m(n,c),m(c,u),m(c,b),m(c,v),m(v,d),m(n,p),D&&D.m(n,null),m(n,k),R&&R.m(n,null),E||(A=[ee(u,"load",e[6]),ee(u,"click",e[7]),ee(n,"mouseenter",e[8]),ee(n,"mouseleave",e[9])],E=!0);},p(T,[N]){N&1&&l!==(l=T[0].category+"")&&j(o,l),N&1&&r!==(r=T[0].categoryLink)&&y(i,"data-href",r),N&1&&x(i,"background-color",Ve.CATEGORY[T[0].categoryNumber]??"transparent"),N&1&&x(i,"color",Ve.CATEGORY[T[0].categoryNumber]?Xn(Ve.CATEGORY[T[0].categoryNumber]):"black"),T[5].title||T[3]?O?O.p(T,N):(O=On(T),O.c(),O.m(n,a)):O&&(O.d(1),O=null),N&1&&h!==(h=T[0].picLink)&&y(u,"data-src",h),N&1&&_!==(_=T[0].torrentName)&&y(u,"alt",_),N&1&&f!==(f=T[0].torrentIndex+1+"")&&j(d,f),T[5].all||T[3]?D?D.p(T,N):(D=Nn(T),D.c(),D.m(n,k)):D&&(D.d(1),D=null),T[5].all||T[3]?R&&(R.d(1),R=null):R?R.p(T,N):(R=Hn(T),R.c(),R.m(n,null)),N&2&&x(t,"width",T[1]+"px"),N&1&&x(t,"z-index",1e4-T[0].torrentIndex),N&16&&x(t,"background-color",T[4]);},i:ve,o:ve,d(T){T&&C(t),O&&O.d(),D&&D.d(),R&&R.d(),E=!1,He(A);}}}function Rt(e,t){try{window.location.href=e;const i=document.querySelector(`div#${t}`).children[0];i.className=i.className=="delbookmark"?"bookmark":"delbookmark",console.log(`执行脚本${e}成功, 已经收藏或者取消~`);}catch(n){console.error(n);}}function Xn(e){const t=e.replace("#",""),n=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),l=parseInt(t.substr(4,2),16);return (n*299+i*587+l*114)/1e3<128?"white":"black"}const Qn=e=>e.outerHTML,$n=e=>e.outerHTML,Vn=e=>e.outerHTML;function Wl(e,t,n){let i,l,o,r;K(e,vt,d=>n(12,i=d)),K(e,Ke,d=>n(13,l=d)),K(e,bt,d=>n(4,o=d)),K(e,pe,d=>n(5,r=d));function s(){se();}function a(){ue(Ke,l=1,l),ue(vt,i=c.torrentLink+"#kdescr",i);}let{torrentInfo:c}=t,{cardWidth:u}=t,{ICON:g}=t,h=!1;function _(){n(3,h=!0);}function b(){n(3,h=!1);}const v=d=>{const p=document.createElement("div");return p.innerHTML=d.outerHTML,p.outerHTML},f=d=>{const p=document.createElement("div");return p.innerHTML=d.outerHTML,p.outerHTML};return e.$$set=d=>{"torrentInfo"in d&&n(0,c=d.torrentInfo),"cardWidth"in d&&n(1,u=d.cardWidth),"ICON"in d&&n(2,g=d.ICON);},[c,u,g,h,o,r,s,a,_,b,v,f]}class Pl extends _t{constructor(t){super(),dt(this,t,Wl,Hl,it,{torrentInfo:0,cardWidth:1,ICON:2});}}function Zn(e){let t,n,i,l,o=e[0].torrent_name+"",r,s,a=e[0].tempTagDom.length!=0&&Jn(e);return {c(){t=w("div"),n=w("a"),a&&a.c(),i=z(),l=w("b"),r=L(o),y(n,"class","two-lines svelte-1fw75v2"),y(n,"href",s=e[0].torrentLink),y(n,"target","_blank"),y(t,"class","card-title svelte-1fw75v2");},m(c,u){S(c,t,u),m(t,n),a&&a.m(n,null),m(n,i),m(n,l),m(l,r);},p(c,u){c[0].tempTagDom.length!=0?a?a.p(c,u):(a=Jn(c),a.c(),a.m(n,i)):a&&(a.d(1),a=null),u&1&&o!==(o=c[0].torrent_name+"")&&j(r,o),u&1&&s!==(s=c[0].torrentLink)&&y(n,"href",s);},d(c){c&&C(t),a&&a.d();}}}function Jn(e){let t,n=Array.from(e[0].tempTagDom).map(mi)+"";return {c(){t=w("span"),y(t,"class","tempTags svelte-1fw75v2");},m(i,l){S(i,t,l),t.innerHTML=n;},p(i,l){l&1&&n!==(n=Array.from(i[0].tempTagDom).map(mi)+"")&&(t.innerHTML=n);},d(i){i&&C(t);}}}function Kn(e){let t,n,i,l=e[0].tagsDOM.map(e[11]).join("")+"",o,r,s,a,c,u=e[2].SIZE+"",g,h=e[0].size+"",_,b,v,f,d=e[2].DOWNLOAD+"",p,k,E,A,O,D,R,T,N,W=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"",I,H,Y,de,oe,q,ie,re=e[0].upload_date+"",U,ne,B,ge,ae=e[2].COMMENT+"",we,Ie,le=e[0].comments+"",Ee,Ce,fe,_e=e[2].SEEDERS+"",Se,ce,he=e[0].seeders+"",Me,be,ye,Oe=e[2].LEECHERS+"",me,Te,Pe=e[0].leechers+"",ke,Ye,Re,qe=e[2].SNATCHED+"",te,Ue,Ge=e[0].snatched+"",Xe,M,$e,Z=(e[0].free_type||e[0].pattMsg)&&xn(e),F=e[0].description&&ii(e);return {c(){Z&&Z.c(),t=z(),F&&F.c(),n=z(),i=w("div"),o=z(),r=w("div"),s=w("div"),a=w("div"),c=new V(!1),g=L(" "),_=L(h),b=L(`

          
            
          `),v=w("div"),f=new V(!1),p=L(` 
            `),k=w("b"),E=w("a"),A=L("下载"),D=L(`

          
            
          `),R=w("div"),T=w("div"),N=new V(!1),I=L(`
               `),H=w("b"),H.textContent="收藏",de=z(),oe=w("div"),q=w("b"),q.textContent="上传时间:",ie=z(),U=L(re),ne=z(),B=w("div"),ge=new V(!1),we=L(" "),Ie=w("b"),Ee=L(le),Ce=L(`  
          `),fe=new V(!1),Se=L(" "),ce=w("b"),Me=L(he),be=L(`  
          `),ye=new V(!1),me=L(" "),Te=w("b"),ke=L(Pe),Ye=L(`  
          `),Re=new V(!1),te=L(" "),Ue=w("b"),Xe=L(Ge),y(i,"class","cl-tags svelte-1fw75v2"),c.a=g,y(a,"class","cl-center svelte-1fw75v2"),f.a=p,y(E,"href",O=e[0].downloadLink),y(v,"class","cl-center svelte-1fw75v2"),N.a=I,y(T,"class","btnCollet cl-center svelte-1fw75v2"),y(T,"id",Y="tI_"+e[0].torrentIndex),y(R,"class","cl-center svelte-1fw75v2"),y(s,"class","card-line svelte-1fw75v2"),y(oe,"class","card-line svelte-1fw75v2"),ge.a=we,fe.a=Se,ye.a=me,Re.a=te,y(B,"class","card-line svelte-1fw75v2"),y(r,"class","card-details svelte-1fw75v2");},m(X,G){Z&&Z.m(X,G),S(X,t,G),F&&F.m(X,G),S(X,n,G),S(X,i,G),i.innerHTML=l,S(X,o,G),S(X,r,G),m(r,s),m(s,a),c.m(u,a),m(a,g),m(a,_),m(s,b),m(s,v),f.m(d,v),m(v,p),m(v,k),m(k,E),m(E,A),m(s,D),m(s,R),m(R,T),N.m(W,T),m(T,I),m(T,H),m(r,de),m(r,oe),m(oe,q),m(oe,ie),m(oe,U),m(r,ne),m(r,B),ge.m(ae,B),m(B,we),m(B,Ie),m(Ie,Ee),m(B,Ce),fe.m(_e,B),m(B,Se),m(B,ce),m(ce,Me),m(B,be),ye.m(Oe,B),m(B,me),m(B,Te),m(Te,ke),m(B,Ye),Re.m(qe,B),m(B,te),m(B,Ue),m(Ue,Xe),M||($e=ee(T,"click",function(){nt(zt(e[0].collectLink,"tI_"+e[0].torrentIndex))&&zt(e[0].collectLink,"tI_"+e[0].torrentIndex).apply(this,arguments);}),M=!0);},p(X,G){e=X,e[0].free_type||e[0].pattMsg?Z?Z.p(e,G):(Z=xn(e),Z.c(),Z.m(t.parentNode,t)):Z&&(Z.d(1),Z=null),e[0].description?F?F.p(e,G):(F=ii(e),F.c(),F.m(n.parentNode,n)):F&&(F.d(1),F=null),G&1&&l!==(l=e[0].tagsDOM.map(e[11]).join("")+"")&&(i.innerHTML=l),G&4&&u!==(u=e[2].SIZE+"")&&c.p(u),G&1&&h!==(h=e[0].size+"")&&j(_,h),G&4&&d!==(d=e[2].DOWNLOAD+"")&&f.p(d),G&1&&O!==(O=e[0].downloadLink)&&y(E,"href",O),G&5&&W!==(W=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"")&&N.p(W),G&1&&Y!==(Y="tI_"+e[0].torrentIndex)&&y(T,"id",Y),G&1&&re!==(re=e[0].upload_date+"")&&j(U,re),G&4&&ae!==(ae=e[2].COMMENT+"")&&ge.p(ae),G&1&&le!==(le=e[0].comments+"")&&j(Ee,le),G&4&&_e!==(_e=e[2].SEEDERS+"")&&fe.p(_e),G&1&&he!==(he=e[0].seeders+"")&&j(Me,he),G&4&&Oe!==(Oe=e[2].LEECHERS+"")&&ye.p(Oe),G&1&&Pe!==(Pe=e[0].leechers+"")&&j(ke,Pe),G&4&&qe!==(qe=e[2].SNATCHED+"")&&Re.p(qe),G&1&&Ge!==(Ge=e[0].snatched+"")&&j(Xe,Ge);},d(X){Z&&Z.d(X),X&&C(t),F&&F.d(X),X&&C(n),X&&C(i),X&&C(o),X&&C(r),M=!1,$e();}}}function xn(e){let t,n,i,l,o,r=e[0].place_at_the_top.length!=0&&ei(e),s=e[0].freeTypeImg&&ti(e),a=e[0].free_remaining_time&&ni(e);return {c(){t=w("div"),n=w("div"),r&&r.c(),i=z(),s&&s.c(),l=z(),a&&a.c(),y(n,"class",o="top_and_free "+e[0].free_type+" svelte-1fw75v2"),y(t,"class","card-alter svelte-1fw75v2");},m(c,u){S(c,t,u),m(t,n),r&&r.m(n,null),m(n,i),s&&s.m(n,null),m(n,l),a&&a.m(n,null);},p(c,u){c[0].place_at_the_top.length!=0?r?r.p(c,u):(r=ei(c),r.c(),r.m(n,i)):r&&(r.d(1),r=null),c[0].freeTypeImg?s?s.p(c,u):(s=ti(c),s.c(),s.m(n,l)):s&&(s.d(1),s=null),c[0].free_remaining_time?a?a.p(c,u):(a=ni(c),a.c(),a.m(n,null)):a&&(a.d(1),a=null),u&1&&o!==(o="top_and_free "+c[0].free_type+" svelte-1fw75v2")&&y(n,"class",o);},d(c){c&&C(t),r&&r.d(),s&&s.d(),a&&a.d();}}}function ei(e){let t,n=Array.from(e[0].place_at_the_top).map(pi)+"&nbsp;",i;return {c(){t=new V(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=Array.from(l[0].place_at_the_top).map(pi)+"&nbsp;")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function ti(e){let t,n=e[0].freeTypeImg.outerHTML+"",i;return {c(){t=new V(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=l[0].freeTypeImg.outerHTML+"")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function ni(e){let t,n,i=e[0].free_remaining_time+"",l;return {c(){t=L(" "),n=w("b"),l=L(i);},m(o,r){S(o,t,r),S(o,n,r),m(n,l);},p(o,r){r&1&&i!==(i=o[0].free_remaining_time+"")&&j(l,i);},d(o){o&&C(t),o&&C(n);}}}function ii(e){let t,n=e[0].description+"",i,l;return {c(){t=w("a"),i=L(n),y(t,"class","card-description svelte-1fw75v2"),y(t,"href",l=e[0].torrentLink);},m(o,r){S(o,t,r),m(t,i);},p(o,r){r&1&&n!==(n=o[0].description+"")&&j(i,n),r&1&&l!==(l=o[0].torrentLink)&&y(t,"href",l);},d(o){o&&C(t);}}}function li(e){let t,n,i,l,o,r,s=e[6].free&&(e[0].free_type||e[0].pattMsg)&&oi(e),a=e[6].sub_title&&e[0].description&&fi(e),c=e[6].tags&&e[0].tagsDOM.length!=0&&ci(e),u=e[6].size_download_collect&&ui(e),g=e[6].upload_time&&di(e),h=e[6].statistics&&_i(e);return {c(){s&&s.c(),t=z(),a&&a.c(),n=z(),c&&c.c(),i=z(),l=w("div"),u&&u.c(),o=z(),g&&g.c(),r=z(),h&&h.c(),y(l,"class","card-details svelte-1fw75v2");},m(_,b){s&&s.m(_,b),S(_,t,b),a&&a.m(_,b),S(_,n,b),c&&c.m(_,b),S(_,i,b),S(_,l,b),u&&u.m(l,null),m(l,o),g&&g.m(l,null),m(l,r),h&&h.m(l,null);},p(_,b){_[6].free&&(_[0].free_type||_[0].pattMsg)?s?s.p(_,b):(s=oi(_),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),_[6].sub_title&&_[0].description?a?a.p(_,b):(a=fi(_),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),_[6].tags&&_[0].tagsDOM.length!=0?c?c.p(_,b):(c=ci(_),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null),_[6].size_download_collect?u?u.p(_,b):(u=ui(_),u.c(),u.m(l,o)):u&&(u.d(1),u=null),_[6].upload_time?g?g.p(_,b):(g=di(_),g.c(),g.m(l,r)):g&&(g.d(1),g=null),_[6].statistics?h?h.p(_,b):(h=_i(_),h.c(),h.m(l,null)):h&&(h.d(1),h=null);},d(_){s&&s.d(_),_&&C(t),a&&a.d(_),_&&C(n),c&&c.d(_),_&&C(i),_&&C(l),u&&u.d(),g&&g.d(),h&&h.d();}}}function oi(e){let t,n,i,l,o,r=e[0].place_at_the_top.length!=0&&si(e),s=e[0].freeTypeImg&&ri(e),a=e[0].free_remaining_time&&ai(e);return {c(){t=w("div"),n=w("div"),r&&r.c(),i=z(),s&&s.c(),l=z(),a&&a.c(),y(n,"class",o="top_and_free "+e[0].free_type+" svelte-1fw75v2"),y(t,"class","card-alter svelte-1fw75v2");},m(c,u){S(c,t,u),m(t,n),r&&r.m(n,null),m(n,i),s&&s.m(n,null),m(n,l),a&&a.m(n,null);},p(c,u){c[0].place_at_the_top.length!=0?r?r.p(c,u):(r=si(c),r.c(),r.m(n,i)):r&&(r.d(1),r=null),c[0].freeTypeImg?s?s.p(c,u):(s=ri(c),s.c(),s.m(n,l)):s&&(s.d(1),s=null),c[0].free_remaining_time?a?a.p(c,u):(a=ai(c),a.c(),a.m(n,null)):a&&(a.d(1),a=null),u&1&&o!==(o="top_and_free "+c[0].free_type+" svelte-1fw75v2")&&y(n,"class",o);},d(c){c&&C(t),r&&r.d(),s&&s.d(),a&&a.d();}}}function si(e){let t,n=Array.from(e[0].place_at_the_top).map(gi)+"&nbsp;",i;return {c(){t=new V(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=Array.from(l[0].place_at_the_top).map(gi)+"&nbsp;")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function ri(e){let t,n=e[0].freeTypeImg.outerHTML+"",i;return {c(){t=new V(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=l[0].freeTypeImg.outerHTML+"")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function ai(e){let t,n,i=e[0].free_remaining_time+"",l;return {c(){t=L(" "),n=w("b"),l=L(i);},m(o,r){S(o,t,r),S(o,n,r),m(n,l);},p(o,r){r&1&&i!==(i=o[0].free_remaining_time+"")&&j(l,i);},d(o){o&&C(t),o&&C(n);}}}function fi(e){let t,n=e[0].description+"",i,l;return {c(){t=w("a"),i=L(n),y(t,"class","card-description svelte-1fw75v2"),y(t,"href",l=e[0].torrentLink);},m(o,r){S(o,t,r),m(t,i);},p(o,r){r&1&&n!==(n=o[0].description+"")&&j(i,n),r&1&&l!==(l=o[0].torrentLink)&&y(t,"href",l);},d(o){o&&C(t);}}}function ci(e){let t,n=e[0].tagsDOM.map(e[12]).join("")+"";return {c(){t=w("div"),y(t,"class","cl-tags svelte-1fw75v2");},m(i,l){S(i,t,l),t.innerHTML=n;},p(i,l){l&1&&n!==(n=i[0].tagsDOM.map(i[12]).join("")+"")&&(t.innerHTML=n);},d(i){i&&C(t);}}}function ui(e){let t,n,i,l=e[2].SIZE+"",o,r=e[0].size+"",s,a,c,u,g=e[2].DOWNLOAD+"",h,_,b,v,f,d,p,k,E,A=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"",O,D,R,T,N;return {c(){t=w("div"),n=w("div"),i=new V(!1),o=L(" "),s=L(r),a=L(`

            
              
            `),c=w("div"),u=new V(!1),h=L(` 
              `),_=w("b"),b=w("a"),v=L("下载"),d=L(`

            
              
            `),p=w("div"),k=w("div"),E=new V(!1),O=L(`
                 `),D=w("b"),D.textContent="收藏",i.a=o,y(n,"class","cl-center svelte-1fw75v2"),u.a=h,y(b,"href",f=e[0].downloadLink),y(c,"class","cl-center svelte-1fw75v2"),E.a=O,y(k,"class","btnCollet cl-center svelte-1fw75v2"),y(k,"id",R="tI_"+e[0].torrentIndex),y(p,"class","cl-center svelte-1fw75v2"),y(t,"class","card-line svelte-1fw75v2");},m(W,I){S(W,t,I),m(t,n),i.m(l,n),m(n,o),m(n,s),m(t,a),m(t,c),u.m(g,c),m(c,h),m(c,_),m(_,b),m(b,v),m(t,d),m(t,p),m(p,k),E.m(A,k),m(k,O),m(k,D),T||(N=ee(k,"click",function(){nt(zt(e[0].collectLink,"tI_"+e[0].torrentIndex))&&zt(e[0].collectLink,"tI_"+e[0].torrentIndex).apply(this,arguments);}),T=!0);},p(W,I){e=W,I&4&&l!==(l=e[2].SIZE+"")&&i.p(l),I&1&&r!==(r=e[0].size+"")&&j(s,r),I&4&&g!==(g=e[2].DOWNLOAD+"")&&u.p(g),I&1&&f!==(f=e[0].downloadLink)&&y(b,"href",f),I&5&&A!==(A=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"")&&E.p(A),I&1&&R!==(R="tI_"+e[0].torrentIndex)&&y(k,"id",R);},d(W){W&&C(t),T=!1,N();}}}function di(e){let t,n,i,l=e[0].upload_date+"",o;return {c(){t=w("div"),n=w("b"),n.textContent="上传时间:",i=z(),o=L(l),y(t,"class","card-line svelte-1fw75v2");},m(r,s){S(r,t,s),m(t,n),m(t,i),m(t,o);},p(r,s){s&1&&l!==(l=r[0].upload_date+"")&&j(o,l);},d(r){r&&C(t);}}}function _i(e){let t,n,i=e[2].COMMENT+"",l,o,r=e[0].comments+"",s,a,c,u=e[2].SEEDERS+"",g,h,_=e[0].seeders+"",b,v,f,d=e[2].LEECHERS+"",p,k,E=e[0].leechers+"",A,O,D,R=e[2].SNATCHED+"",T,N,W=e[0].snatched+"",I;return {c(){t=w("div"),n=new V(!1),l=L(" "),o=w("b"),s=L(r),a=L(`  
            `),c=new V(!1),g=L(" "),h=w("b"),b=L(_),v=L(`  
            `),f=new V(!1),p=L(" "),k=w("b"),A=L(E),O=L(`  
            `),D=new V(!1),T=L(" "),N=w("b"),I=L(W),n.a=l,c.a=g,f.a=p,D.a=T,y(t,"class","card-line svelte-1fw75v2");},m(H,Y){S(H,t,Y),n.m(i,t),m(t,l),m(t,o),m(o,s),m(t,a),c.m(u,t),m(t,g),m(t,h),m(h,b),m(t,v),f.m(d,t),m(t,p),m(t,k),m(k,A),m(t,O),D.m(R,t),m(t,T),m(t,N),m(N,I);},p(H,Y){Y&4&&i!==(i=H[2].COMMENT+"")&&n.p(i),Y&1&&r!==(r=H[0].comments+"")&&j(s,r),Y&4&&u!==(u=H[2].SEEDERS+"")&&c.p(u),Y&1&&_!==(_=H[0].seeders+"")&&j(b,_),Y&4&&d!==(d=H[2].LEECHERS+"")&&f.p(d),Y&1&&E!==(E=H[0].leechers+"")&&j(A,E),Y&4&&R!==(R=H[2].SNATCHED+"")&&D.p(R),Y&1&&W!==(W=H[0].snatched+"")&&j(I,W);},d(H){H&&C(t);}}}function ql(e){let t,n,i,l,o,r,s=e[0].category+"",a,c,u,g,h,_,b,v,f,d,p,k=e[0].torrentIndex+1+"",E,A,O,D,R,T=(e[6].title||e[3])&&Zn(e),N=(e[6].all||e[3])&&Kn(e),W=!(e[6].all||e[3])&&li(e);return {c(){t=w("div"),n=w("div"),i=w("div"),l=w("img"),r=z(),a=L(s),u=z(),T&&T.c(),g=z(),h=w("div"),_=w("img"),d=z(),p=w("div"),E=L(k),A=z(),N&&N.c(),O=z(),W&&W.c(),y(l,"class","card_category-img svelte-1fw75v2"),at(l.src,o=e[0]._categoryImg)||y(l,"src",o),y(l,"alt",""),y(i,"class","card-category svelte-1fw75v2"),y(i,"data-href",c=e[0].categoryLink),x(i,"background-color",Ze.CATEGORY[e[0].categoryNumber]??"transparent"),x(i,"color",Ze.CATEGORY[e[0].categoryNumber]?hi(Ze.CATEGORY[e[0].categoryNumber]):"black"),y(_,"class","card-image--img nexus-lazy-load_Kesa svelte-1fw75v2"),at(_.src,b=Ze.LOADING_PIC)||y(_,"src",b),y(_,"data-src",v=e[0].picLink),y(_,"alt",f=e[0].torrentName),y(p,"class","card-index svelte-1fw75v2"),y(h,"class","card-image svelte-1fw75v2"),y(n,"class","card-holder svelte-1fw75v2"),y(t,"class","card svelte-1fw75v2"),x(t,"display",e[0].categoryNumber=="440"&&e[4].mt.hide_gay?"none":"block"),x(t,"width",e[1]+"px"),x(t,"z-index",1e4-e[0].torrentIndex),x(t,"background-color",e[5]);},m(I,H){S(I,t,H),m(t,n),m(n,i),m(i,l),m(i,r),m(i,a),m(n,u),T&&T.m(n,null),m(n,g),m(n,h),m(h,_),m(h,d),m(h,p),m(p,E),m(n,A),N&&N.m(n,null),m(n,O),W&&W.m(n,null),D||(R=[ee(_,"load",e[7]),ee(_,"click",e[8]),ee(n,"mouseenter",e[9]),ee(n,"mouseleave",e[10])],D=!0);},p(I,[H]){H&1&&!at(l.src,o=I[0]._categoryImg)&&y(l,"src",o),H&1&&s!==(s=I[0].category+"")&&j(a,s),H&1&&c!==(c=I[0].categoryLink)&&y(i,"data-href",c),H&1&&x(i,"background-color",Ze.CATEGORY[I[0].categoryNumber]??"transparent"),H&1&&x(i,"color",Ze.CATEGORY[I[0].categoryNumber]?hi(Ze.CATEGORY[I[0].categoryNumber]):"black"),I[6].title||I[3]?T?T.p(I,H):(T=Zn(I),T.c(),T.m(n,g)):T&&(T.d(1),T=null),H&1&&v!==(v=I[0].picLink)&&y(_,"data-src",v),H&1&&f!==(f=I[0].torrentName)&&y(_,"alt",f),H&1&&k!==(k=I[0].torrentIndex+1+"")&&j(E,k),I[6].all||I[3]?N?N.p(I,H):(N=Kn(I),N.c(),N.m(n,O)):N&&(N.d(1),N=null),I[6].all||I[3]?W&&(W.d(1),W=null):W?W.p(I,H):(W=li(I),W.c(),W.m(n,null)),H&17&&x(t,"display",I[0].categoryNumber=="440"&&I[4].mt.hide_gay?"none":"block"),H&2&&x(t,"width",I[1]+"px"),H&1&&x(t,"z-index",1e4-I[0].torrentIndex),H&32&&x(t,"background-color",I[5]);},i:ve,o:ve,d(I){I&&C(t),T&&T.d(),N&&N.d(),W&&W.d(),D=!1,He(R);}}}function zt(e,t){try{window.location.href=e;const i=document.querySelector(`div#${t}`).children[0];i.className=i.className=="delbookmark"?"bookmark":"delbookmark",console.log(`执行脚本${e}成功, 已经收藏或者取消~`);}catch(n){console.error(n);}}function hi(e){const t=e.replace("#",""),n=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),l=parseInt(t.substr(4,2),16);return (n*299+i*587+l*114)/1e3<128?"white":"black"}const mi=e=>e.outerHTML,pi=e=>e.outerHTML,gi=e=>e.outerHTML;function Gl(e,t,n){let i,l,o,r,s;K(e,vt,p=>n(13,i=p)),K(e,Ke,p=>n(14,l=p)),K(e,Mt,p=>n(4,o=p)),K(e,bt,p=>n(5,r=p)),K(e,pe,p=>n(6,s=p));function a(){se();}function c(){ue(Ke,l=1,l),ue(vt,i=u.torrentLink+"#kdescr",i);}let{torrentInfo:u}=t,{cardWidth:g}=t,{ICON:h}=t,_=!1;function b(){n(3,_=!0);}function v(){n(3,_=!1);}const f=p=>{const k=document.createElement("div");return k.innerHTML=p.outerHTML,k.outerHTML},d=p=>{const k=document.createElement("div");return k.innerHTML=p.outerHTML,k.outerHTML};return e.$$set=p=>{"torrentInfo"in p&&n(0,u=p.torrentInfo),"cardWidth"in p&&n(1,g=p.cardWidth),"ICON"in p&&n(2,h=p.ICON);},[u,g,h,_,o,r,s,a,c,b,v,f,d]}class Yl extends _t{constructor(t){super(),dt(this,t,Gl,ql,it,{torrentInfo:0,cardWidth:1,ICON:2});}}const{window:Bl}=xi;function vi(e,t,n){const i=e.slice();return i[30]=t[n],i}function bi(e,t,n){const i=e.slice();return i[30]=t[n],i}function Fl(e){let t;return {c(){t=w("div"),t.textContent="else";},m(n,i){S(n,t,i);},p:ve,i:ve,o:ve,d(n){n&&C(t);}}}function jl(e){let t=[],n=new Map,i,l,o=e[2];const r=s=>s[30].torrentIndex;for(let s=0;s<o.length;s+=1){let a=vi(e,o,s),c=r(a);n.set(c,t[s]=yi(c,a));}return {c(){for(let s=0;s<t.length;s+=1)t[s].c();i=We();},m(s,a){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(s,a);S(s,i,a),l=!0;},p(s,a){a[0]&133&&(o=s[2],xe(),t=Ri(t,a,r,1,s,o,n,i.parentNode,Mi,yi,i,vi),et());},i(s){if(!l){for(let a=0;a<o.length;a+=1)Q(t[a]);l=!0;}},o(s){for(let a=0;a<t.length;a+=1)J(t[a]);l=!1;},d(s){for(let a=0;a<t.length;a+=1)t[a].d(s);s&&C(i);}}}function Ul(e){let t=[],n=new Map,i,l,o=e[2];const r=s=>s[30].torrentIndex;for(let s=0;s<o.length;s+=1){let a=bi(e,o,s),c=r(a);n.set(c,t[s]=ki(c,a));}return {c(){for(let s=0;s<t.length;s+=1)t[s].c();i=We();},m(s,a){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(s,a);S(s,i,a),l=!0;},p(s,a){a[0]&133&&(o=s[2],xe(),t=Ri(t,a,r,1,s,o,n,i.parentNode,Mi,ki,i,bi),et());},i(s){if(!l){for(let a=0;a<o.length;a+=1)Q(t[a]);l=!0;}},o(s){for(let a=0;a<t.length;a+=1)J(t[a]);l=!1;},d(s){for(let a=0;a<t.length;a+=1)t[a].d(s);s&&C(i);}}}function yi(e,t){let n,i,l;return i=new Yl({props:{torrentInfo:t[30],cardWidth:t[0].CARD_WIDTH,ICON:t[7]}}),{key:e,first:null,c(){n=We(),Ae(i.$$.fragment),this.first=n;},m(o,r){S(o,n,r),Ne(i,o,r),l=!0;},p(o,r){t=o;const s={};r[0]&4&&(s.torrentInfo=t[30]),r[0]&1&&(s.cardWidth=t[0].CARD_WIDTH),i.$set(s);},i(o){l||(Q(i.$$.fragment,o),l=!0);},o(o){J(i.$$.fragment,o),l=!1;},d(o){o&&C(n),De(i,o);}}}function ki(e,t){let n,i,l;return i=new Pl({props:{torrentInfo:t[30],cardWidth:t[0].CARD_WIDTH,ICON:t[7]}}),{key:e,first:null,c(){n=We(),Ae(i.$$.fragment),this.first=n;},m(o,r){S(o,n,r),Ne(i,o,r),l=!0;},p(o,r){t=o;const s={};r[0]&4&&(s.torrentInfo=t[30]),r[0]&1&&(s.cardWidth=t[0].CARD_WIDTH),i.$set(s);},i(o){l||(Q(i.$$.fragment,o),l=!0);},o(o){J(i.$$.fragment,o),l=!1;},d(o){o&&C(n),De(i,o);}}}function Xl(e){let t=e[10].normal+"",n;return {c(){n=L(t);},m(i,l){S(i,n,l);},p:ve,d(i){i&&C(n);}}}function Ql(e){let t=e[10].suspend+"",n;return {c(){n=L(t);},m(i,l){S(i,n,l);},p:ve,d(i){i&&C(n);}}}function $l(e){let t=e[10].disable+"",n;return {c(){n=L(t);},m(i,l){S(i,n,l);},p:ve,d(i){i&&C(n);}}}function wi(e){let t,n,i,l,o,r,s;return {c(){t=w("div"),n=w("iframe"),at(n.src,i=e[6])||y(n,"src",i),y(n,"frameborder","0"),y(n,"title","wow"),x(n,"width",(tt[e[4]]?tt[e[4]].Iframe_Width:1e3)+"px"),y(n,"class","svelte-tr7wwl"),y(t,"id","_iframe"),y(t,"class","svelte-tr7wwl");},m(a,c){S(a,t,c),m(t,n),o=!0,r||(s=ee(t,"click",e[8]),r=!0);},p(a,c){(!o||c[0]&64&&!at(n.src,i=a[6]))&&y(n,"src",i),(!o||c[0]&16)&&x(n,"width",(tt[a[4]]?tt[a[4]].Iframe_Width:1e3)+"px");},i(a){o||(ut(()=>{o&&(l||(l=Nt(t,Dt,{duration:300},!0)),l.run(1));}),o=!0);},o(a){l||(l=Nt(t,Dt,{duration:300},!1)),l.run(0),o=!1;},d(a){a&&C(t),a&&l&&l.end(),r=!1,s();}}}function Vl(e){let t,n,i,l,o,r,s,a,c,u,g;const h=[Ul,jl,Fl],_=[];function b(k,E){return k[4]=="kamept.com"?0:k[4]=="kp.m-team.cc"?1:2}t=b(e),n=_[t]=h[t](e);function v(k,E){return k[3]?$l:k[1]?Ql:Xl}let f=v(e),d=f(e),p=e[5]&&wi(e);return {c(){n.c(),i=z(),l=w("div"),o=w("button"),d.c(),s=z(),p&&p.c(),a=We(),y(o,"id","turnPage"),o.disabled=r=e[3]||e[1],y(o,"class","svelte-tr7wwl");},m(k,E){_[t].m(k,E),S(k,i,E),S(k,l,E),m(l,o),d.m(o,null),S(k,s,E),p&&p.m(k,E),S(k,a,E),c=!0,u||(g=[ee(Bl,"keydown",e[9],!0),ee(o,"click",e[11])],u=!0);},p(k,E){let A=t;t=b(k),t===A?_[t].p(k,E):(xe(),J(_[A],1,1,()=>{_[A]=null;}),et(),n=_[t],n?n.p(k,E):(n=_[t]=h[t](k),n.c()),Q(n,1),n.m(i.parentNode,i)),f===(f=v(k))&&d?d.p(k,E):(d.d(1),d=f(k),d&&(d.c(),d.m(o,null))),(!c||E[0]&10&&r!==(r=k[3]||k[1]))&&(o.disabled=r),k[5]?p?(p.p(k,E),E[0]&32&&Q(p,1)):(p=wi(k),p.c(),Q(p,1),p.m(a.parentNode,a)):p&&(xe(),J(p,1,1,()=>{p=null;}),et());},i(k){c||(Q(n),Q(p),c=!0);},o(k){J(n),J(p),c=!1;},d(k){_[t].d(k),k&&C(i),k&&C(l),d.d(),k&&C(s),p&&p.d(k),k&&C(a),u=!1,He(g);}}}function Zl(e,t,n){var oe;let i,l,o,r,s,a,c,u;K(e,Bt,q=>n(19,i=q)),K(e,jt,q=>n(15,l=q)),K(e,Lt,q=>n(3,o=q)),K(e,Ft,q=>n(4,r=q)),K(e,bt,q=>n(20,s=q)),K(e,rt,q=>n(21,a=q)),K(e,Ke,q=>n(5,c=q)),K(e,vt,q=>n(6,u=q));let{originTable:g}=t,{waterfallNode:h}=t;const _={CARD_WIDTH:l,CARD_BORDER:0,CARD_INDEX:0,PIC_HOVER_STYLE:0},b={GAP:3e3,DISTANCE:300,IS_ORIGIN:!0,PAGE_CURRENT:0,PAGE_NEXT:0,NEXT_URL:"",SWITCH_MODE:"Button"},v={SIZE:'<img class="size" src="pic/trans.gif" style=" transform: translateY(-0.4px);" alt="size" title="大小">',COMMENT:'<img class="comments" src="pic/trans.gif" alt="comments" title="评论数">',SEEDERS:'<img class="seeders" src="pic/trans.gif" alt="seeders" title="种子数">',LEECHERS:'<img class="leechers" src="pic/trans.gif" alt="leechers" title="下载数">',SNATCHED:'<img class="snatched" src="pic/trans.gif" alt="snatched" title="完成数">',DOWNLOAD:'<img class="download" src="pic/trans.gif" style=" transform: translateY(1px);" alt="download" title="下载本种">',COLLET:'<img class="delbookmark" src="pic/trans.gif" alt="Unbookmarked" title="收藏">',COLLETED:'<img class="bookmark" src="pic/trans.gif" alt="Bookmarked">'};function f(q,ie){const re=q.clientWidth,U=ie+_.CARD_BORDER,ne=Math.floor(re/U),B=(re-ne*U)/(ne-1);return console.log(`列数:${ne} 间隔:${B}`),console.log(`容器宽:${re} 列宽:${I?I.columnWidth:"对象"}`),Math.floor(B)}function d(){n(14,I.options.gutter=f(h,l),I),n(14,I.options.columnWidth=l,I),se("fast"),se("fast");}function p(){ue(Ke,c=0,c);}function k(q){q.key==="Escape"&&(console.log(q),ue(Ke,c=0,c),ue(rt,a=!1,a));}let E=!1,A=!1;const O={normal:"点击加载下一页",suspend:`下一页加载CD: ${b.GAP} ms`,disable:"不可用"};function D(q){q.preventDefault(),o||H(),E||(n(1,E=!0),setTimeout(()=>{n(1,E=!1);},b.GAP));}ue(Ft,r=Hi(),r);const R=document.querySelector("table.mainouter"),T=window.getComputedStyle(R)["background-color"];ue(bt,s=T,s),console.log("背景颜色:",T);const N=tt[r];let W=[];W=[...W,...N.TORRENT_LIST_TO_JSON(g)],console.log("---> 环境:	","production"),(oe=tt[r])==null||oe.special();let I,H;function Y(){const q=document.body.scrollHeight,ie=document.documentElement.clientHeight;(document.documentElement.scrollTop||document.body.scrollTop)+ie>=q-b.DISTANCE&&(o?H():console.log("加载模式: 按钮"),se());}H=vl(de,b.GAP);function de(){console.log("到页面底部啦!!! Scrolled to bottom!");const q=new URLSearchParams(window.location.search);b.PAGE_CURRENT=b.IS_ORIGIN?Number(q.get("page")):b.PAGE_CURRENT,b.PAGE_CURRENT?console.log("当前页数: "+b.PAGE_CURRENT):(console.log("网页链接没有page参数, 无法跳转下一页, 生成PAGE.PAGE_CURRENT为0"),b.PAGE_CURRENT=0),b.PAGE_NEXT=parseInt(b.PAGE_CURRENT)+1,q.set("page",b.PAGE_NEXT),b.NEXT_URL=window.location.origin+window.location.pathname+"?"+q.toString(),console.log("New URL:",b.NEXT_URL),fetch(b.NEXT_URL).then(ie=>ie.text()).then(ie=>{const ne=new DOMParser().parseFromString(ie,"text/html").querySelector(Qt());n(2,W=[...W,...N.TORRENT_LIST_TO_JSON(ne)]),b.IS_ORIGIN=!1,b.PAGE_CURRENT=b.PAGE_NEXT,A=!0,setTimeout(()=>{A=!1;},1e3);}).catch(ie=>{console.warn("获取不到下页信息, 可能到头了"),console.warn(ie);});}return Xt(()=>{n(14,I=new Masonry(h,{itemSelector:".card",columnWidth:l,gutter:f(h,l)})),window.masonry=I,ue(Bt,i=I,i),I.layout("fast"),I.layout("fast"),h.addEventListener("click",q=>{q.target===q.currentTarget&&(I&&I.layout(),console.log("Masonry 已整理~"));}),window.addEventListener("scroll",function(){Y();}),Wt(),window.NEXUS_TOOLS=Wt;}),cl(()=>{console.log("afterUpdate-------------------->"),I&&A&&(console.log("reload Items-------------------->"),I.reloadItems(),I.layout(),setTimeout(Wt,600));}),e.$$set=q=>{"originTable"in q&&n(12,g=q.originTable),"waterfallNode"in q&&n(13,h=q.waterfallNode);},e.$$.update=()=>{e.$$.dirty[0]&49153&&I&&(n(0,_.CARD_WIDTH=l,_),console.log("卡片宽度:	",_.CARD_WIDTH),d());},[_,E,W,o,r,c,u,v,p,k,O,D,g,h,I,l]}class Jl extends _t{constructor(t){super(),dt(this,t,Zl,Vl,it,{originTable:12,waterfallNode:13},null,[-1,-1]);}}function Kl(e){console.log(`[${new Date().toLocaleTimeString()}]<--------------------------HMR-------------------------->`);const t=document.querySelector(Qt());for(t.style.display="none";!Masonry;)console.log("等待初始化......");const n=t.parentNode,i=document.createElement("div");return i.classList.add("waterfall"),n.insertBefore(i,t.nextSibling),Xt(()=>{new Rl({target:document.body,props:{originTable:t}}),new Jl({target:i,props:{originTable:t,waterfallNode:i}});}),[]}class xl extends _t{constructor(t){super(),dt(this,t,Kl,null,it,{});}}console.log("________PT-TorrentList-Masonry________");const Wi=Qt(),eo=document.querySelector(Wi);Wi&&eo?new xl({target:(()=>{const e=document.createElement("div");return document.body.append(e),e})()}):console.log("未识别到种子列表捏~");

})();

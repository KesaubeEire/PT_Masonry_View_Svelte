// ==UserScript==
// @name            PT种子列表瀑布流视图(Svelte重构)
// @name:en         PT_Masonry_View_Svelte
// @namespace       https://github.com/KesaubeEire/PT_TorrentList_Masonry
// @version         1.0.1
// @author          Kesa
// @description     PT种子列表无限下拉瀑布流视图(Svelte重构)
// @description:en  PT Masonry View by Svelte.
// @license         MIT
// @icon            https://avatars.githubusercontent.com/u/23617963
// @match           https://kamept.com/*
// @match           https://kp.m-team.cc/*
// @match           https://pterclub.com/*
// @exclude         */offers.php*
// @exclude         */index.php*
// @exclude         */forums.php*
// @exclude         */viewrequests.php*
// @exclude         */seek.php*
// @grant           none
// ==/UserScript==

(t=>{const e=document.createElement("style");e.dataset.source="vite-plugin-monkey",e.textContent=t,document.head.append(e)})(' div.waterfall{width:100%;padding-top:20px;padding-bottom:60px;border-radius:20px;height:100%;margin:20px auto;transition:height .3s}button.debug{position:fixed;top:10px;right:10px;padding:4px;background-color:#333;color:#fff;border:none;border-radius:5px;cursor:pointer}button#toggle_oldTable{top:10px}button#btnReLayout{top:40px}button#btnSwitchMode{top:70px}button#sort_masonry{top:100px}.switch.svelte-2vaqag.svelte-2vaqag{width:100%;height:30px;display:flex;align-items:center;justify-content:space-between}.s_title.svelte-2vaqag.svelte-2vaqag{display:flex;align-items:center;font-size:14px;position:relative}.title_green.svelte-2vaqag.svelte-2vaqag{color:green;font-weight:800}.title_red.svelte-2vaqag.svelte-2vaqag{color:red;font-weight:800}.s_title.svelte-2vaqag:has(.hint):hover ._hint.svelte-2vaqag{display:block}._hint.svelte-2vaqag.svelte-2vaqag{display:none;position:absolute;bottom:28px;left:0;width:max-content;height:auto;background-color:#fff;border:1px solid black;border-radius:8px;padding:4px 8px;box-sizing:content-box;z-index:1}input[type=checkbox].svelte-2vaqag.svelte-2vaqag{width:0px;height:0px;display:none;visibility:hidden}label.svelte-2vaqag.svelte-2vaqag{width:48px;height:12px;display:inline-block;position:relative;background-color:#777;border:2px solid #555;border-radius:30px;transition:all .2s}label.svelte-2vaqag.svelte-2vaqag:after{content:"";display:block;width:24px;height:24px;background-color:#555;position:absolute;border-radius:50%;left:-2px;top:-6px;transition:transform .2s}input[type=checkbox].svelte-2vaqag:checked~label.svelte-2vaqag{background-color:#00a0fc;border-color:#006dc9}input[type=checkbox].svelte-2vaqag:checked~label.svelte-2vaqag:after{background-color:#0054b0;transform:translate(28px)}.sideP.svelte-693cwj.svelte-693cwj{position:fixed;opacity:.4;margin:4px 2px;background-color:#0ff;border-radius:8px;overflow:hidden;z-index:40000}.sideP.svelte-693cwj.svelte-693cwj:hover{opacity:1}.sideP__title.svelte-693cwj.svelte-693cwj{width:100%;height:8px;background-color:#ff0}.sideP__title.svelte-693cwj.svelte-693cwj:hover{cursor:move}.sideP__out.svelte-693cwj.svelte-693cwj{display:flex;flex-direction:column}.sideP__out.svelte-693cwj.svelte-693cwj button{background-color:gray;color:#fff;padding:4px 2px;margin:4px;border-radius:8px;cursor:pointer}.sideP__out.svelte-693cwj.svelte-693cwj button:hover{background-color:#000}.configP.svelte-693cwj.svelte-693cwj{position:fixed;left:0;top:0;width:100vw;height:100vh;padding:0;margin:0;z-index:50000;background-color:#0003}.configP_holder.svelte-693cwj.svelte-693cwj{position:absolute;right:20px;top:20px;overflow-y:scroll;width:360px;max-height:calc(100vh - 40px);padding:0;margin:0;border-radius:24px;border:2px solid black;background-color:#d4e7ff}.configP_holder.svelte-693cwj.svelte-693cwj::-webkit-scrollbar{display:none}.configP_title.svelte-693cwj.svelte-693cwj{position:fixed;box-sizing:border-box;width:inherit;display:flex;justify-content:space-between;align-items:center;height:40px;padding:0 10px;border-top-left-radius:24px;border-top-right-radius:24px;border-bottom:2px solid black;background-color:#9ac6ff;z-index:2}.configP_title.svelte-693cwj.svelte-693cwj p{font-size:18px;font-weight:500}.configP_title.svelte-693cwj.svelte-693cwj button{border:none;padding:0;margin:0;background-color:transparent}.section.svelte-693cwj.svelte-693cwj{margin:16px 18px}.section.svelte-693cwj.svelte-693cwj button{border-radius:10px;margin:4px;padding:12px 16px}.section.svelte-693cwj.svelte-693cwj .s_title{text-align:center}.section.svelte-693cwj.svelte-693cwj .s_panel{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}.section.svelte-693cwj.svelte-693cwj .s_checkbox{padding:12px;margin:4px;border-radius:10px;border:1px solid black;font-size:14px;display:flex;align-items:center}.configP_holder.svelte-693cwj .section.svelte-693cwj:nth-child(2){margin-top:48px}#reset_panel_pos.svelte-693cwj.svelte-693cwj{width:100%;text-align:center;border:1px solid black;border-radius:16px}.card.svelte-vdh3h6.svelte-vdh3h6{border:1px solid rgba(255,255,255,.5);border-radius:16px;margin:6px 0;overflow:hidden;cursor:pointer;box-shadow:#0000004d 3px 3px,#0000001a -1px -1px;transition:box-shadow .2s}.card.svelte-vdh3h6.svelte-vdh3h6:hover{box-shadow:#7300ff4d 5px 5px,#0000001a -1px -1px}.card-title.svelte-vdh3h6.svelte-vdh3h6{padding:2px 0}.card-holder.svelte-vdh3h6.svelte-vdh3h6{background-color:#ffffff80;background:linear-gradient(to bottom,rgba(255,255,255,.4),rgba(255,255,255,0))}.card-category.svelte-vdh3h6.svelte-vdh3h6{text-align:center;letter-spacing:2px;font-weight:700}.card-line.svelte-vdh3h6.svelte-vdh3h6{margin-top:1px;margin-bottom:1px;display:flex;justify-content:space-evenly;align-items:center;height:20px}.two-lines.svelte-vdh3h6.svelte-vdh3h6{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;transition:color .3s}.two-lines.svelte-vdh3h6.svelte-vdh3h6:hover{-webkit-line-clamp:100}.cl-center.svelte-vdh3h6.svelte-vdh3h6{display:flex;justify-content:space-evenly;align-items:center}.cl-tags.svelte-vdh3h6.svelte-vdh3h6{display:flex;justify-content:left;align-items:center;flex-wrap:wrap;gap:2px;transform:translate(4px)}.cl-tags.svelte-vdh3h6.svelte-vdh3h6:has(span){padding-top:2px}.card-details.svelte-vdh3h6.svelte-vdh3h6{display:flex;justify-content:center;align-items:center;flex-direction:column}.card-image.svelte-vdh3h6.svelte-vdh3h6{height:100%;position:relative}.card-image.svelte-vdh3h6 img.svelte-vdh3h6{width:100%;object-fit:cover}.card-alter.svelte-vdh3h6.svelte-vdh3h6{text-align:center;height:20px;display:flex;justify-content:center;align-items:center}.top_and_free.svelte-vdh3h6.svelte-vdh3h6{padding:2px;border-radius:4px;margin-bottom:2px;display:flex;justify-content:center;align-items:center;line-height:11px;height:11px;font-size:10px}._Free.svelte-vdh3h6.svelte-vdh3h6{color:#00f}._2XFree.svelte-vdh3h6.svelte-vdh3h6{color:green}.card-description.svelte-vdh3h6.svelte-vdh3h6{padding-left:4px;padding-right:4px}.card-index.svelte-vdh3h6.svelte-vdh3h6{position:absolute;top:0;left:0;padding-right:9px;padding-left:2px;margin:0;height:20px;line-height:16px;font-size:16px;background-color:#000;color:#ff0;border-top-right-radius:100px;border-bottom-right-radius:100px;display:flex;align-items:center;pointer-events:none}.btnCollet.svelte-vdh3h6.svelte-vdh3h6{padding:1px 2px;cursor:pointer}.hot.svelte-vdh3h6.svelte-vdh3h6,.new.svelte-vdh3h6.svelte-vdh3h6{padding:0 2px;border-radius:8px;background:white;margin:2px}.card-category.svelte-1rfbgrc.svelte-1rfbgrc{height:24px;padding:0 2px;border:1px;background:black;color:#fff;font-weight:600;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:flex;align-items:center}.card_category-img.svelte-1rfbgrc.svelte-1rfbgrc{height:32px;background-size:100% 141%;background-position:center top;padding-top:6px}.card.svelte-1rfbgrc.svelte-1rfbgrc{border:1px solid rgba(255,255,255,.5);border-radius:16px;margin:6px 0;overflow:hidden;cursor:pointer;box-shadow:#0000004d 3px 3px,#0000001a -1px -1px;transition:box-shadow .2s}.card.svelte-1rfbgrc.svelte-1rfbgrc:hover{box-shadow:#7300ff4d 5px 5px,#0000001a -1px -1px}.card-title.svelte-1rfbgrc.svelte-1rfbgrc{padding:2px 0}.card-holder.svelte-1rfbgrc.svelte-1rfbgrc{background-color:#ffffff80;background:linear-gradient(to bottom,rgba(255,255,255,.4),rgba(255,255,255,0))}.card-line.svelte-1rfbgrc.svelte-1rfbgrc{margin-top:1px;margin-bottom:1px;display:flex;justify-content:space-evenly;align-items:center;height:20px}.two-lines.svelte-1rfbgrc.svelte-1rfbgrc{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;transition:color .3s}.two-lines.svelte-1rfbgrc.svelte-1rfbgrc:hover{-webkit-line-clamp:100}.cl-center.svelte-1rfbgrc.svelte-1rfbgrc{display:flex;justify-content:space-evenly;align-items:center}.cl-tags.svelte-1rfbgrc.svelte-1rfbgrc{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:2px;padding-top:4px;padding-bottom:2px}.cl-tags.svelte-1rfbgrc.svelte-1rfbgrc:has(span){padding-top:2px}.card-details.svelte-1rfbgrc.svelte-1rfbgrc{display:flex;justify-content:center;align-items:center;flex-direction:column}.card-image.svelte-1rfbgrc.svelte-1rfbgrc{height:100%;position:relative}.card-image.svelte-1rfbgrc img.svelte-1rfbgrc{width:100%;object-fit:cover}.card-alter.svelte-1rfbgrc.svelte-1rfbgrc{text-align:center;height:20px;display:flex;justify-content:center;align-items:center}.top_and_free.svelte-1rfbgrc.svelte-1rfbgrc{padding:2px;border-radius:4px;margin-bottom:2px;display:flex;justify-content:center;align-items:center;line-height:11px;height:11px;font-size:10px}._Free.svelte-1rfbgrc.svelte-1rfbgrc{color:#00f}._2XFree.svelte-1rfbgrc.svelte-1rfbgrc{color:green}.card-description.svelte-1rfbgrc.svelte-1rfbgrc{padding-left:4px;padding-right:4px}.card-index.svelte-1rfbgrc.svelte-1rfbgrc{position:absolute;top:0;left:0;padding-right:9px;padding-left:2px;margin:0;height:20px;line-height:16px;font-size:16px;background-color:#000;color:#ff0;border-top-right-radius:100px;border-bottom-right-radius:100px;display:flex;align-items:center;pointer-events:none}.btnCollet.svelte-1rfbgrc.svelte-1rfbgrc{padding:1px 2px;cursor:pointer}.tempTags.svelte-1rfbgrc.svelte-1rfbgrc{background-color:#fff;margin-left:2px;padding-left:2px;padding-right:2px;border-radius:4px}#turnPage.svelte-tr7wwl{width:100%;height:32px;border-radius:16px;line-height:20px;font-size:14px;position:absolute;bottom:0px}div#_iframe.svelte-tr7wwl{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0026269b;z-index:30000;display:flex}iframe.svelte-tr7wwl{height:96%;margin:auto} ');

(function () {
      'use strict';

      function we(){}const yi=e=>e;function Gi(e,t){for(const n in t)e[n]=t[n];return e}function ki(e){return e()}function un(){return Object.create(null)}function Re(e){e.forEach(ki);}function nt(e){return typeof e=="function"}function it(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let bt;function at(e,t){return bt||(bt=document.createElement("a")),bt.href=t,e===bt.href}function Yi(e){return Object.keys(e).length===0}function wi(e,...t){if(e==null)return we;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function dn(e){let t;return wi(e,n=>t=n)(),t}function ee(e,t,n){e.$$.on_destroy.push(wi(t,n));}function ji(e,t,n,i){if(e){const l=Ei(e,t,n,i);return e[0](l)}}function Ei(e,t,n,i){return e[1]&&i?Gi(n.ctx.slice(),e[1](i(t))):n.ctx}function Fi(e,t,n,i){if(e[2]&&i){const l=e[2](i(n));if(t.dirty===void 0)return l;if(typeof l=="object"){const o=[],s=Math.max(t.dirty.length,l.length);for(let r=0;r<s;r+=1)o[r]=t.dirty[r]|l[r];return o}return t.dirty|l}return t.dirty}function Bi(e,t,n,i,l,o){if(l){const s=Ei(t,n,i,o);e.p(s,l);}}function Ui(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return -1}function se(e,t,n){return e.set(n),t}const Ti=typeof window<"u";let Xi=Ti?()=>window.performance.now():()=>Date.now(),Ut=Ti?e=>requestAnimationFrame(e):we;const ft=new Set;function Li(e){ft.forEach(t=>{t.c(e)||(ft.delete(t),t.f());}),ft.size!==0&&Ut(Li);}function Qi(e){let t;return ft.size===0&&Ut(Li),{promise:new Promise(n=>{ft.add(t={c:e,f:n});}),abort(){ft.delete(t);}}}const Vi=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function m(e,t){e.appendChild(t);}function Ii(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Zi(e){const t=w("style");return Ji(Ii(e),t),t.sheet}function Ji(e,t){return m(e.head||e,t),t.sheet}function S(e,t,n){e.insertBefore(t,n||null);}function C(e){e.parentNode&&e.parentNode.removeChild(e);}function w(e){return document.createElement(e)}function kt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function L(e){return document.createTextNode(e)}function M(){return L(" ")}function ze(){return L("")}function Z(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function Ki(e){return function(t){t.target===this&&e.call(this,t);}}function y(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n);}function $i(e){return e===""?null:+e}function xi(e){return Array.from(e.childNodes)}function B(e,t){t=""+t,e.data!==t&&(e.data=t);}function _n(e,t){e.value=t??"";}function le(e,t,n,i){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"");}function el(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,n,i,t),l}class Q{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null;}c(t){this.h(t);}m(t,n,i=null){this.e||(this.is_svg?this.e=kt(n.nodeName):this.e=w(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(i);}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes);}i(t){for(let n=0;n<this.n.length;n+=1)S(this.t,this.n[n],t);}p(t){this.d(),this.h(t),this.i(this.a);}d(){this.n.forEach(C);}}const Ct=new Map;let St=0;function tl(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function nl(e,t){const n={stylesheet:Zi(t),rules:{}};return Ct.set(e,n),n}function hn(e,t,n,i,l,o,s,r=0){const a=16.666/i;let f=`{
`;for(let c=0;c<=1;c+=a){const h=t+(n-t)*o(c);f+=c*100+`%{${s(h,1-h)}}
`;}const u=f+`100% {${s(n,1-n)}}
}`,v=`__svelte_${tl(u)}_${r}`,_=Ii(e),{stylesheet:d,rules:g}=Ct.get(_)||nl(_,e);g[v]||(g[v]=!0,d.insertRule(`@keyframes ${v} ${u}`,d.cssRules.length));const b=e.style.animation||"";return e.style.animation=`${b?`${b}, `:""}${v} ${i}ms linear ${l}ms 1 both`,St+=1,v}function il(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),l=n.length-i.length;l&&(e.style.animation=i.join(", "),St-=l,St||ll());}function ll(){Ut(()=>{St||(Ct.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&C(t);}),Ct.clear());});}let gt;function pt(e){gt=e;}function Ci(){if(!gt)throw new Error("Function called outside component initialization");return gt}function Xt(e){Ci().$$.on_mount.push(e);}function ol(e){Ci().$$.after_update.push(e);}const rt=[],He=[];let ct=[];const Gt=[],rl=Promise.resolve();let Yt=!1;function sl(){Yt||(Yt=!0,rl.then(Si));}function ut(e){ct.push(e);}function Ue(e){Gt.push(e);}const At=new Set;let lt=0;function Si(){if(lt!==0)return;const e=gt;do{try{for(;lt<rt.length;){const t=rt[lt];lt++,pt(t),al(t.$$);}}catch(t){throw rt.length=0,lt=0,t}for(pt(null),rt.length=0,lt=0;He.length;)He.pop()();for(let t=0;t<ct.length;t+=1){const n=ct[t];At.has(n)||(At.add(n),n());}ct.length=0;}while(rt.length);for(;Gt.length;)Gt.pop()();Yt=!1,At.clear(),pt(e);}function al(e){if(e.fragment!==null){e.update(),Re(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ut);}}function fl(e){const t=[],n=[];ct.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),ct=t;}let mt;function cl(){return mt||(mt=Promise.resolve(),mt.then(()=>{mt=null;})),mt}function Ht(e,t,n){e.dispatchEvent(el(`${t?"intro":"outro"}${n}`));}const wt=new Set;let Ke;function xe(){Ke={r:0,c:[],p:Ke};}function et(){Ke.r||Re(Ke.c),Ke=Ke.p;}function V(e,t){e&&e.i&&(wt.delete(e),e.i(t));}function x(e,t,n,i){if(e&&e.o){if(wt.has(e))return;wt.add(e),Ke.c.push(()=>{wt.delete(e),i&&(n&&e.d(1),i());}),e.o(t);}else i&&i();}const ul={duration:0};function Ot(e,t,n,i){const l={direction:"both"};let o=t(e,n,l),s=i?0:1,r=null,a=null,f=null;function u(){f&&il(e,f);}function v(d,g){const b=d.b-s;return g*=Math.abs(b),{a:s,b:d.b,d:b,duration:g,start:d.start,end:d.start+g,group:d.group}}function _(d){const{delay:g=0,duration:b=300,easing:c=yi,tick:h=we,css:p}=o||ul,k={start:Xi()+g,b:d};d||(k.group=Ke,Ke.r+=1),r||a?a=k:(p&&(u(),f=hn(e,s,d,b,g,c,p)),d&&h(0,1),r=v(k,b),ut(()=>Ht(e,d,"start")),Qi(E=>{if(a&&E>a.start&&(r=v(a,b),a=null,Ht(e,r.b,"start"),p&&(u(),f=hn(e,s,r.b,r.duration,0,c,o.css))),r){if(E>=r.end)h(s=r.b,1-s),Ht(e,r.b,"end"),a||(r.b?u():--r.group.r||Re(r.group.c)),r=null;else if(E>=r.start){const A=E-r.start;s=r.a+r.d*c(A/r.duration),h(s,1-s);}}return !!(r||a)}));}return {run(d){nt(o)?cl().then(()=>{o=o(l),_(d);}):_(d);},end(){u(),r=a=null;}}}function Oi(e,t){x(e,1,1,()=>{t.delete(e.key);});}function Ni(e,t,n,i,l,o,s,r,a,f,u,v){let _=e.length,d=o.length,g=_;const b={};for(;g--;)b[e[g].key]=g;const c=[],h=new Map,p=new Map,k=[];for(g=d;g--;){const D=v(l,o,g),R=n(D);let T=s.get(R);T?i&&k.push(()=>T.p(D,t)):(T=f(R,D),T.c()),h.set(R,c[g]=T),R in b&&p.set(R,Math.abs(g-b[R]));}const E=new Set,A=new Set;function O(D){V(D,1),D.m(r,u),s.set(D.key,D),u=D.first,d--;}for(;_&&d;){const D=c[d-1],R=e[_-1],T=D.key,N=R.key;D===R?(u=D.first,_--,d--):h.has(N)?!s.has(T)||E.has(T)?O(D):A.has(N)?_--:p.get(T)>p.get(N)?(A.add(T),O(D)):(E.add(N),_--):(a(R,s),_--);}for(;_--;){const D=e[_];h.has(D.key)||a(D,s);}for(;d;)O(c[d-1]);return Re(k),c}function Xe(e,t,n){const i=e.$$.props[t];i!==void 0&&(e.$$.bound[i]=n,n(e.$$.ctx[i]));}function Pe(e){e&&e.c();}function De(e,t,n,i){const{fragment:l,after_update:o}=e.$$;l&&l.m(t,n),i||ut(()=>{const s=e.$$.on_mount.map(ki).filter(nt);e.$$.on_destroy?e.$$.on_destroy.push(...s):Re(s),e.$$.on_mount=[];}),o.forEach(ut);}function Me(e,t){const n=e.$$;n.fragment!==null&&(fl(n.after_update),Re(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[]);}function dl(e,t){e.$$.dirty[0]===-1&&(rt.push(e),sl(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31;}function dt(e,t,n,i,l,o,s,r=[-1]){const a=gt;pt(e);const f=e.$$={fragment:null,ctx:[],props:o,update:we,not_equal:l,bound:un(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:un(),dirty:r,skip_bound:!1,root:t.target||a.$$.root};s&&s(f.root);let u=!1;if(f.ctx=n?n(e,t.props||{},(v,_,...d)=>{const g=d.length?d[0]:_;return f.ctx&&l(f.ctx[v],f.ctx[v]=g)&&(!f.skip_bound&&f.bound[v]&&f.bound[v](g),u&&dl(e,v)),_}):[],f.update(),u=!0,Re(f.before_update),f.fragment=i?i(f.ctx):!1,t.target){if(t.hydrate){const v=xi(t.target);f.fragment&&f.fragment.l(v),v.forEach(C);}else f.fragment&&f.fragment.c();t.intro&&V(e.$$.fragment),De(e,t.target,t.anchor,t.customElement),Si();}pt(a);}class _t{$destroy(){Me(this,1),this.$destroy=we;}$on(t,n){if(!nt(n))return we;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const l=i.indexOf(n);l!==-1&&i.splice(l,1);}}$set(t){this.$$set&&!Yi(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1);}}/*!
       * Masonry PACKAGED v4.2.2
       * Cascading grid layout library
       * https://masonry.desandro.com
       * MIT License
       * by David DeSandro
       */(function(e,t){typeof define=="function"&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(n){return t(e,n)}):e.jQueryBridget=t(e,e.jQuery);})(window,function(t,n){var i=Array.prototype.slice,l=t.console,o=typeof l>"u"?function(){}:function(a){l.error(a);};function s(a,f,u){if(u=u||n||t.jQuery,!u)return;f.prototype.option||(f.prototype.option=function(d){u.isPlainObject(d)&&(this.options=u.extend(!0,this.options,d));}),u.fn[a]=function(d){if(typeof d=="string"){var g=i.call(arguments,1);return v(this,d,g)}return _(this,d),this};function v(d,g,b){var c,h="$()."+a+'("'+g+'")';return d.each(function(p,k){var E=u.data(k,a);if(!E){o(a+" not initialized. Cannot call methods, i.e. "+h);return}var A=E[g];if(!A||g.charAt(0)=="_"){o(h+" is not a valid method");return}var O=A.apply(E,b);c=c===void 0?O:c;}),c!==void 0?c:d}function _(d,g){d.each(function(b,c){var h=u.data(c,a);h?(h.option(g),h._init()):(h=new f(c,g),u.data(c,a,h));});}r(u);}function r(a){!a||a&&a.bridget||(a.bridget=s);}return r(n||t.jQuery),s});(function(e,t){typeof define=="function"&&define.amd?define("ev-emitter/ev-emitter",t):e.EvEmitter=t();})(typeof window<"u"?window:globalThis,function(){function e(){}var t=e.prototype;return t.on=function(n,i){if(!(!n||!i)){var l=this._events=this._events||{},o=l[n]=l[n]||[];return o.indexOf(i)==-1&&o.push(i),this}},t.once=function(n,i){if(!(!n||!i)){this.on(n,i);var l=this._onceEvents=this._onceEvents||{},o=l[n]=l[n]||{};return o[i]=!0,this}},t.off=function(n,i){var l=this._events&&this._events[n];if(!(!l||!l.length)){var o=l.indexOf(i);return o!=-1&&l.splice(o,1),this}},t.emitEvent=function(n,i){var l=this._events&&this._events[n];if(!(!l||!l.length)){l=l.slice(0),i=i||[];for(var o=this._onceEvents&&this._onceEvents[n],s=0;s<l.length;s++){var r=l[s],a=o&&o[r];a&&(this.off(n,r),delete o[r]),r.apply(this,i);}return this}},t.allOff=function(){delete this._events,delete this._onceEvents;},e});/*!
       * getSize v2.0.3
       * measure size of elements
       * MIT license
       */(function(e,t){typeof define=="function"&&define.amd?define("get-size/get-size",t):e.getSize=t();})(window,function(){function t(_){var d=parseFloat(_),g=_.indexOf("%")==-1&&!isNaN(d);return g&&d}function n(){}var i=typeof console>"u"?n:function(_){console.error(_);},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],o=l.length;function s(){for(var _={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},d=0;d<o;d++){var g=l[d];_[g]=0;}return _}function r(_){var d=getComputedStyle(_);return d||i("Style returned "+d+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),d}var a=!1,f;function u(){if(!a){a=!0;var _=document.createElement("div");_.style.width="200px",_.style.padding="1px 2px 3px 4px",_.style.borderStyle="solid",_.style.borderWidth="1px 2px 3px 4px",_.style.boxSizing="border-box";var d=document.body||document.documentElement;d.appendChild(_);var g=r(_);f=Math.round(t(g.width))==200,v.isBoxSizeOuter=f,d.removeChild(_);}}function v(_){if(u(),typeof _=="string"&&(_=document.querySelector(_)),!(!_||typeof _!="object"||!_.nodeType)){var d=r(_);if(d.display=="none")return s();var g={};g.width=_.offsetWidth,g.height=_.offsetHeight;for(var b=g.isBorderBox=d.boxSizing=="border-box",c=0;c<o;c++){var h=l[c],p=d[h],k=parseFloat(p);g[h]=isNaN(k)?0:k;}var E=g.paddingLeft+g.paddingRight,A=g.paddingTop+g.paddingBottom,O=g.marginLeft+g.marginRight,D=g.marginTop+g.marginBottom,R=g.borderLeftWidth+g.borderRightWidth,T=g.borderTopWidth+g.borderBottomWidth,N=b&&f,P=t(d.width);P!==!1&&(g.width=P+(N?0:E+R));var I=t(d.height);return I!==!1&&(g.height=I+(N?0:A+T)),g.innerWidth=g.width-(E+R),g.innerHeight=g.height-(A+T),g.outerWidth=g.width+O,g.outerHeight=g.height+D,g}}return v});(function(e,t){typeof define=="function"&&define.amd?define("desandro-matches-selector/matches-selector",t):e.matchesSelector=t();})(window,function(){var t=function(){var n=window.Element.prototype;if(n.matches)return "matches";if(n.matchesSelector)return "matchesSelector";for(var i=["webkit","moz","ms","o"],l=0;l<i.length;l++){var o=i[l],s=o+"MatchesSelector";if(n[s])return s}}();return function(i,l){return i[t](l)}});(function(e,t){typeof define=="function"&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(n){return t(e,n)}):e.fizzyUIUtils=t(e,e.matchesSelector);})(window,function(t,n){var i={};i.extend=function(s,r){for(var a in r)s[a]=r[a];return s},i.modulo=function(s,r){return (s%r+r)%r};var l=Array.prototype.slice;i.makeArray=function(s){if(Array.isArray(s))return s;if(s==null)return [];var r=typeof s=="object"&&typeof s.length=="number";return r?l.call(s):[s]},i.removeFrom=function(s,r){var a=s.indexOf(r);a!=-1&&s.splice(a,1);},i.getParent=function(s,r){for(;s.parentNode&&s!=document.body;)if(s=s.parentNode,n(s,r))return s},i.getQueryElement=function(s){return typeof s=="string"?document.querySelector(s):s},i.handleEvent=function(s){var r="on"+s.type;this[r]&&this[r](s);},i.filterFindElements=function(s,r){s=i.makeArray(s);var a=[];return s.forEach(function(f){if(f instanceof HTMLElement){if(!r){a.push(f);return}n(f,r)&&a.push(f);for(var u=f.querySelectorAll(r),v=0;v<u.length;v++)a.push(u[v]);}}),a},i.debounceMethod=function(s,r,a){a=a||100;var f=s.prototype[r],u=r+"Timeout";s.prototype[r]=function(){var v=this[u];clearTimeout(v);var _=arguments,d=this;this[u]=setTimeout(function(){f.apply(d,_),delete d[u];},a);};},i.docReady=function(s){var r=document.readyState;r=="complete"||r=="interactive"?setTimeout(s):document.addEventListener("DOMContentLoaded",s);},i.toDashed=function(s){return s.replace(/(.)([A-Z])/g,function(r,a,f){return a+"-"+f}).toLowerCase()};var o=t.console;return i.htmlInit=function(s,r){i.docReady(function(){var a=i.toDashed(r),f="data-"+a,u=document.querySelectorAll("["+f+"]"),v=document.querySelectorAll(".js-"+a),_=i.makeArray(u).concat(i.makeArray(v)),d=f+"-options",g=t.jQuery;_.forEach(function(b){var c=b.getAttribute(f)||b.getAttribute(d),h;try{h=c&&JSON.parse(c);}catch(k){o&&o.error("Error parsing "+f+" on "+b.className+": "+k);return}var p=new s(b,h);g&&g.data(b,r,p);});});},i});(function(e,t){typeof define=="function"&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],t):(e.Outlayer={},e.Outlayer.Item=t(e.EvEmitter,e.getSize));})(window,function(t,n){function i(b){for(var c in b)return !1;return c=null,!0}var l=document.documentElement.style,o=typeof l.transition=="string"?"transition":"WebkitTransition",s=typeof l.transform=="string"?"transform":"WebkitTransform",r={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[o],a={transform:s,transition:o,transitionDuration:o+"Duration",transitionProperty:o+"Property",transitionDelay:o+"Delay"};function f(b,c){b&&(this.element=b,this.layout=c,this.position={x:0,y:0},this._create());}var u=f.prototype=Object.create(t.prototype);u.constructor=f,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"});},u.handleEvent=function(b){var c="on"+b.type;this[c]&&this[c](b);},u.getSize=function(){this.size=n(this.element);},u.css=function(b){var c=this.element.style;for(var h in b){var p=a[h]||h;c[p]=b[h];}},u.getPosition=function(){var b=getComputedStyle(this.element),c=this.layout._getOption("originLeft"),h=this.layout._getOption("originTop"),p=b[c?"left":"right"],k=b[h?"top":"bottom"],E=parseFloat(p),A=parseFloat(k),O=this.layout.size;p.indexOf("%")!=-1&&(E=E/100*O.width),k.indexOf("%")!=-1&&(A=A/100*O.height),E=isNaN(E)?0:E,A=isNaN(A)?0:A,E-=c?O.paddingLeft:O.paddingRight,A-=h?O.paddingTop:O.paddingBottom,this.position.x=E,this.position.y=A;},u.layoutPosition=function(){var b=this.layout.size,c={},h=this.layout._getOption("originLeft"),p=this.layout._getOption("originTop"),k=h?"paddingLeft":"paddingRight",E=h?"left":"right",A=h?"right":"left",O=this.position.x+b[k];c[E]=this.getXValue(O),c[A]="";var D=p?"paddingTop":"paddingBottom",R=p?"top":"bottom",T=p?"bottom":"top",N=this.position.y+b[D];c[R]=this.getYValue(N),c[T]="",this.css(c),this.emitEvent("layout",[this]);},u.getXValue=function(b){var c=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!c?b/this.layout.size.width*100+"%":b+"px"},u.getYValue=function(b){var c=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&c?b/this.layout.size.height*100+"%":b+"px"},u._transitionTo=function(b,c){this.getPosition();var h=this.position.x,p=this.position.y,k=b==this.position.x&&c==this.position.y;if(this.setPosition(b,c),k&&!this.isTransitioning){this.layoutPosition();return}var E=b-h,A=c-p,O={};O.transform=this.getTranslate(E,A),this.transition({to:O,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0});},u.getTranslate=function(b,c){var h=this.layout._getOption("originLeft"),p=this.layout._getOption("originTop");return b=h?b:-b,c=p?c:-c,"translate3d("+b+"px, "+c+"px, 0)"},u.goTo=function(b,c){this.setPosition(b,c),this.layoutPosition();},u.moveTo=u._transitionTo,u.setPosition=function(b,c){this.position.x=parseFloat(b),this.position.y=parseFloat(c);},u._nonTransition=function(b){this.css(b.to),b.isCleaning&&this._removeStyles(b.to);for(var c in b.onTransitionEnd)b.onTransitionEnd[c].call(this);},u.transition=function(b){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(b);return}var c=this._transn;for(var h in b.onTransitionEnd)c.onEnd[h]=b.onTransitionEnd[h];for(h in b.to)c.ingProperties[h]=!0,b.isCleaning&&(c.clean[h]=!0);b.from&&(this.css(b.from),this.element.offsetHeight),this.enableTransition(b.to),this.css(b.to),this.isTransitioning=!0;};function v(b){return b.replace(/([A-Z])/g,function(c){return "-"+c.toLowerCase()})}var _="opacity,"+v(s);u.enableTransition=function(){if(!this.isTransitioning){var b=this.layout.options.transitionDuration;b=typeof b=="number"?b+"ms":b,this.css({transitionProperty:_,transitionDuration:b,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(r,this,!1);}},u.onwebkitTransitionEnd=function(b){this.ontransitionend(b);},u.onotransitionend=function(b){this.ontransitionend(b);};var d={"-webkit-transform":"transform"};u.ontransitionend=function(b){if(b.target===this.element){var c=this._transn,h=d[b.propertyName]||b.propertyName;if(delete c.ingProperties[h],i(c.ingProperties)&&this.disableTransition(),h in c.clean&&(this.element.style[b.propertyName]="",delete c.clean[h]),h in c.onEnd){var p=c.onEnd[h];p.call(this),delete c.onEnd[h];}this.emitEvent("transitionEnd",[this]);}},u.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(r,this,!1),this.isTransitioning=!1;},u._removeStyles=function(b){var c={};for(var h in b)c[h]="";this.css(c);};var g={transitionProperty:"",transitionDuration:"",transitionDelay:""};return u.removeTransitionStyles=function(){this.css(g);},u.stagger=function(b){b=isNaN(b)?0:b,this.staggerDelay=b+"ms";},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this]);},u.remove=function(){if(!o||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem();}),this.hide();},u.reveal=function(){delete this.isHidden,this.css({display:""});var b=this.layout.options,c={},h=this.getHideRevealTransitionEndProperty("visibleStyle");c[h]=this.onRevealTransitionEnd,this.transition({from:b.hiddenStyle,to:b.visibleStyle,isCleaning:!0,onTransitionEnd:c});},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal");},u.getHideRevealTransitionEndProperty=function(b){var c=this.layout.options[b];if(c.opacity)return "opacity";for(var h in c)return h},u.hide=function(){this.isHidden=!0,this.css({display:""});var b=this.layout.options,c={},h=this.getHideRevealTransitionEndProperty("hiddenStyle");c[h]=this.onHideTransitionEnd,this.transition({from:b.visibleStyle,to:b.hiddenStyle,isCleaning:!0,onTransitionEnd:c});},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"));},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""});},f});/*!
       * Outlayer v2.1.1
       * the brains and guts of a layout library
       * MIT license
       */(function(e,t){typeof define=="function"&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,i,l,o){return t(e,n,i,l,o)}):e.Outlayer=t(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item);})(window,function(t,n,i,l,o){var s=t.console,r=t.jQuery,a=function(){},f=0,u={};function v(c,h){var p=l.getQueryElement(c);if(!p){s&&s.error("Bad element for "+this.constructor.namespace+": "+(p||c));return}this.element=p,r&&(this.$element=r(this.element)),this.options=l.extend({},this.constructor.defaults),this.option(h);var k=++f;this.element.outlayerGUID=k,u[k]=this,this._create();var E=this._getOption("initLayout");E&&this.layout();}v.namespace="outlayer",v.Item=o,v.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var _=v.prototype;l.extend(_,n.prototype),_.option=function(c){l.extend(this.options,c);},_._getOption=function(c){var h=this.constructor.compatOptions[c];return h&&this.options[h]!==void 0?this.options[h]:this.options[c]},v.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},_._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),l.extend(this.element.style,this.options.containerStyle);var c=this._getOption("resize");c&&this.bindResize();},_.reloadItems=function(){this.items=this._itemize(this.element.children);},_._itemize=function(c){for(var h=this._filterFindItemElements(c),p=this.constructor.Item,k=[],E=0;E<h.length;E++){var A=h[E],O=new p(A,this);k.push(O);}return k},_._filterFindItemElements=function(c){return l.filterFindElements(c,this.options.itemSelector)},_.getItemElements=function(){return this.items.map(function(c){return c.element})},_.layout=function(){this._resetLayout(),this._manageStamps();var c=this._getOption("layoutInstant"),h=c!==void 0?c:!this._isLayoutInited;this.layoutItems(this.items,h),this._isLayoutInited=!0;},_._init=_.layout,_._resetLayout=function(){this.getSize();},_.getSize=function(){this.size=i(this.element);},_._getMeasurement=function(c,h){var p=this.options[c],k;p?(typeof p=="string"?k=this.element.querySelector(p):p instanceof HTMLElement&&(k=p),this[c]=k?i(k)[h]:p):this[c]=0;},_.layoutItems=function(c,h){c=this._getItemsForLayout(c),this._layoutItems(c,h),this._postLayout();},_._getItemsForLayout=function(c){return c.filter(function(h){return !h.isIgnored})},_._layoutItems=function(c,h){if(this._emitCompleteOnItems("layout",c),!(!c||!c.length)){var p=[];c.forEach(function(k){var E=this._getItemLayoutPosition(k);E.item=k,E.isInstant=h||k.isLayoutInstant,p.push(E);},this),this._processLayoutQueue(p);}},_._getItemLayoutPosition=function(){return {x:0,y:0}},_._processLayoutQueue=function(c){this.updateStagger(),c.forEach(function(h,p){this._positionItem(h.item,h.x,h.y,h.isInstant,p);},this);},_.updateStagger=function(){var c=this.options.stagger;if(c==null){this.stagger=0;return}return this.stagger=b(c),this.stagger},_._positionItem=function(c,h,p,k,E){k?c.goTo(h,p):(c.stagger(E*this.stagger),c.moveTo(h,p));},_._postLayout=function(){this.resizeContainer();},_.resizeContainer=function(){var c=this._getOption("resizeContainer");if(c){var h=this._getContainerSize();h&&(this._setContainerMeasure(h.width,!0),this._setContainerMeasure(h.height,!1));}},_._getContainerSize=a,_._setContainerMeasure=function(c,h){if(c!==void 0){var p=this.size;p.isBorderBox&&(c+=h?p.paddingLeft+p.paddingRight+p.borderLeftWidth+p.borderRightWidth:p.paddingBottom+p.paddingTop+p.borderTopWidth+p.borderBottomWidth),c=Math.max(c,0),this.element.style[h?"width":"height"]=c+"px";}},_._emitCompleteOnItems=function(c,h){var p=this;function k(){p.dispatchEvent(c+"Complete",null,[h]);}var E=h.length;if(!h||!E){k();return}var A=0;function O(){A++,A==E&&k();}h.forEach(function(D){D.once(c,O);});},_.dispatchEvent=function(c,h,p){var k=h?[h].concat(p):p;if(this.emitEvent(c,k),r)if(this.$element=this.$element||r(this.element),h){var E=r.Event(h);E.type=c,this.$element.trigger(E,p);}else this.$element.trigger(c,p);},_.ignore=function(c){var h=this.getItem(c);h&&(h.isIgnored=!0);},_.unignore=function(c){var h=this.getItem(c);h&&delete h.isIgnored;},_.stamp=function(c){c=this._find(c),c&&(this.stamps=this.stamps.concat(c),c.forEach(this.ignore,this));},_.unstamp=function(c){c=this._find(c),c&&c.forEach(function(h){l.removeFrom(this.stamps,h),this.unignore(h);},this);},_._find=function(c){if(c)return typeof c=="string"&&(c=this.element.querySelectorAll(c)),c=l.makeArray(c),c},_._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this));},_._getBoundingRect=function(){var c=this.element.getBoundingClientRect(),h=this.size;this._boundingRect={left:c.left+h.paddingLeft+h.borderLeftWidth,top:c.top+h.paddingTop+h.borderTopWidth,right:c.right-(h.paddingRight+h.borderRightWidth),bottom:c.bottom-(h.paddingBottom+h.borderBottomWidth)};},_._manageStamp=a,_._getElementOffset=function(c){var h=c.getBoundingClientRect(),p=this._boundingRect,k=i(c),E={left:h.left-p.left-k.marginLeft,top:h.top-p.top-k.marginTop,right:p.right-h.right-k.marginRight,bottom:p.bottom-h.bottom-k.marginBottom};return E},_.handleEvent=l.handleEvent,_.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0;},_.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1;},_.onresize=function(){this.resize();},l.debounceMethod(v,"onresize",100),_.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout();},_.needsResizeLayout=function(){var c=i(this.element),h=this.size&&c;return h&&c.innerWidth!==this.size.innerWidth},_.addItems=function(c){var h=this._itemize(c);return h.length&&(this.items=this.items.concat(h)),h},_.appended=function(c){var h=this.addItems(c);h.length&&(this.layoutItems(h,!0),this.reveal(h));},_.prepended=function(c){var h=this._itemize(c);if(h.length){var p=this.items.slice(0);this.items=h.concat(p),this._resetLayout(),this._manageStamps(),this.layoutItems(h,!0),this.reveal(h),this.layoutItems(p);}},_.reveal=function(c){if(this._emitCompleteOnItems("reveal",c),!(!c||!c.length)){var h=this.updateStagger();c.forEach(function(p,k){p.stagger(k*h),p.reveal();});}},_.hide=function(c){if(this._emitCompleteOnItems("hide",c),!(!c||!c.length)){var h=this.updateStagger();c.forEach(function(p,k){p.stagger(k*h),p.hide();});}},_.revealItemElements=function(c){var h=this.getItems(c);this.reveal(h);},_.hideItemElements=function(c){var h=this.getItems(c);this.hide(h);},_.getItem=function(c){for(var h=0;h<this.items.length;h++){var p=this.items[h];if(p.element==c)return p}},_.getItems=function(c){c=l.makeArray(c);var h=[];return c.forEach(function(p){var k=this.getItem(p);k&&h.push(k);},this),h},_.remove=function(c){var h=this.getItems(c);this._emitCompleteOnItems("remove",h),!(!h||!h.length)&&h.forEach(function(p){p.remove(),l.removeFrom(this.items,p);},this);},_.destroy=function(){var c=this.element.style;c.height="",c.position="",c.width="",this.items.forEach(function(p){p.destroy();}),this.unbindResize();var h=this.element.outlayerGUID;delete u[h],delete this.element.outlayerGUID,r&&r.removeData(this.element,this.constructor.namespace);},v.data=function(c){c=l.getQueryElement(c);var h=c&&c.outlayerGUID;return h&&u[h]},v.create=function(c,h){var p=d(v);return p.defaults=l.extend({},v.defaults),l.extend(p.defaults,h),p.compatOptions=l.extend({},v.compatOptions),p.namespace=c,p.data=v.data,p.Item=d(o),l.htmlInit(p,c),r&&r.bridget&&r.bridget(c,p),p};function d(c){function h(){c.apply(this,arguments);}return h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h}var g={ms:1,s:1e3};function b(c){if(typeof c=="number")return c;var h=c.match(/(^\d*\.?\d*)(\w*)/),p=h&&h[1],k=h&&h[2];if(!p.length)return 0;p=parseFloat(p);var E=g[k]||1;return p*E}return v.Item=o,v});/*!
       * Masonry v4.2.2
       * Cascading grid layout library
       * https://masonry.desandro.com
       * MIT License
       * by David DeSandro
       */(function(e,t){typeof define=="function"&&define.amd?define(["outlayer/outlayer","get-size/get-size"],t):e.Masonry=t(e.Outlayer,e.getSize);})(window,function(t,n){var i=t.create("masonry");i.compatOptions.fitWidth="isFitWidth";var l=i.prototype;return l._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var o=0;o<this.cols;o++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0;},l.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var o=this.items[0],s=o&&o.element;this.columnWidth=s&&n(s).outerWidth||this.containerWidth;}var r=this.columnWidth+=this.gutter,a=this.containerWidth+this.gutter,f=a/r,u=r-a%r,v=u&&u<1?"round":"floor";f=Math[v](f),this.cols=Math.max(f,1);},l.getContainerWidth=function(){var o=this._getOption("fitWidth"),s=o?this.element.parentNode:this.element,r=n(s);this.containerWidth=r&&r.innerWidth;},l._getItemLayoutPosition=function(o){o.getSize();var s=o.size.outerWidth%this.columnWidth,r=s&&s<1?"round":"ceil",a=Math[r](o.size.outerWidth/this.columnWidth);a=Math.min(a,this.cols);for(var f=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",u=this[f](a,o),v={x:this.columnWidth*u.col,y:u.y},_=u.y+o.size.outerHeight,d=a+u.col,g=u.col;g<d;g++)this.colYs[g]=_;return v},l._getTopColPosition=function(o){var s=this._getTopColGroup(o),r=Math.min.apply(Math,s);return {col:s.indexOf(r),y:r}},l._getTopColGroup=function(o){if(o<2)return this.colYs;for(var s=[],r=this.cols+1-o,a=0;a<r;a++)s[a]=this._getColGroupY(a,o);return s},l._getColGroupY=function(o,s){if(s<2)return this.colYs[o];var r=this.colYs.slice(o,o+s);return Math.max.apply(Math,r)},l._getHorizontalColPosition=function(o,s){var r=this.horizontalColIndex%this.cols,a=o>1&&r+o>this.cols;r=a?0:r;var f=s.size.outerWidth&&s.size.outerHeight;return this.horizontalColIndex=f?r+o:this.horizontalColIndex,{col:r,y:this._getColGroupY(r,o)}},l._manageStamp=function(o){var s=n(o),r=this._getElementOffset(o),a=this._getOption("originLeft"),f=a?r.left:r.right,u=f+s.outerWidth,v=Math.floor(f/this.columnWidth);v=Math.max(0,v);var _=Math.floor(u/this.columnWidth);_-=u%this.columnWidth?0:1,_=Math.min(this.cols-1,_);for(var d=this._getOption("originTop"),g=(d?r.top:r.bottom)+s.outerHeight,b=v;b<=_;b++)this.colYs[b]=Math.max(g,this.colYs[b]);},l._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var o={height:this.maxY};return this._getOption("fitWidth")&&(o.width=this._getContainerFitWidth()),o},l._getContainerFitWidth=function(){for(var o=0,s=this.cols;--s&&this.colYs[s]===0;)o++;return (this.cols-o)*this.columnWidth-this.gutter},l.needsResizeLayout=function(){var o=this.containerWidth;return this.getContainerWidth(),o!=this.containerWidth},i});function Nt(e,{delay:t=0,duration:n=400,easing:i=yi}={}){const l=+getComputedStyle(e).opacity;return {delay:t,duration:n,easing:i,css:o=>`opacity: ${o*l}`}}const ot=[];function ht(e,t=we){let n;const i=new Set;function l(r){if(it(e,r)&&(e=r,n)){const a=!ot.length;for(const f of i)f[1](),ot.push(f,e);if(a){for(let f=0;f<ot.length;f+=2)ot[f][0](ot[f+1]);ot.length=0;}}}function o(r){l(r(e));}function s(r,a=we){const f=[r,a];return i.add(f),i.size===1&&(n=t(l)||we),r(e),()=>{i.delete(f),i.size===0&&n&&(n(),n=null);}}return {set:l,update:o,subscribe:s}}const Et={Call:0,Run:0};let yt=null;function _l(e,t){return function(){yt&&(console.warn("debounce dupe!!!!!!"),clearTimeout(yt)),yt=setTimeout(function(){e.apply(this,arguments),yt=null;},t);}}function Di(e,t){let n,i=0;return function(...l){const o=Date.now(),s=o-i;!n&&s>t?(e.apply(this,l),i=o):(clearTimeout(n),n=setTimeout(()=>{e.apply(this,l),i=o,n=null;},t-s));}}const hl=Di(Mi,1500),ml=Di(Mi,30);function Mi(){Et.Run++,console.log(`呼叫整理次数: ${Et.Call}   实际整理次数: ${Et.Run}`),masonry.layout();}function ie(e="normal"){Et.Call++,masonry&&(e==="fast"?ml():hl());}function Pt(){console.log("------------------------NEXUS TOOLS------------------------"),jQuery(document).ready(function(){function e(u,v){let _=v.prop("naturalWidth"),d=v.prop("naturalHeight"),g=_/d,b=0,c=0,h=window.innerWidth-u.clientX,p=window.innerHeight-u.clientY,k=0,E=!1;return u.clientX>window.innerWidth/2&&u.clientX+_>window.innerWidth&&(E=!0,h=u.clientX),u.clientY>window.innerHeight/2&&(u.clientY+d/2>window.innerHeight?(k=1,p=u.clientY):u.clientY+d>window.innerHeight&&(k=2,p=u.clientY)),_>h&&(_=h,d=_/g),d>p&&(d=p,_=d*g),E&&(b=-_),k==1?c=-(d-(window.innerHeight-u.clientY)):k==2&&(c=-d/2),{imgWidth:_,imgHeight:d,offsetX:b,offsetY:c}}function t(u,v){return Math.min(v.width/u.width,v.height/u.height)}function n(u,v){let _=v.prop("naturalWidth")??0,d=v.prop("naturalHeight")??0;const g=u.clientX,b=u.clientY,c=window.innerWidth,h=window.innerHeight,p=b,k=h-b,E=g,A=c-g,O={width:_,height:d},D={bot:{width:c,height:k},top:{width:c,height:p},right:{width:A,height:h},left:{width:E,height:h}};let R=0,T="";for(const I in D)if(Object.hasOwnProperty.call(D,I)){const H=D[I];t(O,H)>R&&(R=t(O,H),T=I);}const N={top:{left:0,top:0,width:c,height:p},bot:{left:0,top:p,width:c,height:k},left:{left:0,top:0,width:E,height:h},right:{left:E,top:0,width:A,height:h},default:{left:0,top:0,width:0,height:0}};return T!=""?N[T]:N.default}function i(u,v){return {left:u.pageX+v.offsetX,top:u.pageY+v.offsetY,width:v.imgWidth,height:v.imgHeight}}const l="img.preview_Kesa";let o,s;if(!jQuery("#nexus-preview").length){const u=document.body.appendChild(document.createElement("img"));u.id="nexus-preview";}jQuery("#nexus-preview");function r(u){const v=jQuery("<div>",{id:"kp_container",css:{backgroundColor:u,opacity:1,position:"fixed",zIndex:2e4,pointerEvents:"none",transition:"all .3s"}});return v.append(jQuery("<img>",{class:"kp_img",css:{position:"absolute",zIndex:20002,pointerEvents:"none",width:"100%",height:"100%",objectFit:"contain"}})),v.append(jQuery("<img>",{class:"kp_img",css:{position:"absolute",zIndex:20001,pointerEvents:"none",width:"100%",height:"100%",objectFit:"cover",filter:"blur(8px)"}})),v}const a=jQuery("#kp_container").length>0?jQuery("#kp_container"):r("");jQuery("body").append(a);let f=null;if(jQuery("body").on("mouseover",l,function(u){o=jQuery(this),f=setTimeout(()=>{if(dn(Lt)){s=e(u,o),i(u,s);let v=o.attr("src");v&&a&&a.find(".kp_img").attr("src",v),a.css(n(u,o)).show();}},dn(It));}).on("mouseout",l,function(u){a.hide(),f&&clearTimeout(f);}).on("mousemove",l,function(u){s=e(u,o),i(u,s),a.css(n(u,o));}),"IntersectionObserver"in window){let u=[...document.querySelectorAll(".nexus-lazy-load_Kesa")];const v=new IntersectionObserver(_=>{_.forEach(d=>{const g=d.target;if(d.intersectionRatio,d.isIntersecting&&!g.classList.contains("preview_Kesa")){const b=g.dataset.src;g.src=b,g.classList.add("preview_Kesa"),ie();}});});u.forEach(_=>v.observe(_));}});}function Ve(e,t){const n=localStorage.getItem(e),i=n?JSON.parse(n):t,l=ht(i);return l.subscribe(o=>{localStorage.setItem(e,JSON.stringify(o));}),l}const jt=ht({}),$e=ht(0),vt=ht("https://kamept.com/index.php"),Ft=Ve("_domain",""),Dt=Ve("_bgColor",""),mn=ht(0),st=ht(!1),Wt=Ve("_panelPos",{x:0,y:0}),Tt=Ve("_turnPage",!1),qt=Ve("_show_debug_btn",0),Lt=Ve("_show_nexus_pic",1),It=Ve("_delay_nexus_pic",600),Bt=Ve("_card_width",200),pl={mt:{hide_gay:!0}},Mt=Ve("_SITE_SETTING",pl);let pn=!1;Mt.subscribe(e=>{pn?(ie("fast"),ie("fast"),ie(),ie()):pn=!0;});const gl={all:!1,title:!0,free:!1,sub_title:!1,tags:!1,size_download_collect:!1,upload_time:!1,statistics:!1},ke=Ve("_card_show",gl);let gn=!1;ke.subscribe(e=>{gn?(ie("fast"),ie("fast"),ie(),ie()):gn=!0;});function vn(e){let t,n,i,l,o,s;return {c(){t=kt("svg"),n=kt("path"),i=kt("circle"),l=M(),o=w("div"),s=L(e[5]),y(n,"d","M102.6476822,65.245285l-40.2463036,40.1161652c-3.1256676,3.1155624-8.1839256,3.1114655-11.3045425-0.0091476  l-26.7890854-26.789093c-3.1289177-3.1289139-3.1234951-8.2035599,0.0121021-11.3257828l40.077301-39.9063568  C65.8964539,25.8381672,67.9261017,25,70.0419083,25H97c4.4182816,0,8,3.5817223,8,8v26.5792809  C105,61.7055016,104.1535873,63.7442589,102.6476822,65.245285z"),y(n,"fill","yellow"),y(n,"stroke","#000000"),y(n,"stroke-linecap","round"),y(n,"stroke-linejoin","round"),y(n,"stroke-miterlimit","10"),y(n,"stroke-width","4"),y(i,"cx","85"),y(i,"cy","45"),y(i,"fill","red"),y(i,"r","8"),y(i,"stroke","#000000"),y(i,"stroke-linecap","round"),y(i,"stroke-linejoin","round"),y(i,"stroke-miterlimit","10"),y(i,"stroke-width","4"),y(t,"enable-background","new 0 0 128 128"),y(t,"id","Layer_1"),y(t,"version","1.1"),y(t,"viewBox","0 0 128 128"),y(t,"xml:space","preserve"),y(t,"width","28"),y(t,"height","28"),y(t,"class","hint"),y(o,"class","_hint svelte-2vaqag");},m(r,a){S(r,t,a),m(t,n),m(t,i),S(r,l,a),S(r,o,a),m(o,s);},p(r,a){a&32&&B(s,r[5]);},d(r){r&&C(t),r&&C(l),r&&C(o);}}}function bn(e){let t,n;function i(s,r){return s[6]?yl:s[0]?bl:vl}let l=i(e),o=l(e);return {c(){t=L(`: 

      `),o.c(),n=ze();},m(s,r){S(s,t,r),o.m(s,r),S(s,n,r);},p(s,r){l===(l=i(s))&&o?o.p(s,r):(o.d(1),o=l(s),o&&(o.c(),o.m(n.parentNode,n)));},d(s){s&&C(t),o.d(s),s&&C(n);}}}function vl(e){let t,n;return {c(){t=w("span"),n=L(e[3]),y(t,"class","title_green svelte-2vaqag");},m(i,l){S(i,t,l),m(t,n);},p(i,l){l&8&&B(n,i[3]);},d(i){i&&C(t);}}}function bl(e){let t,n;return {c(){t=w("span"),n=L(e[4]),y(t,"class","title_red svelte-2vaqag");},m(i,l){S(i,t,l),m(t,n);},p(i,l){l&16&&B(n,i[4]);},d(i){i&&C(t);}}}function yl(e){let t;function n(o,s){return o[0]?wl:kl}let i=n(e),l=i(e);return {c(){l.c(),t=ze();},m(o,s){l.m(o,s),S(o,t,s);},p(o,s){i===(i=n(o))&&l?l.p(o,s):(l.d(1),l=i(o),l&&(l.c(),l.m(t.parentNode,t)));},d(o){l.d(o),o&&C(t);}}}function kl(e){let t,n;return {c(){t=w("span"),n=L(e[4]),y(t,"class","title_red svelte-2vaqag");},m(i,l){S(i,t,l),m(t,n);},p(i,l){l&16&&B(n,i[4]);},d(i){i&&C(t);}}}function wl(e){let t,n;return {c(){t=w("span"),n=L(e[3]),y(t,"class","title_green svelte-2vaqag");},m(i,l){S(i,t,l),m(t,n);},p(i,l){l&8&&B(n,i[3]);},d(i){i&&C(t);}}}function yn(e){let t,n,i,l,o,s;return {c(){t=w("div"),n=w("input"),i=M(),l=w("label"),y(n,"type","checkbox"),y(n,"id","_t"+e[7]),y(n,"class","svelte-2vaqag"),y(l,"for","_t"+e[7]),y(l,"class","svelte-2vaqag"),y(t,"class","s_switch");},m(r,a){S(r,t,a),m(t,n),n.checked=e[0],m(t,i),m(t,l),o||(s=[Z(n,"change",e[10]),Z(n,"change",e[11])],o=!0);},p(r,a){a&1&&(n.checked=r[0]);},d(r){r&&C(t),o=!1,Re(s);}}}function kn(e){let t;const n=e[9].default,i=ji(n,e,e[8],null);return {c(){i&&i.c();},m(l,o){i&&i.m(l,o),t=!0;},p(l,o){i&&i.p&&(!t||o&256)&&Bi(i,n,l,l[8],t?Fi(n,l[8],o,null):Ui(l[8]),null);},i(l){t||(V(i,l),t=!0);},o(l){x(i,l),t=!1;},d(l){i&&i.d(l);}}}function El(e){let t,n,i,l,o,s,r,a,f=e[5]&&vn(e),u=(e[3]||e[4])&&bn(e),v=e[1]=="switch"&&yn(e),_=e[1]=="range"&&kn(e);return {c(){t=w("div"),n=w("div"),f&&f.c(),i=M(),l=L(e[2]),o=M(),u&&u.c(),s=M(),v&&v.c(),r=M(),_&&_.c(),y(n,"class","s_title svelte-2vaqag"),y(n,"title",e[5]),y(t,"class","switch svelte-2vaqag");},m(d,g){S(d,t,g),m(t,n),f&&f.m(n,null),m(n,i),m(n,l),m(n,o),u&&u.m(n,null),m(t,s),v&&v.m(t,null),m(t,r),_&&_.m(t,null),a=!0;},p(d,[g]){d[5]?f?f.p(d,g):(f=vn(d),f.c(),f.m(n,i)):f&&(f.d(1),f=null),(!a||g&4)&&B(l,d[2]),d[3]||d[4]?u?u.p(d,g):(u=bn(d),u.c(),u.m(n,null)):u&&(u.d(1),u=null),(!a||g&32)&&y(n,"title",d[5]),d[1]=="switch"?v?v.p(d,g):(v=yn(d),v.c(),v.m(t,r)):v&&(v.d(1),v=null),d[1]=="range"?_?(_.p(d,g),g&2&&V(_,1)):(_=kn(d),_.c(),V(_,1),_.m(t,null)):_&&(xe(),x(_,1,1,()=>{_=null;}),et());},i(d){a||(V(_),a=!0);},o(d){x(_),a=!1;},d(d){d&&C(t),f&&f.d(),u&&u.d(),v&&v.d(),_&&_.d();}}}function Tl(e,t,n){let{$$slots:i={},$$scope:l}=t,{type:o="switch"}=t,{title_fixed:s=""}=t,{title_green:r=""}=t,{title_red:a=""}=t,{label:f=""}=t;const u=Math.random().toFixed(8);let{checked:v=!1}=t,{green_state:_=!0}=t;function d(){v=this.checked,n(0,v);}const g=()=>{console.log(s,v);};return e.$$set=b=>{"type"in b&&n(1,o=b.type),"title_fixed"in b&&n(2,s=b.title_fixed),"title_green"in b&&n(3,r=b.title_green),"title_red"in b&&n(4,a=b.title_red),"label"in b&&n(5,f=b.label),"checked"in b&&n(0,v=b.checked),"green_state"in b&&n(6,_=b.green_state),"$$scope"in b&&n(8,l=b.$$scope);},[v,o,s,r,a,f,_,u,l,i,d,g]}class Ye extends _t{constructor(t){super(),dt(this,t,Tl,El,it,{type:1,title_fixed:2,title_green:3,title_red:4,label:5,checked:0,green_state:6});}}function wn(e){let t,n,i,l,o,s,r,a,f,u,v;return {c(){t=w("button"),t.textContent="[d]切换宽度",n=M(),i=w("button"),i.textContent="[d]显示详情",l=M(),o=w("button"),s=L("[d]"),r=L(e[1]),a=M(),f=w("button"),f.textContent="[d]iframe",y(t,"class","sideP__btn"),y(i,"class","sideP__btn"),y(o,"class","sideP__btn"),y(f,"class","sideP__btn");},m(_,d){S(_,t,d),S(_,n,d),S(_,i,d),S(_,l,d),S(_,o,d),m(o,s),m(o,r),S(_,a,d),S(_,f,d),u||(v=[Z(t,"click",e[15]),Z(i,"click",e[16]),Z(o,"click",e[17]),Z(f,"click",e[18])],u=!0);},p(_,d){d[0]&2&&B(r,_[1]);},d(_){_&&C(t),_&&C(n),_&&C(i),_&&C(l),_&&C(o),_&&C(a),_&&C(f),u=!1,Re(v);}}}function En(e){let t,n,i,l,o,s,r,a,f,u,v,_,d,g,b,c,h,p,k,E,A,O,D,R,T,N,P,I,H,j,ve,te,q,re,U,ne,ae,Y,oe,be,Le,fe,_e,Ie,ce,ye,me,ue,Ee,pe,he,We,Te,de,Oe,Ce,ge,Ne,je,Ae,K=e[7]=="kp.m-team.cc"&&Tn(e);function Fe(W){e[24](W);}let Ge={title_fixed:"按钮加载方式",title_green:"按钮(默认)",title_red:"滚动(谨慎使用)",label:"滚动模式下 MT 等网站频繁使用可能会导致 120",green_state:!1};e[2]!==void 0&&(Ge.checked=e[2]),d=new Ye({props:Ge}),He.push(()=>Xe(d,"checked",Fe));function qe(W){e[25](W);}let z={title_fixed:"侧边栏debug按钮",title_green:"隐藏(默认)",title_red:"显示(开发用)",green_state:!1};e[6]!==void 0&&(z.checked=e[6]),c=new Ye({props:z}),He.push(()=>Xe(c,"checked",qe));function Be(W){e[26](W);}let Qe={title_fixed:"悬浮预览大图",title_green:"默认开启",title_red:"核心功能->确定不用再关"};e[9]!==void 0&&(Qe.checked=e[9]),k=new Ye({props:Qe}),He.push(()=>Xe(k,"checked",Be));let F=e[9]&&Ln(e);function J(W){e[31](W);}let X={title_fixed:"显示种子名称"};e[3].title!==void 0&&(X.checked=e[3].title),ne=new Ye({props:X}),He.push(()=>Xe(ne,"checked",J));function G(W){e[32](W);}let Vt={title_fixed:"显示置顶和免费"};e[3].free!==void 0&&(Vt.checked=e[3].free),oe=new Ye({props:Vt}),He.push(()=>Xe(oe,"checked",G));function Ai(W){e[33](W);}let Zt={title_fixed:"显示副标题"};e[3].sub_title!==void 0&&(Zt.checked=e[3].sub_title),fe=new Ye({props:Zt}),He.push(()=>Xe(fe,"checked",Ai));function Hi(W){e[34](W);}let Jt={title_fixed:"显示标签"};e[3].tags!==void 0&&(Jt.checked=e[3].tags),ce=new Ye({props:Jt}),He.push(()=>Xe(ce,"checked",Hi));function Pi(W){e[35](W);}let Kt={title_fixed:"显示大小&下载&收藏"};e[3].size_download_collect!==void 0&&(Kt.checked=e[3].size_download_collect),ue=new Ye({props:Kt}),He.push(()=>Xe(ue,"checked",Pi));function Wi(W){e[36](W);}let $t={title_fixed:"显示上传时间"};e[3].upload_time!==void 0&&($t.checked=e[3].upload_time),he=new Ye({props:$t}),He.push(()=>Xe(he,"checked",Wi));function qi(W){e[37](W);}let xt={title_fixed:"显示评论/上传/下载/完成"};return e[3].statistics!==void 0&&(xt.checked=e[3].statistics),de=new Ye({props:xt}),He.push(()=>Xe(de,"checked",qi)),{c(){t=w("div"),n=w("div"),i=w("div"),l=w("p"),l.textContent="详细配置面板",o=M(),s=w("button"),s.innerHTML='<svg class="feather feather-x" fill="none" height="28" width="28" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><line x1="20" x2="6" y1="6" y2="20"></line><line x1="6" x2="20" y1="6" y2="20"></line></svg>',r=M(),K&&K.c(),a=M(),f=w("div"),u=w("h1"),u.textContent="常用配置",v=M(),_=w("div"),Pe(d.$$.fragment),b=M(),Pe(c.$$.fragment),p=M(),Pe(k.$$.fragment),A=M(),F&&F.c(),O=M(),D=w("button"),D.textContent="切换宽度",R=M(),T=M(),N=w("div"),P=w("h1"),P.textContent="卡片信息",I=M(),H=w("div"),j=w("button"),j.textContent="显示所有详情界面",ve=M(),te=w("div"),q=w("h3"),q.textContent="配置常驻卡片信息",re=M(),U=w("div"),Pe(ne.$$.fragment),Y=M(),Pe(oe.$$.fragment),Le=M(),Pe(fe.$$.fragment),Ie=M(),Pe(ce.$$.fragment),me=M(),Pe(ue.$$.fragment),pe=M(),Pe(he.$$.fragment),Te=M(),Pe(de.$$.fragment),Ce=M(),y(i,"class","configP_title svelte-693cwj"),y(u,"class","s_title"),y(D,"class","sideP__btn"),y(_,"class","s_panel"),y(f,"class","section svelte-693cwj"),y(P,"class","s_title"),y(j,"class","sideP__btn"),y(H,"class","s_panel"),y(q,"class","s_title"),y(U,"class","s_panel"),y(te,"class","section svelte-693cwj"),y(N,"class","section svelte-693cwj"),y(n,"class","configP_holder svelte-693cwj"),y(t,"class","configP svelte-693cwj");},m(W,Se){S(W,t,Se),m(t,n),m(n,i),m(i,l),m(i,o),m(i,s),m(n,r),K&&K.m(n,null),m(n,a),m(n,f),m(f,u),m(f,v),m(f,_),De(d,_,null),m(_,b),De(c,_,null),m(_,p),De(k,_,null),m(_,A),F&&F.m(_,null),m(_,O),m(_,D),m(_,R),m(n,T),m(n,N),m(N,P),m(N,I),m(N,H),m(H,j),m(N,ve),m(N,te),m(te,q),m(te,re),m(te,U),De(ne,U,null),m(U,Y),De(oe,U,null),m(U,Le),De(fe,U,null),m(U,Ie),De(ce,U,null),m(U,me),De(ue,U,null),m(U,pe),De(he,U,null),m(U,Te),De(de,U,null),m(U,Ce),Ne=!0,je||(Ae=[Z(s,"click",e[22]),Z(D,"click",e[15]),Z(j,"click",e[16]),Z(t,"click",Ki(e[52]))],je=!0);},p(W,Se){W[7]=="kp.m-team.cc"?K?(K.p(W,Se),Se[0]&128&&V(K,1)):(K=Tn(W),K.c(),V(K,1),K.m(n,a)):K&&(xe(),x(K,1,1,()=>{K=null;}),et());const en={};!g&&Se[0]&4&&(g=!0,en.checked=W[2],Ue(()=>g=!1)),d.$set(en);const tn={};!h&&Se[0]&64&&(h=!0,tn.checked=W[6],Ue(()=>h=!1)),c.$set(tn);const nn={};!E&&Se[0]&512&&(E=!0,nn.checked=W[9],Ue(()=>E=!1)),k.$set(nn),W[9]?F?(F.p(W,Se),Se[0]&512&&V(F,1)):(F=Ln(W),F.c(),V(F,1),F.m(_,O)):F&&(xe(),x(F,1,1,()=>{F=null;}),et());const ln={};!ae&&Se[0]&8&&(ae=!0,ln.checked=W[3].title,Ue(()=>ae=!1)),ne.$set(ln);const on={};!be&&Se[0]&8&&(be=!0,on.checked=W[3].free,Ue(()=>be=!1)),oe.$set(on);const rn={};!_e&&Se[0]&8&&(_e=!0,rn.checked=W[3].sub_title,Ue(()=>_e=!1)),fe.$set(rn);const sn={};!ye&&Se[0]&8&&(ye=!0,sn.checked=W[3].tags,Ue(()=>ye=!1)),ce.$set(sn);const an={};!Ee&&Se[0]&8&&(Ee=!0,an.checked=W[3].size_download_collect,Ue(()=>Ee=!1)),ue.$set(an);const fn={};!We&&Se[0]&8&&(We=!0,fn.checked=W[3].upload_time,Ue(()=>We=!1)),he.$set(fn);const cn={};!Oe&&Se[0]&8&&(Oe=!0,cn.checked=W[3].statistics,Ue(()=>Oe=!1)),de.$set(cn);},i(W){Ne||(V(K),V(d.$$.fragment,W),V(c.$$.fragment,W),V(k.$$.fragment,W),V(F),V(ne.$$.fragment,W),V(oe.$$.fragment,W),V(fe.$$.fragment,W),V(ce.$$.fragment,W),V(ue.$$.fragment,W),V(he.$$.fragment,W),V(de.$$.fragment,W),ut(()=>{Ne&&(ge||(ge=Ot(t,Nt,{duration:100},!0)),ge.run(1));}),Ne=!0);},o(W){x(K),x(d.$$.fragment,W),x(c.$$.fragment,W),x(k.$$.fragment,W),x(F),x(ne.$$.fragment,W),x(oe.$$.fragment,W),x(fe.$$.fragment,W),x(ce.$$.fragment,W),x(ue.$$.fragment,W),x(he.$$.fragment,W),x(de.$$.fragment,W),ge||(ge=Ot(t,Nt,{duration:100},!1)),ge.run(0),Ne=!1;},d(W){W&&C(t),K&&K.d(),Me(d),Me(c),Me(k),F&&F.d(),Me(ne),Me(oe),Me(fe),Me(ce),Me(ue),Me(he),Me(de),W&&ge&&ge.end(),je=!1,Re(Ae);}}}function Tn(e){let t,n,i,l,o,s,r;function a(u){e[23](u);}let f={title_fixed:"隐藏Gay分区卡片",title_green:"隐藏(默认)",title_red:"显示(狠人)"};return e[8].mt.hide_gay!==void 0&&(f.checked=e[8].mt.hide_gay),o=new Ye({props:f}),He.push(()=>Xe(o,"checked",a)),{c(){t=w("div"),n=w("h1"),n.textContent="MT专用配置",i=M(),l=w("div"),Pe(o.$$.fragment),y(n,"class","s_title"),y(l,"class","s_panel"),y(t,"class","section svelte-693cwj");},m(u,v){S(u,t,v),m(t,n),m(t,i),m(t,l),De(o,l,null),r=!0;},p(u,v){const _={};!s&&v[0]&256&&(s=!0,_.checked=u[8].mt.hide_gay,Ue(()=>s=!1)),o.$set(_);},i(u){r||(V(o.$$.fragment,u),r=!0);},o(u){x(o.$$.fragment,u),r=!1;},d(u){u&&C(t),Me(o);}}}function Ln(e){let t,n;return t=new Ye({props:{title_fixed:`悬浮预览延迟${e[10]?":"+e[10]+"ms":""}`,title_red:`${e[10]?"":"无延迟"}`,label:"防止无意滑动时大图打开妨碍预览",type:"range",$$slots:{default:[Ll]},$$scope:{ctx:e}}}),{c(){Pe(t.$$.fragment);},m(i,l){De(t,i,l),n=!0;},p(i,l){const o={};l[0]&1024&&(o.title_fixed=`悬浮预览延迟${i[10]?":"+i[10]+"ms":""}`),l[0]&1024&&(o.title_red=`${i[10]?"":"无延迟"}`),l[0]&1024|l[2]&1&&(o.$$scope={dirty:l,ctx:i}),t.$set(o);},i(i){n||(V(t.$$.fragment,i),n=!0);},o(i){x(t.$$.fragment,i),n=!1;},d(i){Me(t,i);}}}function Ll(e){let t,n,i;return {c(){t=w("input"),y(t,"type","range"),y(t,"min","0"),y(t,"max","1500"),y(t,"step","100"),y(t,"list","values");},m(l,o){S(l,t,o),_n(t,e[10]),n||(i=[Z(t,"change",e[27]),Z(t,"input",e[27])],n=!0);},p(l,o){o[0]&1024&&_n(t,l[10]);},d(l){l&&C(t),n=!1,Re(i);}}}function Il(e){let t,n,i,l,o,s,r,a,f,u,v,_,d,g,b,c,h=e[6]&&wn(e),p=e[5]&&En(e);return {c(){t=w("div"),n=w("div"),i=M(),l=w("div"),o=w("button"),o.textContent="原有列表",s=M(),r=w("button"),r.textContent="整理布局",a=M(),f=w("button"),f.textContent="呼出边栏",u=M(),h&&h.c(),v=M(),p&&p.c(),_=M(),d=w("div"),d.textContent="重置瀑布流配置边栏位置",y(n,"class","sideP__title svelte-693cwj"),y(o,"class","sideP__btn"),y(r,"class","sideP__btn"),y(f,"class","sideP__btn"),y(l,"class","sideP__out svelte-693cwj"),y(t,"class","sideP svelte-693cwj"),le(t,"top",e[4].y+"px"),le(t,"left",e[4].x+"px"),y(d,"id","reset_panel_pos"),y(d,"class","svelte-693cwj");},m(k,E){S(k,t,E),m(t,n),m(t,i),m(t,l),m(l,o),m(l,s),m(l,r),m(l,a),m(l,f),m(l,u),h&&h.m(l,null),e[21](t),S(k,v,E),p&&p.m(k,E),S(k,_,E),S(k,d,E),g=!0,b||(c=[Z(n,"mousedown",e[11]),Z(o,"click",e[13]),Z(r,"click",e[14]),Z(f,"click",e[20]),Z(d,"click",e[12])],b=!0);},p(k,E){k[6]?h?h.p(k,E):(h=wn(k),h.c(),h.m(l,null)):h&&(h.d(1),h=null),(!g||E[0]&16)&&le(t,"top",k[4].y+"px"),(!g||E[0]&16)&&le(t,"left",k[4].x+"px"),k[5]?p?(p.p(k,E),E[0]&32&&V(p,1)):(p=En(k),p.c(),V(p,1),p.m(_.parentNode,_)):p&&(xe(),x(p,1,1,()=>{p=null;}),et());},i(k){g||(V(p),g=!0);},o(k){x(p),g=!1;},d(k){k&&C(t),h&&h.d(),e[21](null),k&&C(v),p&&p.d(k),k&&C(_),k&&C(d),b=!1,Re(c);}}}function Cl(e,t,n){let i,l,o,s,r,a,f,u,v,_,d,g,b;ee(e,$e,z=>n(56,i=z)),ee(e,Tt,z=>n(2,l=z)),ee(e,ke,z=>n(3,o=z)),ee(e,Bt,z=>n(57,s=z)),ee(e,jt,z=>n(58,r=z)),ee(e,mn,z=>n(59,a=z)),ee(e,Wt,z=>n(4,f=z)),ee(e,st,z=>n(5,u=z)),ee(e,qt,z=>n(6,v=z)),ee(e,Ft,z=>n(7,_=z)),ee(e,Mt,z=>n(8,d=z)),ee(e,Lt,z=>n(9,g=z)),ee(e,It,z=>n(10,b=z));let c,h=!1,p=0,k=0;const E=z=>{z.preventDefault(),h=!0,p=z.clientX-c.getBoundingClientRect().left,k=z.clientY-c.getBoundingClientRect().top;},A=z=>{if(z.preventDefault(),!h)return;const Be=z.clientX-p>0?z.clientX-p:0,Qe=z.clientY-k>0?z.clientY-k:0;se(Wt,f={x:Be,y:Qe},f);},O=()=>{h=!1;};function D(){f.x==0&&f.y==0&&alert("无需重置瀑布流边栏位置"),se(Wt,f={x:0,y:0},f);}let{originTable:R}=t;function T(){se(mn,a=a==0?1:0,a),n(19,R.style.display=a===1?"":"none",R);}function N(){r.layout();}function P(){se(Bt,s=s==300?200:300,s),console.log(`[debug]$card_width: ${s}`),ie("fast"),ie("fast"),ie();}function I(){se(ke,o.all=!o.all,o),ie("fast"),ie("fast"),ie(),ie();}let H=l?"滚动加载":"按钮加载";function j(){se(Tt,l=!l,l),n(1,H=l?"滚动加载":"按钮加载");}function ve(){se($e,i=i==0?1:0,i);}Xt(()=>(window.addEventListener("mousemove",A),window.addEventListener("mouseup",O),()=>{window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",O);}));const te=()=>{se(st,u=!u,u);};function q(z){He[z?"unshift":"push"](()=>{c=z,n(0,c);});}const re=()=>se(st,u=!1,u);function U(z){e.$$.not_equal(d.mt.hide_gay,z)&&(d.mt.hide_gay=z,Mt.set(d));}function ne(z){l=z,Tt.set(l);}function ae(z){v=z,qt.set(v);}function Y(z){g=z,Lt.set(g);}function oe(){b=$i(this.value),It.set(b);}const be=()=>{se(qt,v=!v,v);},Le=()=>{se(Lt,g=!g,g);},fe=()=>{se(It,b=b==0?600:0,b);};function _e(z){e.$$.not_equal(o.title,z)&&(o.title=z,ke.set(o));}function Ie(z){e.$$.not_equal(o.free,z)&&(o.free=z,ke.set(o));}function ce(z){e.$$.not_equal(o.sub_title,z)&&(o.sub_title=z,ke.set(o));}function ye(z){e.$$.not_equal(o.tags,z)&&(o.tags=z,ke.set(o));}function me(z){e.$$.not_equal(o.size_download_collect,z)&&(o.size_download_collect=z,ke.set(o));}function ue(z){e.$$.not_equal(o.upload_time,z)&&(o.upload_time=z,ke.set(o));}function Ee(z){e.$$.not_equal(o.statistics,z)&&(o.statistics=z,ke.set(o));}function pe(){o.title=this.checked,ke.set(o);}const he=()=>{ie();};function We(){o.free=this.checked,ke.set(o);}const Te=()=>{ie();};function de(){o.sub_title=this.checked,ke.set(o);}const Oe=()=>{ie();};function Ce(){o.tags=this.checked,ke.set(o);}const ge=()=>{ie();};function Ne(){o.size_download_collect=this.checked,ke.set(o);}const je=()=>{ie();};function Ae(){o.upload_time=this.checked,ke.set(o);}const K=()=>{ie();};function Fe(){o.statistics=this.checked,ke.set(o);}const Ge=()=>{ie();},qe=()=>se(st,u=!1,u);return e.$$set=z=>{"originTable"in z&&n(19,R=z.originTable);},[c,H,l,o,f,u,v,_,d,g,b,E,D,T,N,P,I,j,ve,R,te,q,re,U,ne,ae,Y,oe,be,Le,fe,_e,Ie,ce,ye,me,ue,Ee,pe,he,We,Te,de,Oe,Ce,ge,Ne,je,Ae,K,Fe,Ge,qe]}class Sl extends _t{constructor(t){super(),dt(this,t,Cl,Il,it,{originTable:19},null,[-1,-1,-1]);}}const Ze={torrentListTable:"table.torrents",TORRENT_LIST_TO_JSON:Ol,LOADING_PIC:"pic/logo2_100.png",ICON:{},CATEGORY:{410:"#FF66FF",413:"#FF66FF",414:"#FF66FF",417:"#59CD90",433:"#59CD90",434:"#59CD90",424:"#59CD90",435:"#59CD90",411:"#FAC05E",419:"#FAC05E",423:"#FAC05E",420:"#3FA7D6",421:"#3FA7D6",422:"#3FA7D6",415:"#EE6352",418:"#EE6352"},INDEX:0,Iframe_Width:1260,special:function(){$("ksearchboxmain")&&($("ksearchboxmain").style.display="none");const e=document.querySelector('a[href="?sort=7&type=asc"]');e.childNodes[0].style.color="black";}};function Ol(e){const t=e.querySelectorAll("tbody tr"),n=[];return t.forEach(i=>{const l=i.querySelector("td:nth-child(1) > a > img"),o=l?l.alt:"";if(!o)return;const r=l.parentNode.href,a=r.slice(-3),f=l.cloneNode(!0);f.className="card-category-img";const u=Ze.INDEX++,v=i.querySelector(".torrentname a"),_=v?v.textContent.trim():"",d=v.href,g=/id=(\d+)&hit/,b=d.match(g),c=b?parseInt(b[1]):null,h=i.querySelector(".torrentname img").getAttribute("data-src"),p=i.querySelector(".torrentname td:nth-child(2)"),k=p.childNodes.length-1,E=p.childNodes[k],A=E.nodeName=="#text"?E.textContent.trim():"",O=i.querySelectorAll(".torrentname img.sticky"),D=O[0]?O[0].title:"",R=Array.from(i.querySelectorAll(".torrentname font")),T=i.querySelector('img[class^="pro_"]'),N=T?"_"+T.alt.replace(/\s+/g,""):"",P=N?R.pop():"",I=P?P.innerText:"",H=i.querySelectorAll(".torrentname span"),j=Array.from(H);let ve=H?j.map(pe=>pe.textContent.trim()):[];I!=""&&(ve.shift(),j.shift());const te=j.map(pe=>pe.outerHTML).join(""),q=`download.php?id=${c}`,re=`javascript: bookmark(${c},${u});`,ne=i.querySelector(".torrentname a[id^='bookmark']").children[0].alt,ae=i.querySelector("td.rowfollow:nth-child(3) a"),Y=ae?parseInt(ae.textContent):0,oe=i.querySelector("td:nth-child(4) span"),be=oe?oe.title:"",Le=i.querySelector("td:nth-child(5)"),fe=Le?Le.textContent.trim():"",_e=i.querySelector("td:nth-child(6) a"),Ie=_e?parseInt(_e.textContent):0,ce=i.querySelector("td:nth-child(7)"),ye=ce?parseInt(ce.textContent):0,me=i.querySelector("td:nth-child(8) a"),ue=me?parseInt(me.textContent):0,Ee={torrentIndex:u,_categoryImg:f,category:o,categoryLink:r,categoryNumber:a,torrent_name:_,torrentLink:d,torrentId:c,picLink:h,place_at_the_top:O,pattMsg:D,downloadLink:q,collectLink:re,collectState:ne,tempTagDom:R,freeTypeImg:T,free_type:N,free_remaining_time:I,raw_tags:te,tagsDOM:j,tags:ve,description:A,upload_date:be,comments:Y,size:fe,seeders:Ie,leechers:ye,snatched:ue};n.push(Ee);}),n}const Je={torrentListTable:"table.torrents",TORRENT_LIST_TO_JSON:Nl,LOADING_PIC:"logo.png",ICON:{},CATEGORY:{410:"#f52bcb",429:"#f52bcb",424:"#db55a9",430:"#db55a9",437:"#f77afa",426:"#f77afa",431:"#19a7ec",432:"#19a7ec",440:"#f52bcb",436:"#bb1e9a",425:"#bb1e9a",433:"#bb1e9a",411:"#f49800",412:"#f49800",413:"#f49800",401:"#c74854",419:"#c01a20",420:"#c74854",421:"#00a0e9",439:"#1b2a51",403:"#c74854",402:"#276fb8",435:"#4dbebd ",438:"#1897d6",404:"#23ac38",405:"#996c34",407:"#23ac38",422:"#f39800",423:"#f39800",427:"#f39800",409:"#996c34",406:"#8a57a1",408:"#8a57a1",434:"#8a57a1"},INDEX:0,Iframe_Width:1260,special:function(){console.log("23333333333333333333");}};function Nl(e){const t=e.querySelectorAll("tbody tr"),n=[];return t.forEach(i=>{const l=i.querySelector("td:nth-child(1) > a > img"),o=l?l.title:"";if(!o)return;const r=l.parentNode.href,a=r.slice(-3),f=l.style.backgroundImage,u=/url\("(.*)"\)/,v=f.match(u),_=v&&v.length>1?v[1]:null,d=Je.INDEX++,g=i.querySelector(".torrentname a"),b=g?g.title.trim():"",c=g.href,h=/id=(\d+)&hit/,p=c.match(h),k=p?parseInt(p[1]):null,A=i.querySelector(".torrentname img").getAttribute("onmouseover"),O=A?A.split(",")[2].toString():"",D=O?O.slice(O.indexOf("'")+1,O.lastIndexOf("'")):"/pic/nopic.jpg",R=i.querySelector(".torrentname td:nth-child(2)"),T=R.childNodes.length-1,N=R.childNodes[T],P=N.nodeName=="#text"?N.textContent.trim():"",I=i.querySelectorAll(".torrentname img.sticky"),H=I[0]?I[0].title:"",j=i.querySelectorAll(".torrentname font"),ve=i.querySelector('img[class^="pro_"]'),te=ve?"_"+ve.alt.replace(/\s+/g,""):"",q=i.querySelector(".torrentname td:nth-child(2) span"),re=q?q.innerText:"",U=i.querySelectorAll(".torrentname img[class^='label_']"),ne=Array.from(U);let ae=U?ne.map(Ce=>Ce.title.trim()):[];const Y=ne.map(Ce=>Ce.outerHTML).join("&nbsp;"),oe=`download.php?id=${k}`,be=`javascript: bookmark(${k},${d});`,fe=i.querySelector(".torrentname a[id^='bookmark']").children[0].alt,_e=i.querySelector("td.rowfollow:nth-child(3) a"),Ie=_e?parseInt(_e.textContent):0,ce=i.querySelector("td:nth-child(4) span"),ye=ce?ce.title:"",me=i.querySelector("td:nth-child(5)"),ue=me?me.textContent.trim():"",Ee=i.querySelector("td:nth-child(6) a"),pe=Ee?parseInt(Ee.textContent):0,he=i.querySelector("td:nth-child(7)"),We=he?parseInt(he.textContent):0,Te=i.querySelector("td:nth-child(8) a"),de=Te?parseInt(Te.textContent):0,Oe={torrentIndex:d,_categoryImg:_,category:o,categoryLink:r,categoryNumber:a,torrent_name:b,torrentLink:c,torrentId:k,picLink:D,place_at_the_top:I,pattMsg:H,downloadLink:oe,collectLink:be,collectState:fe,tempTagDom:j,freeTypeImg:ve,free_type:te,free_remaining_time:re,raw_tags:Y,tagsDOM:ne,tags:ae,description:P,comments:Ie,upload_date:ye,size:ue,seeders:pe,leechers:We,snatched:de};n.push(Oe);}),n}const tt={"kamept.com":Ze,"kp.m-team.cc":Je};function Ri(){return window.location.hostname}function Qt(){var n;const e=Ri();console.log("|-> 当前站点: ",e),console.log("|-> 当前页面: ",window.location.pathname);const t=((n=tt[e])==null?void 0:n.torrentListTable)??null;return console.log("|-> 站点selector:",t),t}function In(e){let t,n,i,l=(e[0].tempTagDom?e[0].tempTagDom.map(Bn).join("&nbsp;"):"")+"",o,s,r=e[0].torrent_name+"",a,f;return {c(){t=w("div"),n=w("a"),i=new Q(!1),o=M(),s=w("b"),a=L(r),i.a=o,y(n,"class","two-lines svelte-vdh3h6"),y(n,"href",f=e[0].torrentLink),y(n,"target","_blank"),y(t,"class","card-title svelte-vdh3h6");},m(u,v){S(u,t,v),m(t,n),i.m(l,n),m(n,o),m(n,s),m(s,a);},p(u,v){v&1&&l!==(l=(u[0].tempTagDom?u[0].tempTagDom.map(Bn).join("&nbsp;"):"")+"")&&i.p(l),v&1&&r!==(r=u[0].torrent_name+"")&&B(a,r),v&1&&f!==(f=u[0].torrentLink)&&y(n,"href",f);},d(u){u&&C(t);}}}function Cn(e){let t,n,i,l=e[0].tagsDOM.map(e[10]).join("")+"",o,s,r,a,f,u=e[2].SIZE+"",v,_=e[0].size+"",d,g,b,c,h=e[2].DOWNLOAD+"",p,k,E,A,O,D,R,T,N,P=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"",I,H,j,ve,te,q,re,U=e[0].upload_date+"",ne,ae,Y,oe,be=e[2].COMMENT+"",Le,fe,_e=e[0].comments+"",Ie,ce,ye,me=e[2].SEEDERS+"",ue,Ee,pe=e[0].seeders+"",he,We,Te,de=e[2].LEECHERS+"",Oe,Ce,ge=e[0].leechers+"",Ne,je,Ae,K=e[2].SNATCHED+"",Fe,Ge,qe=e[0].snatched+"",z,Be,Qe,F=(e[0].free_type||e[0].pattMsg)&&Sn(e),J=e[0].description&&Mn(e);return {c(){F&&F.c(),t=M(),J&&J.c(),n=M(),i=w("div"),o=M(),s=w("div"),r=w("div"),a=w("div"),f=new Q(!1),v=L(" "),d=L(_),g=L(`

          
            
          `),b=w("div"),c=new Q(!1),p=L(` 
            `),k=w("b"),E=w("a"),A=L("下载"),D=L(`

          
            
          `),R=w("div"),T=w("div"),N=new Q(!1),I=L(`
               `),H=w("b"),H.textContent="收藏",ve=M(),te=w("div"),q=w("b"),q.textContent="上传时间:",re=M(),ne=L(U),ae=M(),Y=w("div"),oe=new Q(!1),Le=L(" "),fe=w("b"),Ie=L(_e),ce=L(`  
          `),ye=new Q(!1),ue=L(" "),Ee=w("b"),he=L(pe),We=L(`  
          `),Te=new Q(!1),Oe=L(" "),Ce=w("b"),Ne=L(ge),je=L(`  
          `),Ae=new Q(!1),Fe=L(" "),Ge=w("b"),z=L(qe),y(i,"class","cl-tags svelte-vdh3h6"),f.a=v,y(a,"class","cl-center svelte-vdh3h6"),c.a=p,y(E,"href",O=e[0].downloadLink),y(b,"class","cl-center svelte-vdh3h6"),N.a=I,y(T,"class","btnCollet cl-center svelte-vdh3h6"),y(T,"id",j="tI_"+e[0].torrentIndex),y(R,"class","cl-center svelte-vdh3h6"),y(r,"class","card-line svelte-vdh3h6"),y(te,"class","card-line svelte-vdh3h6"),oe.a=Le,ye.a=ue,Te.a=Oe,Ae.a=Fe,y(Y,"class","card-line svelte-vdh3h6"),y(s,"class","card-details svelte-vdh3h6");},m(X,G){F&&F.m(X,G),S(X,t,G),J&&J.m(X,G),S(X,n,G),S(X,i,G),i.innerHTML=l,S(X,o,G),S(X,s,G),m(s,r),m(r,a),f.m(u,a),m(a,v),m(a,d),m(r,g),m(r,b),c.m(h,b),m(b,p),m(b,k),m(k,E),m(E,A),m(r,D),m(r,R),m(R,T),N.m(P,T),m(T,I),m(T,H),m(s,ve),m(s,te),m(te,q),m(te,re),m(te,ne),m(s,ae),m(s,Y),oe.m(be,Y),m(Y,Le),m(Y,fe),m(fe,Ie),m(Y,ce),ye.m(me,Y),m(Y,ue),m(Y,Ee),m(Ee,he),m(Y,We),Te.m(de,Y),m(Y,Oe),m(Y,Ce),m(Ce,Ne),m(Y,je),Ae.m(K,Y),m(Y,Fe),m(Y,Ge),m(Ge,z),Be||(Qe=Z(T,"click",function(){nt(Rt(e[0].collectLink,"tI_"+e[0].torrentIndex))&&Rt(e[0].collectLink,"tI_"+e[0].torrentIndex).apply(this,arguments);}),Be=!0);},p(X,G){e=X,e[0].free_type||e[0].pattMsg?F?F.p(e,G):(F=Sn(e),F.c(),F.m(t.parentNode,t)):F&&(F.d(1),F=null),e[0].description?J?J.p(e,G):(J=Mn(e),J.c(),J.m(n.parentNode,n)):J&&(J.d(1),J=null),G&1&&l!==(l=e[0].tagsDOM.map(e[10]).join("")+"")&&(i.innerHTML=l),G&4&&u!==(u=e[2].SIZE+"")&&f.p(u),G&1&&_!==(_=e[0].size+"")&&B(d,_),G&4&&h!==(h=e[2].DOWNLOAD+"")&&c.p(h),G&1&&O!==(O=e[0].downloadLink)&&y(E,"href",O),G&5&&P!==(P=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"")&&N.p(P),G&1&&j!==(j="tI_"+e[0].torrentIndex)&&y(T,"id",j),G&1&&U!==(U=e[0].upload_date+"")&&B(ne,U),G&4&&be!==(be=e[2].COMMENT+"")&&oe.p(be),G&1&&_e!==(_e=e[0].comments+"")&&B(Ie,_e),G&4&&me!==(me=e[2].SEEDERS+"")&&ye.p(me),G&1&&pe!==(pe=e[0].seeders+"")&&B(he,pe),G&4&&de!==(de=e[2].LEECHERS+"")&&Te.p(de),G&1&&ge!==(ge=e[0].leechers+"")&&B(Ne,ge),G&4&&K!==(K=e[2].SNATCHED+"")&&Ae.p(K),G&1&&qe!==(qe=e[0].snatched+"")&&B(z,qe);},d(X){F&&F.d(X),X&&C(t),J&&J.d(X),X&&C(n),X&&C(i),X&&C(o),X&&C(s),Be=!1,Qe();}}}function Sn(e){let t,n,i,l,o,s=e[0].place_at_the_top.length!=0&&On(e),r=e[0].freeTypeImg&&Nn(e),a=e[0].free_remaining_time&&Dn(e);return {c(){t=w("div"),n=w("div"),s&&s.c(),i=M(),r&&r.c(),l=M(),a&&a.c(),y(n,"class",o="top_and_free "+e[0].free_type+" svelte-vdh3h6"),y(t,"class","card-alter svelte-vdh3h6");},m(f,u){S(f,t,u),m(t,n),s&&s.m(n,null),m(n,i),r&&r.m(n,null),m(n,l),a&&a.m(n,null);},p(f,u){f[0].place_at_the_top.length!=0?s?s.p(f,u):(s=On(f),s.c(),s.m(n,i)):s&&(s.d(1),s=null),f[0].freeTypeImg?r?r.p(f,u):(r=Nn(f),r.c(),r.m(n,l)):r&&(r.d(1),r=null),f[0].free_remaining_time?a?a.p(f,u):(a=Dn(f),a.c(),a.m(n,null)):a&&(a.d(1),a=null),u&1&&o!==(o="top_and_free "+f[0].free_type+" svelte-vdh3h6")&&y(n,"class",o);},d(f){f&&C(t),s&&s.d(),r&&r.d(),a&&a.d();}}}function On(e){let t,n=Array.from(e[0].place_at_the_top).map(Un)+"&nbsp;",i;return {c(){t=new Q(!1),i=ze(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=Array.from(l[0].place_at_the_top).map(Un)+"&nbsp;")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function Nn(e){let t,n=e[0].freeTypeImg.outerHTML+"",i;return {c(){t=new Q(!1),i=ze(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=l[0].freeTypeImg.outerHTML+"")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function Dn(e){let t,n,i=e[0].free_remaining_time+"",l;return {c(){t=L(" "),n=w("b"),l=L(i);},m(o,s){S(o,t,s),S(o,n,s),m(n,l);},p(o,s){s&1&&i!==(i=o[0].free_remaining_time+"")&&B(l,i);},d(o){o&&C(t),o&&C(n);}}}function Mn(e){let t,n=e[0].description+"",i,l;return {c(){t=w("a"),i=L(n),y(t,"class","card-description svelte-vdh3h6"),y(t,"href",l=e[0].torrentLink);},m(o,s){S(o,t,s),m(t,i);},p(o,s){s&1&&n!==(n=o[0].description+"")&&B(i,n),s&1&&l!==(l=o[0].torrentLink)&&y(t,"href",l);},d(o){o&&C(t);}}}function Rn(e){let t,n,i,l,o,s,r=e[5].free&&(e[0].free_type||e[0].pattMsg)&&zn(e),a=e[5].sub_title&&e[0].description&&Wn(e),f=e[5].tags&&qn(e),u=e[5].size_download_collect&&Gn(e),v=e[5].upload_time&&Yn(e),_=e[5].statistics&&jn(e);return {c(){r&&r.c(),t=M(),a&&a.c(),n=M(),f&&f.c(),i=M(),l=w("div"),u&&u.c(),o=M(),v&&v.c(),s=M(),_&&_.c(),y(l,"class","card-details svelte-vdh3h6");},m(d,g){r&&r.m(d,g),S(d,t,g),a&&a.m(d,g),S(d,n,g),f&&f.m(d,g),S(d,i,g),S(d,l,g),u&&u.m(l,null),m(l,o),v&&v.m(l,null),m(l,s),_&&_.m(l,null);},p(d,g){d[5].free&&(d[0].free_type||d[0].pattMsg)?r?r.p(d,g):(r=zn(d),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),d[5].sub_title&&d[0].description?a?a.p(d,g):(a=Wn(d),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),d[5].tags?f?f.p(d,g):(f=qn(d),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null),d[5].size_download_collect?u?u.p(d,g):(u=Gn(d),u.c(),u.m(l,o)):u&&(u.d(1),u=null),d[5].upload_time?v?v.p(d,g):(v=Yn(d),v.c(),v.m(l,s)):v&&(v.d(1),v=null),d[5].statistics?_?_.p(d,g):(_=jn(d),_.c(),_.m(l,null)):_&&(_.d(1),_=null);},d(d){r&&r.d(d),d&&C(t),a&&a.d(d),d&&C(n),f&&f.d(d),d&&C(i),d&&C(l),u&&u.d(),v&&v.d(),_&&_.d();}}}function zn(e){let t,n,i,l,o,s=e[0].place_at_the_top.length!=0&&An(e),r=e[0].freeTypeImg&&Hn(e),a=e[0].free_remaining_time&&Pn(e);return {c(){t=w("div"),n=w("div"),s&&s.c(),i=M(),r&&r.c(),l=M(),a&&a.c(),y(n,"class",o="top_and_free "+e[0].free_type+" svelte-vdh3h6"),y(t,"class","card-alter svelte-vdh3h6");},m(f,u){S(f,t,u),m(t,n),s&&s.m(n,null),m(n,i),r&&r.m(n,null),m(n,l),a&&a.m(n,null);},p(f,u){f[0].place_at_the_top.length!=0?s?s.p(f,u):(s=An(f),s.c(),s.m(n,i)):s&&(s.d(1),s=null),f[0].freeTypeImg?r?r.p(f,u):(r=Hn(f),r.c(),r.m(n,l)):r&&(r.d(1),r=null),f[0].free_remaining_time?a?a.p(f,u):(a=Pn(f),a.c(),a.m(n,null)):a&&(a.d(1),a=null),u&1&&o!==(o="top_and_free "+f[0].free_type+" svelte-vdh3h6")&&y(n,"class",o);},d(f){f&&C(t),s&&s.d(),r&&r.d(),a&&a.d();}}}function An(e){let t,n=Array.from(e[0].place_at_the_top).map(Xn)+"&nbsp;",i;return {c(){t=new Q(!1),i=ze(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=Array.from(l[0].place_at_the_top).map(Xn)+"&nbsp;")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function Hn(e){let t,n=e[0].freeTypeImg.outerHTML+"",i;return {c(){t=new Q(!1),i=ze(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=l[0].freeTypeImg.outerHTML+"")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function Pn(e){let t,n,i=e[0].free_remaining_time+"",l;return {c(){t=L(" "),n=w("b"),l=L(i);},m(o,s){S(o,t,s),S(o,n,s),m(n,l);},p(o,s){s&1&&i!==(i=o[0].free_remaining_time+"")&&B(l,i);},d(o){o&&C(t),o&&C(n);}}}function Wn(e){let t,n=e[0].description+"",i,l;return {c(){t=w("a"),i=L(n),y(t,"class","card-description svelte-vdh3h6"),y(t,"href",l=e[0].torrentLink);},m(o,s){S(o,t,s),m(t,i);},p(o,s){s&1&&n!==(n=o[0].description+"")&&B(i,n),s&1&&l!==(l=o[0].torrentLink)&&y(t,"href",l);},d(o){o&&C(t);}}}function qn(e){let t,n=e[0].tagsDOM.map(e[11]).join("")+"";return {c(){t=w("div"),y(t,"class","cl-tags svelte-vdh3h6");},m(i,l){S(i,t,l),t.innerHTML=n;},p(i,l){l&1&&n!==(n=i[0].tagsDOM.map(i[11]).join("")+"")&&(t.innerHTML=n);},d(i){i&&C(t);}}}function Gn(e){let t,n,i,l=e[2].SIZE+"",o,s=e[0].size+"",r,a,f,u,v=e[2].DOWNLOAD+"",_,d,g,b,c,h,p,k,E,A=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"",O,D,R,T,N;return {c(){t=w("div"),n=w("div"),i=new Q(!1),o=L(" "),r=L(s),a=L(`

            
              
            `),f=w("div"),u=new Q(!1),_=L(` 
              `),d=w("b"),g=w("a"),b=L("下载"),h=L(`

            
              
            `),p=w("div"),k=w("div"),E=new Q(!1),O=L(`
                 `),D=w("b"),D.textContent="收藏",i.a=o,y(n,"class","cl-center svelte-vdh3h6"),u.a=_,y(g,"href",c=e[0].downloadLink),y(f,"class","cl-center svelte-vdh3h6"),E.a=O,y(k,"class","btnCollet cl-center svelte-vdh3h6"),y(k,"id",R="tI_"+e[0].torrentIndex),y(p,"class","cl-center svelte-vdh3h6"),y(t,"class","card-line svelte-vdh3h6");},m(P,I){S(P,t,I),m(t,n),i.m(l,n),m(n,o),m(n,r),m(t,a),m(t,f),u.m(v,f),m(f,_),m(f,d),m(d,g),m(g,b),m(t,h),m(t,p),m(p,k),E.m(A,k),m(k,O),m(k,D),T||(N=Z(k,"click",function(){nt(Rt(e[0].collectLink,"tI_"+e[0].torrentIndex))&&Rt(e[0].collectLink,"tI_"+e[0].torrentIndex).apply(this,arguments);}),T=!0);},p(P,I){e=P,I&4&&l!==(l=e[2].SIZE+"")&&i.p(l),I&1&&s!==(s=e[0].size+"")&&B(r,s),I&4&&v!==(v=e[2].DOWNLOAD+"")&&u.p(v),I&1&&c!==(c=e[0].downloadLink)&&y(g,"href",c),I&5&&A!==(A=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"")&&E.p(A),I&1&&R!==(R="tI_"+e[0].torrentIndex)&&y(k,"id",R);},d(P){P&&C(t),T=!1,N();}}}function Yn(e){let t,n,i,l=e[0].upload_date+"",o;return {c(){t=w("div"),n=w("b"),n.textContent="上传时间:",i=M(),o=L(l),y(t,"class","card-line svelte-vdh3h6");},m(s,r){S(s,t,r),m(t,n),m(t,i),m(t,o);},p(s,r){r&1&&l!==(l=s[0].upload_date+"")&&B(o,l);},d(s){s&&C(t);}}}function jn(e){let t,n,i=e[2].COMMENT+"",l,o,s=e[0].comments+"",r,a,f,u=e[2].SEEDERS+"",v,_,d=e[0].seeders+"",g,b,c,h=e[2].LEECHERS+"",p,k,E=e[0].leechers+"",A,O,D,R=e[2].SNATCHED+"",T,N,P=e[0].snatched+"",I;return {c(){t=w("div"),n=new Q(!1),l=L(" "),o=w("b"),r=L(s),a=L(`  
            `),f=new Q(!1),v=L(" "),_=w("b"),g=L(d),b=L(`  
            `),c=new Q(!1),p=L(" "),k=w("b"),A=L(E),O=L(`  
            `),D=new Q(!1),T=L(" "),N=w("b"),I=L(P),n.a=l,f.a=v,c.a=p,D.a=T,y(t,"class","card-line svelte-vdh3h6");},m(H,j){S(H,t,j),n.m(i,t),m(t,l),m(t,o),m(o,r),m(t,a),f.m(u,t),m(t,v),m(t,_),m(_,g),m(t,b),c.m(h,t),m(t,p),m(t,k),m(k,A),m(t,O),D.m(R,t),m(t,T),m(t,N),m(N,I);},p(H,j){j&4&&i!==(i=H[2].COMMENT+"")&&n.p(i),j&1&&s!==(s=H[0].comments+"")&&B(r,s),j&4&&u!==(u=H[2].SEEDERS+"")&&f.p(u),j&1&&d!==(d=H[0].seeders+"")&&B(g,d),j&4&&h!==(h=H[2].LEECHERS+"")&&c.p(h),j&1&&E!==(E=H[0].leechers+"")&&B(A,E),j&4&&R!==(R=H[2].SNATCHED+"")&&D.p(R),j&1&&P!==(P=H[0].snatched+"")&&B(I,P);},d(H){H&&C(t);}}}function Dl(e){let t,n,i,l=e[0].category+"",o,s,r,a,f,u,v,_,d,g,b,c=e[0].torrentIndex+1+"",h,p,k,E,A,O=(e[5].title||e[3])&&In(e),D=(e[5].all||e[3])&&Cn(e),R=!(e[5].all||e[3])&&Rn(e);return {c(){t=w("div"),n=w("div"),i=w("div"),o=L(l),r=M(),O&&O.c(),a=M(),f=w("div"),u=w("img"),g=M(),b=w("div"),h=L(c),p=M(),D&&D.c(),k=M(),R&&R.c(),y(i,"class","card-category svelte-vdh3h6"),y(i,"data-href",s=e[0].categoryLink),le(i,"background-color",Ze.CATEGORY[e[0].categoryNumber]??"transparent"),le(i,"color",Ze.CATEGORY[e[0].categoryNumber]?Fn(Ze.CATEGORY[e[0].categoryNumber]):"black"),y(u,"class","card-image--img nexus-lazy-load_Kesa svelte-vdh3h6"),at(u.src,v=Ze.LOADING_PIC)||y(u,"src",v),y(u,"data-src",_=e[0].picLink),y(u,"alt",d=e[0].torrentName),y(b,"class","card-index svelte-vdh3h6"),y(f,"class","card-image svelte-vdh3h6"),y(n,"class","card-holder svelte-vdh3h6"),y(t,"class","card svelte-vdh3h6"),le(t,"width",e[1]+"px"),le(t,"z-index",1e4-e[0].torrentIndex),le(t,"background-color",e[4]);},m(T,N){S(T,t,N),m(t,n),m(n,i),m(i,o),m(n,r),O&&O.m(n,null),m(n,a),m(n,f),m(f,u),m(f,g),m(f,b),m(b,h),m(n,p),D&&D.m(n,null),m(n,k),R&&R.m(n,null),E||(A=[Z(u,"load",e[6]),Z(u,"click",e[7]),Z(n,"mouseenter",e[8]),Z(n,"mouseleave",e[9])],E=!0);},p(T,[N]){N&1&&l!==(l=T[0].category+"")&&B(o,l),N&1&&s!==(s=T[0].categoryLink)&&y(i,"data-href",s),N&1&&le(i,"background-color",Ze.CATEGORY[T[0].categoryNumber]??"transparent"),N&1&&le(i,"color",Ze.CATEGORY[T[0].categoryNumber]?Fn(Ze.CATEGORY[T[0].categoryNumber]):"black"),T[5].title||T[3]?O?O.p(T,N):(O=In(T),O.c(),O.m(n,a)):O&&(O.d(1),O=null),N&1&&_!==(_=T[0].picLink)&&y(u,"data-src",_),N&1&&d!==(d=T[0].torrentName)&&y(u,"alt",d),N&1&&c!==(c=T[0].torrentIndex+1+"")&&B(h,c),T[5].all||T[3]?D?D.p(T,N):(D=Cn(T),D.c(),D.m(n,k)):D&&(D.d(1),D=null),T[5].all||T[3]?R&&(R.d(1),R=null):R?R.p(T,N):(R=Rn(T),R.c(),R.m(n,null)),N&2&&le(t,"width",T[1]+"px"),N&1&&le(t,"z-index",1e4-T[0].torrentIndex),N&16&&le(t,"background-color",T[4]);},i:we,o:we,d(T){T&&C(t),O&&O.d(),D&&D.d(),R&&R.d(),E=!1,Re(A);}}}function Rt(e,t){try{window.location.href=e;const i=document.querySelector(`div#${t}`).children[0];i.className=i.className=="delbookmark"?"bookmark":"delbookmark",console.log(`执行脚本${e}成功, 已经收藏或者取消~`);}catch(n){console.error(n);}}function Fn(e){const t=e.replace("#",""),n=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),l=parseInt(t.substr(4,2),16);return (n*299+i*587+l*114)/1e3<128?"white":"black"}const Bn=e=>e.outerHTML,Un=e=>e.outerHTML,Xn=e=>e.outerHTML;function Ml(e,t,n){let i,l,o,s;ee(e,vt,h=>n(12,i=h)),ee(e,$e,h=>n(13,l=h)),ee(e,Dt,h=>n(4,o=h)),ee(e,ke,h=>n(5,s=h));function r(){ie();}function a(){se($e,l=1,l),se(vt,i=f.torrentLink+"#kdescr",i);}let{torrentInfo:f}=t,{cardWidth:u}=t,{ICON:v}=t,_=!1;function d(){n(3,_=!0);}function g(){n(3,_=!1);}const b=h=>{const p=document.createElement("div");return p.innerHTML=h.outerHTML,p.outerHTML},c=h=>{const p=document.createElement("div");return p.innerHTML=h.outerHTML,p.outerHTML};return e.$$set=h=>{"torrentInfo"in h&&n(0,f=h.torrentInfo),"cardWidth"in h&&n(1,u=h.cardWidth),"ICON"in h&&n(2,v=h.ICON);},[f,u,v,_,o,s,r,a,d,g,b,c]}class Rl extends _t{constructor(t){super(),dt(this,t,Ml,Dl,it,{torrentInfo:0,cardWidth:1,ICON:2});}}function Qn(e){let t,n,i,l,o=e[0].torrent_name+"",s,r,a=e[0].tempTagDom.length!=0&&Vn(e);return {c(){t=w("div"),n=w("a"),a&&a.c(),i=M(),l=w("b"),s=L(o),y(n,"class","two-lines svelte-1rfbgrc"),y(n,"href",r=e[0].torrentLink),y(n,"target","_blank"),y(t,"class","card-title svelte-1rfbgrc");},m(f,u){S(f,t,u),m(t,n),a&&a.m(n,null),m(n,i),m(n,l),m(l,s);},p(f,u){f[0].tempTagDom.length!=0?a?a.p(f,u):(a=Vn(f),a.c(),a.m(n,i)):a&&(a.d(1),a=null),u&1&&o!==(o=f[0].torrent_name+"")&&B(s,o),u&1&&r!==(r=f[0].torrentLink)&&y(n,"href",r);},d(f){f&&C(t),a&&a.d();}}}function Vn(e){let t,n=Array.from(e[0].tempTagDom).map(di)+"";return {c(){t=w("span"),y(t,"class","tempTags svelte-1rfbgrc");},m(i,l){S(i,t,l),t.innerHTML=n;},p(i,l){l&1&&n!==(n=Array.from(i[0].tempTagDom).map(di)+"")&&(t.innerHTML=n);},d(i){i&&C(t);}}}function Zn(e){let t,n,i,l=e[0].tagsDOM.map(e[11]).join("")+"",o,s,r,a,f,u=e[2].SIZE+"",v,_=e[0].size+"",d,g,b,c,h=e[2].DOWNLOAD+"",p,k,E,A,O,D,R,T,N,P=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"",I,H,j,ve,te,q,re,U=e[0].upload_date+"",ne,ae,Y,oe,be=e[2].COMMENT+"",Le,fe,_e=e[0].comments+"",Ie,ce,ye,me=e[2].SEEDERS+"",ue,Ee,pe=e[0].seeders+"",he,We,Te,de=e[2].LEECHERS+"",Oe,Ce,ge=e[0].leechers+"",Ne,je,Ae,K=e[2].SNATCHED+"",Fe,Ge,qe=e[0].snatched+"",z,Be,Qe,F=(e[0].free_type||e[0].pattMsg)&&Jn(e),J=e[0].description&&ei(e);return {c(){F&&F.c(),t=M(),J&&J.c(),n=M(),i=w("div"),o=M(),s=w("div"),r=w("div"),a=w("div"),f=new Q(!1),v=L(" "),d=L(_),g=L(`

          
            
          `),b=w("div"),c=new Q(!1),p=L(` 
            `),k=w("b"),E=w("a"),A=L("下载"),D=L(`

          
            
          `),R=w("div"),T=w("div"),N=new Q(!1),I=L(`
               `),H=w("b"),H.textContent="收藏",ve=M(),te=w("div"),q=w("b"),q.textContent="上传时间:",re=M(),ne=L(U),ae=M(),Y=w("div"),oe=new Q(!1),Le=L(" "),fe=w("b"),Ie=L(_e),ce=L(`  
          `),ye=new Q(!1),ue=L(" "),Ee=w("b"),he=L(pe),We=L(`  
          `),Te=new Q(!1),Oe=L(" "),Ce=w("b"),Ne=L(ge),je=L(`  
          `),Ae=new Q(!1),Fe=L(" "),Ge=w("b"),z=L(qe),y(i,"class","cl-tags svelte-1rfbgrc"),f.a=v,y(a,"class","cl-center svelte-1rfbgrc"),c.a=p,y(E,"href",O=e[0].downloadLink),y(b,"class","cl-center svelte-1rfbgrc"),N.a=I,y(T,"class","btnCollet cl-center svelte-1rfbgrc"),y(T,"id",j="tI_"+e[0].torrentIndex),y(R,"class","cl-center svelte-1rfbgrc"),y(r,"class","card-line svelte-1rfbgrc"),y(te,"class","card-line svelte-1rfbgrc"),oe.a=Le,ye.a=ue,Te.a=Oe,Ae.a=Fe,y(Y,"class","card-line svelte-1rfbgrc"),y(s,"class","card-details svelte-1rfbgrc");},m(X,G){F&&F.m(X,G),S(X,t,G),J&&J.m(X,G),S(X,n,G),S(X,i,G),i.innerHTML=l,S(X,o,G),S(X,s,G),m(s,r),m(r,a),f.m(u,a),m(a,v),m(a,d),m(r,g),m(r,b),c.m(h,b),m(b,p),m(b,k),m(k,E),m(E,A),m(r,D),m(r,R),m(R,T),N.m(P,T),m(T,I),m(T,H),m(s,ve),m(s,te),m(te,q),m(te,re),m(te,ne),m(s,ae),m(s,Y),oe.m(be,Y),m(Y,Le),m(Y,fe),m(fe,Ie),m(Y,ce),ye.m(me,Y),m(Y,ue),m(Y,Ee),m(Ee,he),m(Y,We),Te.m(de,Y),m(Y,Oe),m(Y,Ce),m(Ce,Ne),m(Y,je),Ae.m(K,Y),m(Y,Fe),m(Y,Ge),m(Ge,z),Be||(Qe=Z(T,"click",function(){nt(zt(e[0].collectLink,"tI_"+e[0].torrentIndex))&&zt(e[0].collectLink,"tI_"+e[0].torrentIndex).apply(this,arguments);}),Be=!0);},p(X,G){e=X,e[0].free_type||e[0].pattMsg?F?F.p(e,G):(F=Jn(e),F.c(),F.m(t.parentNode,t)):F&&(F.d(1),F=null),e[0].description?J?J.p(e,G):(J=ei(e),J.c(),J.m(n.parentNode,n)):J&&(J.d(1),J=null),G&1&&l!==(l=e[0].tagsDOM.map(e[11]).join("")+"")&&(i.innerHTML=l),G&4&&u!==(u=e[2].SIZE+"")&&f.p(u),G&1&&_!==(_=e[0].size+"")&&B(d,_),G&4&&h!==(h=e[2].DOWNLOAD+"")&&c.p(h),G&1&&O!==(O=e[0].downloadLink)&&y(E,"href",O),G&5&&P!==(P=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"")&&N.p(P),G&1&&j!==(j="tI_"+e[0].torrentIndex)&&y(T,"id",j),G&1&&U!==(U=e[0].upload_date+"")&&B(ne,U),G&4&&be!==(be=e[2].COMMENT+"")&&oe.p(be),G&1&&_e!==(_e=e[0].comments+"")&&B(Ie,_e),G&4&&me!==(me=e[2].SEEDERS+"")&&ye.p(me),G&1&&pe!==(pe=e[0].seeders+"")&&B(he,pe),G&4&&de!==(de=e[2].LEECHERS+"")&&Te.p(de),G&1&&ge!==(ge=e[0].leechers+"")&&B(Ne,ge),G&4&&K!==(K=e[2].SNATCHED+"")&&Ae.p(K),G&1&&qe!==(qe=e[0].snatched+"")&&B(z,qe);},d(X){F&&F.d(X),X&&C(t),J&&J.d(X),X&&C(n),X&&C(i),X&&C(o),X&&C(s),Be=!1,Qe();}}}function Jn(e){let t,n,i,l,o,s=e[0].place_at_the_top.length!=0&&Kn(e),r=e[0].freeTypeImg&&$n(e),a=e[0].free_remaining_time&&xn(e);return {c(){t=w("div"),n=w("div"),s&&s.c(),i=M(),r&&r.c(),l=M(),a&&a.c(),y(n,"class",o="top_and_free "+e[0].free_type+" svelte-1rfbgrc"),y(t,"class","card-alter svelte-1rfbgrc");},m(f,u){S(f,t,u),m(t,n),s&&s.m(n,null),m(n,i),r&&r.m(n,null),m(n,l),a&&a.m(n,null);},p(f,u){f[0].place_at_the_top.length!=0?s?s.p(f,u):(s=Kn(f),s.c(),s.m(n,i)):s&&(s.d(1),s=null),f[0].freeTypeImg?r?r.p(f,u):(r=$n(f),r.c(),r.m(n,l)):r&&(r.d(1),r=null),f[0].free_remaining_time?a?a.p(f,u):(a=xn(f),a.c(),a.m(n,null)):a&&(a.d(1),a=null),u&1&&o!==(o="top_and_free "+f[0].free_type+" svelte-1rfbgrc")&&y(n,"class",o);},d(f){f&&C(t),s&&s.d(),r&&r.d(),a&&a.d();}}}function Kn(e){let t,n=Array.from(e[0].place_at_the_top).map(_i)+"&nbsp;",i;return {c(){t=new Q(!1),i=ze(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=Array.from(l[0].place_at_the_top).map(_i)+"&nbsp;")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function $n(e){let t,n=e[0].freeTypeImg.outerHTML+"",i;return {c(){t=new Q(!1),i=ze(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=l[0].freeTypeImg.outerHTML+"")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function xn(e){let t,n,i=e[0].free_remaining_time+"",l;return {c(){t=L(" "),n=w("b"),l=L(i);},m(o,s){S(o,t,s),S(o,n,s),m(n,l);},p(o,s){s&1&&i!==(i=o[0].free_remaining_time+"")&&B(l,i);},d(o){o&&C(t),o&&C(n);}}}function ei(e){let t,n=e[0].description+"",i,l;return {c(){t=w("a"),i=L(n),y(t,"class","card-description svelte-1rfbgrc"),y(t,"href",l=e[0].torrentLink);},m(o,s){S(o,t,s),m(t,i);},p(o,s){s&1&&n!==(n=o[0].description+"")&&B(i,n),s&1&&l!==(l=o[0].torrentLink)&&y(t,"href",l);},d(o){o&&C(t);}}}function ti(e){let t,n,i,l,o,s,r=e[6].free&&(e[0].free_type||e[0].pattMsg)&&ni(e),a=e[6].sub_title&&e[0].description&&ri(e),f=e[6].tags&&e[0].tagsDOM.length!=0&&si(e),u=e[6].size_download_collect&&ai(e),v=e[6].upload_time&&fi(e),_=e[6].statistics&&ci(e);return {c(){r&&r.c(),t=M(),a&&a.c(),n=M(),f&&f.c(),i=M(),l=w("div"),u&&u.c(),o=M(),v&&v.c(),s=M(),_&&_.c(),y(l,"class","card-details svelte-1rfbgrc");},m(d,g){r&&r.m(d,g),S(d,t,g),a&&a.m(d,g),S(d,n,g),f&&f.m(d,g),S(d,i,g),S(d,l,g),u&&u.m(l,null),m(l,o),v&&v.m(l,null),m(l,s),_&&_.m(l,null);},p(d,g){d[6].free&&(d[0].free_type||d[0].pattMsg)?r?r.p(d,g):(r=ni(d),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),d[6].sub_title&&d[0].description?a?a.p(d,g):(a=ri(d),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),d[6].tags&&d[0].tagsDOM.length!=0?f?f.p(d,g):(f=si(d),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null),d[6].size_download_collect?u?u.p(d,g):(u=ai(d),u.c(),u.m(l,o)):u&&(u.d(1),u=null),d[6].upload_time?v?v.p(d,g):(v=fi(d),v.c(),v.m(l,s)):v&&(v.d(1),v=null),d[6].statistics?_?_.p(d,g):(_=ci(d),_.c(),_.m(l,null)):_&&(_.d(1),_=null);},d(d){r&&r.d(d),d&&C(t),a&&a.d(d),d&&C(n),f&&f.d(d),d&&C(i),d&&C(l),u&&u.d(),v&&v.d(),_&&_.d();}}}function ni(e){let t,n,i,l,o,s=e[0].place_at_the_top.length!=0&&ii(e),r=e[0].freeTypeImg&&li(e),a=e[0].free_remaining_time&&oi(e);return {c(){t=w("div"),n=w("div"),s&&s.c(),i=M(),r&&r.c(),l=M(),a&&a.c(),y(n,"class",o="top_and_free "+e[0].free_type+" svelte-1rfbgrc"),y(t,"class","card-alter svelte-1rfbgrc");},m(f,u){S(f,t,u),m(t,n),s&&s.m(n,null),m(n,i),r&&r.m(n,null),m(n,l),a&&a.m(n,null);},p(f,u){f[0].place_at_the_top.length!=0?s?s.p(f,u):(s=ii(f),s.c(),s.m(n,i)):s&&(s.d(1),s=null),f[0].freeTypeImg?r?r.p(f,u):(r=li(f),r.c(),r.m(n,l)):r&&(r.d(1),r=null),f[0].free_remaining_time?a?a.p(f,u):(a=oi(f),a.c(),a.m(n,null)):a&&(a.d(1),a=null),u&1&&o!==(o="top_and_free "+f[0].free_type+" svelte-1rfbgrc")&&y(n,"class",o);},d(f){f&&C(t),s&&s.d(),r&&r.d(),a&&a.d();}}}function ii(e){let t,n=Array.from(e[0].place_at_the_top).map(hi)+"&nbsp;",i;return {c(){t=new Q(!1),i=ze(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=Array.from(l[0].place_at_the_top).map(hi)+"&nbsp;")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function li(e){let t,n=e[0].freeTypeImg.outerHTML+"",i;return {c(){t=new Q(!1),i=ze(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=l[0].freeTypeImg.outerHTML+"")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function oi(e){let t,n,i=e[0].free_remaining_time+"",l;return {c(){t=L(" "),n=w("b"),l=L(i);},m(o,s){S(o,t,s),S(o,n,s),m(n,l);},p(o,s){s&1&&i!==(i=o[0].free_remaining_time+"")&&B(l,i);},d(o){o&&C(t),o&&C(n);}}}function ri(e){let t,n=e[0].description+"",i,l;return {c(){t=w("a"),i=L(n),y(t,"class","card-description svelte-1rfbgrc"),y(t,"href",l=e[0].torrentLink);},m(o,s){S(o,t,s),m(t,i);},p(o,s){s&1&&n!==(n=o[0].description+"")&&B(i,n),s&1&&l!==(l=o[0].torrentLink)&&y(t,"href",l);},d(o){o&&C(t);}}}function si(e){let t,n=e[0].tagsDOM.map(e[12]).join("")+"";return {c(){t=w("div"),y(t,"class","cl-tags svelte-1rfbgrc");},m(i,l){S(i,t,l),t.innerHTML=n;},p(i,l){l&1&&n!==(n=i[0].tagsDOM.map(i[12]).join("")+"")&&(t.innerHTML=n);},d(i){i&&C(t);}}}function ai(e){let t,n,i,l=e[2].SIZE+"",o,s=e[0].size+"",r,a,f,u,v=e[2].DOWNLOAD+"",_,d,g,b,c,h,p,k,E,A=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"",O,D,R,T,N;return {c(){t=w("div"),n=w("div"),i=new Q(!1),o=L(" "),r=L(s),a=L(`

            
              
            `),f=w("div"),u=new Q(!1),_=L(` 
              `),d=w("b"),g=w("a"),b=L("下载"),h=L(`

            
              
            `),p=w("div"),k=w("div"),E=new Q(!1),O=L(`
                 `),D=w("b"),D.textContent="收藏",i.a=o,y(n,"class","cl-center svelte-1rfbgrc"),u.a=_,y(g,"href",c=e[0].downloadLink),y(f,"class","cl-center svelte-1rfbgrc"),E.a=O,y(k,"class","btnCollet cl-center svelte-1rfbgrc"),y(k,"id",R="tI_"+e[0].torrentIndex),y(p,"class","cl-center svelte-1rfbgrc"),y(t,"class","card-line svelte-1rfbgrc");},m(P,I){S(P,t,I),m(t,n),i.m(l,n),m(n,o),m(n,r),m(t,a),m(t,f),u.m(v,f),m(f,_),m(f,d),m(d,g),m(g,b),m(t,h),m(t,p),m(p,k),E.m(A,k),m(k,O),m(k,D),T||(N=Z(k,"click",function(){nt(zt(e[0].collectLink,"tI_"+e[0].torrentIndex))&&zt(e[0].collectLink,"tI_"+e[0].torrentIndex).apply(this,arguments);}),T=!0);},p(P,I){e=P,I&4&&l!==(l=e[2].SIZE+"")&&i.p(l),I&1&&s!==(s=e[0].size+"")&&B(r,s),I&4&&v!==(v=e[2].DOWNLOAD+"")&&u.p(v),I&1&&c!==(c=e[0].downloadLink)&&y(g,"href",c),I&5&&A!==(A=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"")&&E.p(A),I&1&&R!==(R="tI_"+e[0].torrentIndex)&&y(k,"id",R);},d(P){P&&C(t),T=!1,N();}}}function fi(e){let t,n,i,l=e[0].upload_date+"",o;return {c(){t=w("div"),n=w("b"),n.textContent="上传时间:",i=M(),o=L(l),y(t,"class","card-line svelte-1rfbgrc");},m(s,r){S(s,t,r),m(t,n),m(t,i),m(t,o);},p(s,r){r&1&&l!==(l=s[0].upload_date+"")&&B(o,l);},d(s){s&&C(t);}}}function ci(e){let t,n,i=e[2].COMMENT+"",l,o,s=e[0].comments+"",r,a,f,u=e[2].SEEDERS+"",v,_,d=e[0].seeders+"",g,b,c,h=e[2].LEECHERS+"",p,k,E=e[0].leechers+"",A,O,D,R=e[2].SNATCHED+"",T,N,P=e[0].snatched+"",I;return {c(){t=w("div"),n=new Q(!1),l=L(" "),o=w("b"),r=L(s),a=L(`  
            `),f=new Q(!1),v=L(" "),_=w("b"),g=L(d),b=L(`  
            `),c=new Q(!1),p=L(" "),k=w("b"),A=L(E),O=L(`  
            `),D=new Q(!1),T=L(" "),N=w("b"),I=L(P),n.a=l,f.a=v,c.a=p,D.a=T,y(t,"class","card-line svelte-1rfbgrc");},m(H,j){S(H,t,j),n.m(i,t),m(t,l),m(t,o),m(o,r),m(t,a),f.m(u,t),m(t,v),m(t,_),m(_,g),m(t,b),c.m(h,t),m(t,p),m(t,k),m(k,A),m(t,O),D.m(R,t),m(t,T),m(t,N),m(N,I);},p(H,j){j&4&&i!==(i=H[2].COMMENT+"")&&n.p(i),j&1&&s!==(s=H[0].comments+"")&&B(r,s),j&4&&u!==(u=H[2].SEEDERS+"")&&f.p(u),j&1&&d!==(d=H[0].seeders+"")&&B(g,d),j&4&&h!==(h=H[2].LEECHERS+"")&&c.p(h),j&1&&E!==(E=H[0].leechers+"")&&B(A,E),j&4&&R!==(R=H[2].SNATCHED+"")&&D.p(R),j&1&&P!==(P=H[0].snatched+"")&&B(I,P);},d(H){H&&C(t);}}}function zl(e){let t,n,i,l,o,s,r=e[0].category+"",a,f,u,v,_,d,g,b,c,h,p,k=e[0].torrentIndex+1+"",E,A,O,D,R,T=(e[6].title||e[3])&&Qn(e),N=(e[6].all||e[3])&&Zn(e),P=!(e[6].all||e[3])&&ti(e);return {c(){t=w("div"),n=w("div"),i=w("div"),l=w("img"),s=M(),a=L(r),u=M(),T&&T.c(),v=M(),_=w("div"),d=w("img"),h=M(),p=w("div"),E=L(k),A=M(),N&&N.c(),O=M(),P&&P.c(),y(l,"class","card_category-img svelte-1rfbgrc"),at(l.src,o=e[0]._categoryImg)||y(l,"src",o),y(l,"alt",""),y(i,"class","card-category svelte-1rfbgrc"),y(i,"data-href",f=e[0].categoryLink),le(i,"background-color",Je.CATEGORY[e[0].categoryNumber]??"transparent"),le(i,"color",Je.CATEGORY[e[0].categoryNumber]?ui(Je.CATEGORY[e[0].categoryNumber]):"black"),y(d,"class","card-image--img nexus-lazy-load_Kesa svelte-1rfbgrc"),at(d.src,g=Je.LOADING_PIC)||y(d,"src",g),y(d,"data-src",b=e[0].picLink),y(d,"alt",c=e[0].torrentName),y(p,"class","card-index svelte-1rfbgrc"),y(_,"class","card-image svelte-1rfbgrc"),y(n,"class","card-holder svelte-1rfbgrc"),y(t,"class","card svelte-1rfbgrc"),le(t,"display",e[0].categoryNumber=="440"&&e[4].mt.hide_gay?"none":"block"),le(t,"width",e[1]+"px"),le(t,"z-index",1e4-e[0].torrentIndex),le(t,"background-color",e[5]);},m(I,H){S(I,t,H),m(t,n),m(n,i),m(i,l),m(i,s),m(i,a),m(n,u),T&&T.m(n,null),m(n,v),m(n,_),m(_,d),m(_,h),m(_,p),m(p,E),m(n,A),N&&N.m(n,null),m(n,O),P&&P.m(n,null),D||(R=[Z(d,"load",e[7]),Z(d,"click",e[8]),Z(n,"mouseenter",e[9]),Z(n,"mouseleave",e[10])],D=!0);},p(I,[H]){H&1&&!at(l.src,o=I[0]._categoryImg)&&y(l,"src",o),H&1&&r!==(r=I[0].category+"")&&B(a,r),H&1&&f!==(f=I[0].categoryLink)&&y(i,"data-href",f),H&1&&le(i,"background-color",Je.CATEGORY[I[0].categoryNumber]??"transparent"),H&1&&le(i,"color",Je.CATEGORY[I[0].categoryNumber]?ui(Je.CATEGORY[I[0].categoryNumber]):"black"),I[6].title||I[3]?T?T.p(I,H):(T=Qn(I),T.c(),T.m(n,v)):T&&(T.d(1),T=null),H&1&&b!==(b=I[0].picLink)&&y(d,"data-src",b),H&1&&c!==(c=I[0].torrentName)&&y(d,"alt",c),H&1&&k!==(k=I[0].torrentIndex+1+"")&&B(E,k),I[6].all||I[3]?N?N.p(I,H):(N=Zn(I),N.c(),N.m(n,O)):N&&(N.d(1),N=null),I[6].all||I[3]?P&&(P.d(1),P=null):P?P.p(I,H):(P=ti(I),P.c(),P.m(n,null)),H&17&&le(t,"display",I[0].categoryNumber=="440"&&I[4].mt.hide_gay?"none":"block"),H&2&&le(t,"width",I[1]+"px"),H&1&&le(t,"z-index",1e4-I[0].torrentIndex),H&32&&le(t,"background-color",I[5]);},i:we,o:we,d(I){I&&C(t),T&&T.d(),N&&N.d(),P&&P.d(),D=!1,Re(R);}}}function zt(e,t){try{window.location.href=e;const i=document.querySelector(`div#${t}`).children[0];i.className=i.className=="delbookmark"?"bookmark":"delbookmark",console.log(`执行脚本${e}成功, 已经收藏或者取消~`);}catch(n){console.error(n);}}function ui(e){const t=e.replace("#",""),n=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),l=parseInt(t.substr(4,2),16);return (n*299+i*587+l*114)/1e3<128?"white":"black"}const di=e=>e.outerHTML,_i=e=>e.outerHTML,hi=e=>e.outerHTML;function Al(e,t,n){let i,l,o,s,r;ee(e,vt,p=>n(13,i=p)),ee(e,$e,p=>n(14,l=p)),ee(e,Mt,p=>n(4,o=p)),ee(e,Dt,p=>n(5,s=p)),ee(e,ke,p=>n(6,r=p));function a(){ie();}function f(){se($e,l=1,l),se(vt,i=u.torrentLink+"#kdescr",i);}let{torrentInfo:u}=t,{cardWidth:v}=t,{ICON:_}=t,d=!1;function g(){n(3,d=!0);}function b(){n(3,d=!1);}const c=p=>{const k=document.createElement("div");return k.innerHTML=p.outerHTML,k.outerHTML},h=p=>{const k=document.createElement("div");return k.innerHTML=p.outerHTML,k.outerHTML};return e.$$set=p=>{"torrentInfo"in p&&n(0,u=p.torrentInfo),"cardWidth"in p&&n(1,v=p.cardWidth),"ICON"in p&&n(2,_=p.ICON);},[u,v,_,d,o,s,r,a,f,g,b,c,h]}class Hl extends _t{constructor(t){super(),dt(this,t,Al,zl,it,{torrentInfo:0,cardWidth:1,ICON:2});}}const{window:Pl}=Vi;function mi(e,t,n){const i=e.slice();return i[30]=t[n],i}function pi(e,t,n){const i=e.slice();return i[30]=t[n],i}function Wl(e){let t;return {c(){t=w("div"),t.textContent="else";},m(n,i){S(n,t,i);},p:we,i:we,o:we,d(n){n&&C(t);}}}function ql(e){let t=[],n=new Map,i,l,o=e[2];const s=r=>r[30].torrentIndex;for(let r=0;r<o.length;r+=1){let a=mi(e,o,r),f=s(a);n.set(f,t[r]=gi(f,a));}return {c(){for(let r=0;r<t.length;r+=1)t[r].c();i=ze();},m(r,a){for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(r,a);S(r,i,a),l=!0;},p(r,a){a[0]&133&&(o=r[2],xe(),t=Ni(t,a,s,1,r,o,n,i.parentNode,Oi,gi,i,mi),et());},i(r){if(!l){for(let a=0;a<o.length;a+=1)V(t[a]);l=!0;}},o(r){for(let a=0;a<t.length;a+=1)x(t[a]);l=!1;},d(r){for(let a=0;a<t.length;a+=1)t[a].d(r);r&&C(i);}}}function Gl(e){let t=[],n=new Map,i,l,o=e[2];const s=r=>r[30].torrentIndex;for(let r=0;r<o.length;r+=1){let a=pi(e,o,r),f=s(a);n.set(f,t[r]=vi(f,a));}return {c(){for(let r=0;r<t.length;r+=1)t[r].c();i=ze();},m(r,a){for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(r,a);S(r,i,a),l=!0;},p(r,a){a[0]&133&&(o=r[2],xe(),t=Ni(t,a,s,1,r,o,n,i.parentNode,Oi,vi,i,pi),et());},i(r){if(!l){for(let a=0;a<o.length;a+=1)V(t[a]);l=!0;}},o(r){for(let a=0;a<t.length;a+=1)x(t[a]);l=!1;},d(r){for(let a=0;a<t.length;a+=1)t[a].d(r);r&&C(i);}}}function gi(e,t){let n,i,l;return i=new Hl({props:{torrentInfo:t[30],cardWidth:t[0].CARD_WIDTH,ICON:t[7]}}),{key:e,first:null,c(){n=ze(),Pe(i.$$.fragment),this.first=n;},m(o,s){S(o,n,s),De(i,o,s),l=!0;},p(o,s){t=o;const r={};s[0]&4&&(r.torrentInfo=t[30]),s[0]&1&&(r.cardWidth=t[0].CARD_WIDTH),i.$set(r);},i(o){l||(V(i.$$.fragment,o),l=!0);},o(o){x(i.$$.fragment,o),l=!1;},d(o){o&&C(n),Me(i,o);}}}function vi(e,t){let n,i,l;return i=new Rl({props:{torrentInfo:t[30],cardWidth:t[0].CARD_WIDTH,ICON:t[7]}}),{key:e,first:null,c(){n=ze(),Pe(i.$$.fragment),this.first=n;},m(o,s){S(o,n,s),De(i,o,s),l=!0;},p(o,s){t=o;const r={};s[0]&4&&(r.torrentInfo=t[30]),s[0]&1&&(r.cardWidth=t[0].CARD_WIDTH),i.$set(r);},i(o){l||(V(i.$$.fragment,o),l=!0);},o(o){x(i.$$.fragment,o),l=!1;},d(o){o&&C(n),Me(i,o);}}}function Yl(e){let t=e[10].normal+"",n;return {c(){n=L(t);},m(i,l){S(i,n,l);},p:we,d(i){i&&C(n);}}}function jl(e){let t=e[10].suspend+"",n;return {c(){n=L(t);},m(i,l){S(i,n,l);},p:we,d(i){i&&C(n);}}}function Fl(e){let t=e[10].disable+"",n;return {c(){n=L(t);},m(i,l){S(i,n,l);},p:we,d(i){i&&C(n);}}}function bi(e){let t,n,i,l,o,s,r;return {c(){t=w("div"),n=w("iframe"),at(n.src,i=e[6])||y(n,"src",i),y(n,"frameborder","0"),y(n,"title","wow"),le(n,"width",(tt[e[4]]?tt[e[4]].Iframe_Width:1e3)+"px"),y(n,"class","svelte-tr7wwl"),y(t,"id","_iframe"),y(t,"class","svelte-tr7wwl");},m(a,f){S(a,t,f),m(t,n),o=!0,s||(r=Z(t,"click",e[8]),s=!0);},p(a,f){(!o||f[0]&64&&!at(n.src,i=a[6]))&&y(n,"src",i),(!o||f[0]&16)&&le(n,"width",(tt[a[4]]?tt[a[4]].Iframe_Width:1e3)+"px");},i(a){o||(ut(()=>{o&&(l||(l=Ot(t,Nt,{duration:300},!0)),l.run(1));}),o=!0);},o(a){l||(l=Ot(t,Nt,{duration:300},!1)),l.run(0),o=!1;},d(a){a&&C(t),a&&l&&l.end(),s=!1,r();}}}function Bl(e){let t,n,i,l,o,s,r,a,f,u,v;const _=[Gl,ql,Wl],d=[];function g(k,E){return k[4]=="kamept.com"?0:k[4]=="kp.m-team.cc"?1:2}t=g(e),n=d[t]=_[t](e);function b(k,E){return k[3]?Fl:k[1]?jl:Yl}let c=b(e),h=c(e),p=e[5]&&bi(e);return {c(){n.c(),i=M(),l=w("div"),o=w("button"),h.c(),r=M(),p&&p.c(),a=ze(),y(o,"id","turnPage"),o.disabled=s=e[3]||e[1],y(o,"class","svelte-tr7wwl");},m(k,E){d[t].m(k,E),S(k,i,E),S(k,l,E),m(l,o),h.m(o,null),S(k,r,E),p&&p.m(k,E),S(k,a,E),f=!0,u||(v=[Z(Pl,"keydown",e[9],!0),Z(o,"click",e[11])],u=!0);},p(k,E){let A=t;t=g(k),t===A?d[t].p(k,E):(xe(),x(d[A],1,1,()=>{d[A]=null;}),et(),n=d[t],n?n.p(k,E):(n=d[t]=_[t](k),n.c()),V(n,1),n.m(i.parentNode,i)),c===(c=b(k))&&h?h.p(k,E):(h.d(1),h=c(k),h&&(h.c(),h.m(o,null))),(!f||E[0]&10&&s!==(s=k[3]||k[1]))&&(o.disabled=s),k[5]?p?(p.p(k,E),E[0]&32&&V(p,1)):(p=bi(k),p.c(),V(p,1),p.m(a.parentNode,a)):p&&(xe(),x(p,1,1,()=>{p=null;}),et());},i(k){f||(V(n),V(p),f=!0);},o(k){x(n),x(p),f=!1;},d(k){d[t].d(k),k&&C(i),k&&C(l),h.d(),k&&C(r),p&&p.d(k),k&&C(a),u=!1,Re(v);}}}function Ul(e,t,n){var te;let i,l,o,s,r,a,f,u;ee(e,jt,q=>n(19,i=q)),ee(e,Bt,q=>n(15,l=q)),ee(e,Tt,q=>n(3,o=q)),ee(e,Ft,q=>n(4,s=q)),ee(e,Dt,q=>n(20,r=q)),ee(e,st,q=>n(21,a=q)),ee(e,$e,q=>n(5,f=q)),ee(e,vt,q=>n(6,u=q));let{originTable:v}=t,{waterfallNode:_}=t;const d={CARD_WIDTH:l,CARD_BORDER:3,CARD_INDEX:0,PIC_HOVER_STYLE:0},g={GAP:3e3,DISTANCE:300,IS_ORIGIN:!0,PAGE_CURRENT:0,PAGE_NEXT:0,NEXT_URL:"",SWITCH_MODE:"Button"},b={SIZE:'<img class="size" src="pic/trans.gif" style=" transform: translateY(-0.4px);" alt="size" title="大小">',COMMENT:'<img class="comments" src="pic/trans.gif" alt="comments" title="评论数">',SEEDERS:'<img class="seeders" src="pic/trans.gif" alt="seeders" title="种子数">',LEECHERS:'<img class="leechers" src="pic/trans.gif" alt="leechers" title="下载数">',SNATCHED:'<img class="snatched" src="pic/trans.gif" alt="snatched" title="完成数">',DOWNLOAD:'<img class="download" src="pic/trans.gif" style=" transform: translateY(1px);" alt="download" title="下载本种">',COLLET:'<img class="delbookmark" src="pic/trans.gif" alt="Unbookmarked" title="收藏">',COLLETED:'<img class="bookmark" src="pic/trans.gif" alt="Bookmarked">'};function c(q,re){const U=q.clientWidth,ne=re+d.CARD_BORDER,ae=Math.floor(U/ne),Y=(U-ae*ne)/(ae-1);return console.log(`列数:${ae} 间隔:${Y}`),console.log(`容器宽:${U} 列宽:${I?I.columnWidth:"对象"}`),Math.floor(Y)}function h(){n(14,I.options.gutter=c(_,l),I),n(14,I.options.columnWidth=l,I),ie("fast"),ie("fast");}function p(){se($e,f=0,f);}function k(q){q.key==="Escape"&&(console.log(q),se($e,f=0,f),se(st,a=!1,a));}let E=!1,A=!1;const O={normal:"点击加载下一页",suspend:`下一页加载CD: ${g.GAP} ms`,disable:"不可用"};function D(q){q.preventDefault(),o||H(),E||(n(1,E=!0),setTimeout(()=>{n(1,E=!1);},g.GAP));}se(Ft,s=Ri(),s);const R=document.querySelector("table.mainouter"),T=window.getComputedStyle(R)["background-color"];se(Dt,r=T,r),console.log("背景颜色:",T);const N=tt[s];let P=[];P=[...P,...N.TORRENT_LIST_TO_JSON(v)],console.log(P),(te=tt[s])==null||te.special();let I,H;function j(){const q=document.body.scrollHeight,re=document.documentElement.clientHeight;(document.documentElement.scrollTop||document.body.scrollTop)+re>=q-g.DISTANCE&&(o?H():console.log("加载模式: 按钮"),ie());}H=_l(ve,g.GAP);function ve(){console.log("到页面底部啦!!! Scrolled to bottom!");const q=new URLSearchParams(window.location.search);g.PAGE_CURRENT=g.IS_ORIGIN?Number(q.get("page")):g.PAGE_CURRENT,g.PAGE_CURRENT?console.log("当前页数: "+g.PAGE_CURRENT):(console.log("网页链接没有page参数, 无法跳转下一页, 生成PAGE.PAGE_CURRENT为0"),g.PAGE_CURRENT=0),g.PAGE_NEXT=parseInt(g.PAGE_CURRENT)+1,q.set("page",g.PAGE_NEXT),g.NEXT_URL=window.location.origin+window.location.pathname+"?"+q.toString(),console.log("New URL:",g.NEXT_URL),fetch(g.NEXT_URL).then(re=>re.text()).then(re=>{const ae=new DOMParser().parseFromString(re,"text/html").querySelector(Qt());n(2,P=[...P,...N.TORRENT_LIST_TO_JSON(ae)]),g.IS_ORIGIN=!1,g.PAGE_CURRENT=g.PAGE_NEXT,A=!0,setTimeout(()=>{A=!1;},1e3);}).catch(re=>{console.warn("获取不到下页信息, 可能到头了"),console.warn(re);});}return Xt(()=>{n(14,I=new Masonry(_,{itemSelector:".card",columnWidth:l,gutter:c(_,l)})),window.masonry=I,se(jt,i=I,i),I.layout("fast"),I.layout("fast"),_.addEventListener("click",q=>{q.target===q.currentTarget&&(I&&I.layout(),console.log("Masonry 已整理~"));}),window.addEventListener("scroll",function(){j();}),Pt(),window.NEXUS_TOOLS=Pt;}),ol(()=>{console.log("afterUpdate-------------------->"),I&&A&&(console.log("reload Items-------------------->"),I.reloadItems(),I.layout(),setTimeout(Pt,600));}),e.$$set=q=>{"originTable"in q&&n(12,v=q.originTable),"waterfallNode"in q&&n(13,_=q.waterfallNode);},e.$$.update=()=>{e.$$.dirty[0]&49153&&I&&(n(0,d.CARD_WIDTH=l,d),console.log(d.CARD_WIDTH),h());},[d,E,P,o,s,f,u,b,p,k,O,D,v,_,I,l]}class Xl extends _t{constructor(t){super(),dt(this,t,Ul,Bl,it,{originTable:12,waterfallNode:13},null,[-1,-1]);}}function Ql(e){console.log(`[${new Date().toLocaleTimeString()}]<--------------------------HMR-------------------------->`);const t=document.querySelector(Qt());for(t.style.display="none";!Masonry;)console.log("等待初始化......");const n=t.parentNode,i=document.createElement("div");return i.classList.add("waterfall"),n.insertBefore(i,t.nextSibling),Xt(()=>{new Sl({target:document.body,props:{originTable:t}}),new Xl({target:i,props:{originTable:t,waterfallNode:i}});}),[]}class Vl extends _t{constructor(t){super(),dt(this,t,Ql,null,it,{});}}console.log("________PT-TorrentList-Masonry________");const zi=Qt(),Zl=document.querySelector(zi);zi&&Zl?new Vl({target:(()=>{const e=document.createElement("div");return document.body.append(e),e})()}):console.log("未识别到种子列表捏~");

})();

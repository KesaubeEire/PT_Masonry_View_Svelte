// ==UserScript==
// @name            PT种子列表瀑布流视图(Svelte重构)
// @name:en         PT_Masonry_View_Svelte
// @namespace       https://github.com/KesaubeEire/PT_Masonry_View_Svelte
// @version         1.1.0
// @author          Kesa
// @description     PT种子列表无限下拉瀑布流视图(Svelte重构)
// @description:en  PT Masonry View by Svelte.
// @license         MIT
// @icon            https://avatars.githubusercontent.com/u/23617963
// @match           https://kamept.com/*
// @match           https://kp.m-team.cc/*
// @match           https://pterclub.com/*
// @exclude         */offers.php*
// @exclude         */index.php*
// @exclude         */forums.php*
// @exclude         */viewrequests.php*
// @exclude         */seek.php*
// @grant           none
// ==/UserScript==

(t=>{const e=document.createElement("style");e.dataset.source="vite-plugin-monkey",e.textContent=t,document.head.append(e)})(' div.waterfall{width:100%;padding-top:20px;padding-bottom:60px;border-radius:20px;height:100%;margin:20px auto;transition:height .3s}button.debug{position:fixed;top:10px;right:10px;padding:4px;background-color:#333;color:#fff;border:none;border-radius:5px;cursor:pointer}button#toggle_oldTable{top:10px}button#btnReLayout{top:40px}button#btnSwitchMode{top:70px}button#sort_masonry{top:100px}.switch.svelte-2vaqag.svelte-2vaqag{width:100%;height:30px;display:flex;align-items:center;justify-content:space-between}.s_title.svelte-2vaqag.svelte-2vaqag{display:flex;align-items:center;font-size:14px;position:relative}.title_green.svelte-2vaqag.svelte-2vaqag{color:green;font-weight:800}.title_red.svelte-2vaqag.svelte-2vaqag{color:red;font-weight:800}.s_title.svelte-2vaqag:has(.hint):hover ._hint.svelte-2vaqag{display:block}._hint.svelte-2vaqag.svelte-2vaqag{display:none;position:absolute;bottom:28px;left:0;width:max-content;height:auto;background-color:#fff;border:1px solid black;border-radius:8px;padding:4px 8px;box-sizing:content-box;z-index:1}input[type=checkbox].svelte-2vaqag.svelte-2vaqag{width:0px;height:0px;display:none;visibility:hidden}label.svelte-2vaqag.svelte-2vaqag{width:48px;height:12px;display:inline-block;position:relative;background-color:#777;border:2px solid #555;border-radius:30px;transition:all .2s}label.svelte-2vaqag.svelte-2vaqag:after{content:"";display:block;width:24px;height:24px;background-color:#555;position:absolute;border-radius:50%;left:-2px;top:-6px;transition:transform .2s}input[type=checkbox].svelte-2vaqag:checked~label.svelte-2vaqag{background-color:#00a0fc;border-color:#006dc9}input[type=checkbox].svelte-2vaqag:checked~label.svelte-2vaqag:after{background-color:#0054b0;transform:translate(28px)}.sideP.svelte-mdsgbd.svelte-mdsgbd{position:fixed;opacity:.4;margin:4px 2px;border-radius:8px;overflow:hidden;z-index:40000;border:2px solid transparent}.sideP.svelte-mdsgbd.svelte-mdsgbd:hover{opacity:1;border:2px solid yellow}.sideP__title.svelte-mdsgbd.svelte-mdsgbd{width:100%;height:8px;background-color:#ff0}.sideP__title.svelte-mdsgbd.svelte-mdsgbd:hover{cursor:move}.sideP__out.svelte-mdsgbd.svelte-mdsgbd{display:flex;flex-direction:column}.sideP__btn.svelte-mdsgbd.svelte-mdsgbd{background-color:gray;color:#fff;padding:4px 8px;margin:4px;border-radius:8px;cursor:pointer;border:none}.sideP__btn.svelte-mdsgbd.svelte-mdsgbd:hover{background-color:#6531ff}.configP.svelte-mdsgbd.svelte-mdsgbd{position:fixed;left:0;top:0;width:100vw;height:100vh;padding:0;margin:0;z-index:50000;background-color:#0003}.configP_holder.svelte-mdsgbd.svelte-mdsgbd{position:absolute;right:20px;top:20px;overflow-y:scroll;width:360px;max-height:calc(100vh - 40px);padding:0;margin:0;border-radius:24px;border:2px solid black;background-color:#d4e7ff}.configP_holder.svelte-mdsgbd.svelte-mdsgbd::-webkit-scrollbar{display:none}.configP_title.svelte-mdsgbd.svelte-mdsgbd{position:fixed;box-sizing:border-box;width:inherit;display:flex;justify-content:space-between;align-items:center;height:40px;padding:0 10px;border-top-left-radius:24px;border-top-right-radius:24px;border-bottom:2px solid black;background-color:#9ac6ff;z-index:2}.configP_title.svelte-mdsgbd.svelte-mdsgbd p{font-size:18px;font-weight:500}.configP_title.svelte-mdsgbd.svelte-mdsgbd button{border:none;padding:0;margin:0;background-color:transparent}.section.svelte-mdsgbd.svelte-mdsgbd{margin:16px 18px}.section.svelte-mdsgbd.svelte-mdsgbd button{border-radius:10px;margin:4px;padding:12px 16px}.section.svelte-mdsgbd.svelte-mdsgbd .s_title{text-align:center}.section.svelte-mdsgbd.svelte-mdsgbd .s_panel{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}.section.svelte-mdsgbd.svelte-mdsgbd .s_checkbox{padding:12px;margin:4px;border-radius:10px;border:1px solid black;font-size:14px;display:flex;align-items:center}.configP_holder.svelte-mdsgbd .section.svelte-mdsgbd:nth-child(2){margin-top:48px}#reset_panel_pos.svelte-mdsgbd.svelte-mdsgbd{width:100%;text-align:center;border:1px solid black;border-radius:16px}.card.svelte-vdh3h6.svelte-vdh3h6{border:1px solid rgba(255,255,255,.5);border-radius:16px;margin:6px 0;overflow:hidden;cursor:pointer;box-shadow:#0000004d 3px 3px,#0000001a -1px -1px;transition:box-shadow .2s}.card.svelte-vdh3h6.svelte-vdh3h6:hover{box-shadow:#7300ff4d 5px 5px,#0000001a -1px -1px}.card-title.svelte-vdh3h6.svelte-vdh3h6{padding:2px 0}.card-holder.svelte-vdh3h6.svelte-vdh3h6{background-color:#ffffff80;background:linear-gradient(to bottom,rgba(255,255,255,.4),rgba(255,255,255,0))}.card-category.svelte-vdh3h6.svelte-vdh3h6{text-align:center;letter-spacing:2px;font-weight:700}.card-line.svelte-vdh3h6.svelte-vdh3h6{margin-top:1px;margin-bottom:1px;display:flex;justify-content:space-evenly;align-items:center;height:20px}.two-lines.svelte-vdh3h6.svelte-vdh3h6{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;transition:color .3s}.two-lines.svelte-vdh3h6.svelte-vdh3h6:hover{-webkit-line-clamp:100}.cl-center.svelte-vdh3h6.svelte-vdh3h6{display:flex;justify-content:space-evenly;align-items:center}.cl-tags.svelte-vdh3h6.svelte-vdh3h6{display:flex;justify-content:left;align-items:center;flex-wrap:wrap;gap:2px;transform:translate(4px)}.cl-tags.svelte-vdh3h6.svelte-vdh3h6:has(span){padding-top:2px}.card-details.svelte-vdh3h6.svelte-vdh3h6{display:flex;justify-content:center;align-items:center;flex-direction:column}.card-image.svelte-vdh3h6.svelte-vdh3h6{height:100%;position:relative}.card-image.svelte-vdh3h6 img.svelte-vdh3h6{width:100%;object-fit:cover}.card-alter.svelte-vdh3h6.svelte-vdh3h6{text-align:center;height:20px;display:flex;justify-content:center;align-items:center}.top_and_free.svelte-vdh3h6.svelte-vdh3h6{padding:2px;border-radius:4px;margin-bottom:2px;display:flex;justify-content:center;align-items:center;line-height:11px;height:11px;font-size:10px}._Free.svelte-vdh3h6.svelte-vdh3h6{color:#00f}._2XFree.svelte-vdh3h6.svelte-vdh3h6{color:green}.card-description.svelte-vdh3h6.svelte-vdh3h6{padding-left:4px;padding-right:4px}.card-index.svelte-vdh3h6.svelte-vdh3h6{position:absolute;top:0;left:0;padding-right:9px;padding-left:2px;margin:0;height:20px;line-height:16px;font-size:16px;background-color:#000;color:#ff0;border-top-right-radius:100px;border-bottom-right-radius:100px;display:flex;align-items:center;pointer-events:none}.btnCollet.svelte-vdh3h6.svelte-vdh3h6{padding:1px 2px;cursor:pointer}.hot.svelte-vdh3h6.svelte-vdh3h6,.new.svelte-vdh3h6.svelte-vdh3h6{padding:0 2px;border-radius:8px;background:white;margin:2px}.card-category.svelte-1fw75v2.svelte-1fw75v2{height:24px;padding:0 2px;border:1px;background:black;color:#fff;font-weight:600;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:flex;align-items:center;justify-content:center}.card_category-img.svelte-1fw75v2.svelte-1fw75v2{height:32px;background-size:100% 141%;background-position:center top;padding-top:6px}.card.svelte-1fw75v2.svelte-1fw75v2{border:1px solid rgba(255,255,255,.5);border-radius:16px;margin:6px 0;overflow:hidden;cursor:pointer;box-shadow:#0000004d 3px 3px,#0000001a -1px -1px;transition:box-shadow .2s}.card.svelte-1fw75v2.svelte-1fw75v2:hover{box-shadow:#7300ff4d 5px 5px,#0000001a -1px -1px}.card-title.svelte-1fw75v2.svelte-1fw75v2{padding:2px 0}.card-holder.svelte-1fw75v2.svelte-1fw75v2{background-color:#ffffff80;background:linear-gradient(to bottom,rgba(255,255,255,.4),rgba(255,255,255,0))}.card-line.svelte-1fw75v2.svelte-1fw75v2{margin-top:1px;margin-bottom:1px;display:flex;justify-content:space-evenly;align-items:center;height:20px}.two-lines.svelte-1fw75v2.svelte-1fw75v2{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;transition:color .3s}.two-lines.svelte-1fw75v2.svelte-1fw75v2:hover{-webkit-line-clamp:100}.cl-center.svelte-1fw75v2.svelte-1fw75v2{display:flex;justify-content:space-evenly;align-items:center}.cl-tags.svelte-1fw75v2.svelte-1fw75v2{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:2px;padding-top:4px;padding-bottom:2px}.cl-tags.svelte-1fw75v2.svelte-1fw75v2:has(span){padding-top:2px}.card-details.svelte-1fw75v2.svelte-1fw75v2{display:flex;justify-content:center;align-items:center;flex-direction:column}.card-image.svelte-1fw75v2.svelte-1fw75v2{height:100%;position:relative}.card-image.svelte-1fw75v2 img.svelte-1fw75v2{width:100%;object-fit:cover}.card-alter.svelte-1fw75v2.svelte-1fw75v2{text-align:center;height:20px;display:flex;justify-content:center;align-items:center}.top_and_free.svelte-1fw75v2.svelte-1fw75v2{padding:2px;border-radius:4px;margin-bottom:2px;display:flex;justify-content:center;align-items:center;line-height:11px;height:11px;font-size:10px}._Free.svelte-1fw75v2.svelte-1fw75v2{color:#00f}._2XFree.svelte-1fw75v2.svelte-1fw75v2{color:green}.card-description.svelte-1fw75v2.svelte-1fw75v2{padding-left:4px;padding-right:4px}.card-index.svelte-1fw75v2.svelte-1fw75v2{position:absolute;top:0;left:0;padding-right:9px;padding-left:2px;margin:0;height:20px;line-height:16px;font-size:16px;background-color:#000;color:#ff0;border-top-right-radius:100px;border-bottom-right-radius:100px;display:flex;align-items:center;pointer-events:none}.btnCollet.svelte-1fw75v2.svelte-1fw75v2{padding:1px 2px;cursor:pointer}.tempTags.svelte-1fw75v2.svelte-1fw75v2{background-color:#fff;margin-left:2px;padding-left:2px;padding-right:2px;border-radius:4px}#turnPage.svelte-kydsmq{width:100%;height:32px;border-radius:16px;line-height:20px;font-size:14px;position:absolute;bottom:0px}#_turnPage.svelte-2j14uu{width:100%;height:32px;border-radius:16px;line-height:20px;font-size:14px;margin:10px 0;padding:0 10px}div#_iframe.svelte-1wevt6e{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0026269b;z-index:30000;display:flex}iframe.svelte-1wevt6e{height:96%;margin:auto} ');

(function () {
      'use strict';

      function re(){}const Di=e=>e;function il(e,t){for(const n in t)e[n]=t[n];return e}function Ri(e){return e()}function kn(){return Object.create(null)}function je(e){e.forEach(Ri);}function st(e){return typeof e=="function"}function lt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Tt;function _t(e,t){return Tt||(Tt=document.createElement("a")),Tt.href=t,e===Tt.href}function ll(e){return Object.keys(e).length===0}function Ai(e,...t){if(e==null)return re;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Xt(e){let t;return Ai(e,n=>t=n)(),t}function Q(e,t,n){e.$$.on_destroy.push(Ai(t,n));}function ol(e,t,n,i){if(e){const l=zi(e,t,n,i);return e[0](l)}}function zi(e,t,n,i){return e[1]&&i?il(n.ctx.slice(),e[1](i(t))):n.ctx}function sl(e,t,n,i){if(e[2]&&i){const l=e[2](i(n));if(t.dirty===void 0)return l;if(typeof l=="object"){const o=[],r=Math.max(t.dirty.length,l.length);for(let s=0;s<r;s+=1)o[s]=t.dirty[s]|l[s];return o}return t.dirty|l}return t.dirty}function rl(e,t,n,i,l,o){if(l){const r=zi(t,n,i,o);e.p(r,l);}}function al(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return -1}function fe(e,t,n){return e.set(n),t}const Hi=typeof window<"u";let fl=Hi?()=>window.performance.now():()=>Date.now(),Zt=Hi?e=>requestAnimationFrame(e):re;const ht=new Set;function Pi(e){ht.forEach(t=>{t.c(e)||(ht.delete(t),t.f());}),ht.size!==0&&Zt(Pi);}function cl(e){let t;return ht.size===0&&Zt(Pi),{promise:new Promise(n=>{ht.add(t={c:e,f:n});}),abort(){ht.delete(t);}}}function m(e,t){e.appendChild(t);}function Wi(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function ul(e){const t=w("style");return dl(Wi(e),t),t.sheet}function dl(e,t){return m(e.head||e,t),t.sheet}function S(e,t,n){e.insertBefore(t,n||null);}function C(e){e.parentNode&&e.parentNode.removeChild(e);}function w(e){return document.createElement(e)}function It(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function L(e){return document.createTextNode(e)}function R(){return L(" ")}function We(){return L("")}function J(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function _l(e){return function(t){t.target===this&&e.call(this,t);}}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n);}function hl(e){return e===""?null:+e}function ml(e){return Array.from(e.childNodes)}function B(e,t){t=""+t,e.data!==t&&(e.data=t);}function wn(e,t){e.value=t??"";}function K(e,t,n,i){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"");}function pl(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,n,i,t),l}class U{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null;}c(t){this.h(t);}m(t,n,i=null){this.e||(this.is_svg?this.e=It(n.nodeName):this.e=w(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(i);}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes);}i(t){for(let n=0;n<this.n.length;n+=1)S(this.t,this.n[n],t);}p(t){this.d(),this.h(t),this.i(this.a);}d(){this.n.forEach(C);}}const Dt=new Map;let Rt=0;function gl(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function vl(e,t){const n={stylesheet:ul(t),rules:{}};return Dt.set(e,n),n}function En(e,t,n,i,l,o,r,s=0){const a=16.666/i;let c=`{
`;for(let f=0;f<=1;f+=a){const h=t+(n-t)*o(f);c+=f*100+`%{${r(h,1-h)}}
`;}const u=c+`100% {${r(n,1-n)}}
}`,p=`__svelte_${gl(u)}_${s}`,d=Wi(e),{stylesheet:_,rules:v}=Dt.get(d)||vl(d,e);v[p]||(v[p]=!0,_.insertRule(`@keyframes ${p} ${u}`,_.cssRules.length));const y=e.style.animation||"";return e.style.animation=`${y?`${y}, `:""}${p} ${i}ms linear ${l}ms 1 both`,Rt+=1,p}function bl(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),l=n.length-i.length;l&&(e.style.animation=i.join(", "),Rt-=l,Rt||yl());}function yl(){Zt(()=>{Rt||(Dt.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&C(t);}),Dt.clear());});}let kt;function bt(e){kt=e;}function Gi(){if(!kt)throw new Error("Function called outside component initialization");return kt}function Jt(e){Gi().$$.on_mount.push(e);}function kl(e){Gi().$$.after_update.push(e);}const ut=[],Re=[];let mt=[];const Vt=[],wl=Promise.resolve();let Qt=!1;function El(){Qt||(Qt=!0,wl.then(qi));}function pt(e){mt.push(e);}function Ue(e){Vt.push(e);}const Yt=new Set;let ft=0;function qi(){if(ft!==0)return;const e=kt;do{try{for(;ft<ut.length;){const t=ut[ft];ft++,bt(t),Tl(t.$$);}}catch(t){throw ut.length=0,ft=0,t}for(bt(null),ut.length=0,ft=0;Re.length;)Re.pop()();for(let t=0;t<mt.length;t+=1){const n=mt[t];Yt.has(n)||(Yt.add(n),n());}mt.length=0;}while(ut.length);for(;Vt.length;)Vt.pop()();Qt=!1,Yt.clear(),bt(e);}function Tl(e){if(e.fragment!==null){e.update(),je(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(pt);}}function Ll(e){const t=[],n=[];mt.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),mt=t;}let gt;function Il(){return gt||(gt=Promise.resolve(),gt.then(()=>{gt=null;})),gt}function Bt(e,t,n){e.dispatchEvent(pl(`${t?"intro":"outro"}${n}`));}const Ct=new Set;let et;function nt(){et={r:0,c:[],p:et};}function it(){et.r||je(et.c),et=et.p;}function F(e,t){e&&e.i&&(Ct.delete(e),e.i(t));}function Z(e,t,n,i){if(e&&e.o){if(Ct.has(e))return;Ct.add(e),et.c.push(()=>{Ct.delete(e),i&&(n&&e.d(1),i());}),e.o(t);}else i&&i();}const Cl={duration:0};function At(e,t,n,i){const l={direction:"both"};let o=t(e,n,l),r=i?0:1,s=null,a=null,c=null;function u(){c&&bl(e,c);}function p(_,v){const y=_.b-r;return v*=Math.abs(y),{a:r,b:_.b,d:y,duration:v,start:_.start,end:_.start+v,group:_.group}}function d(_){const{delay:v=0,duration:y=300,easing:f=Di,tick:h=re,css:g}=o||Cl,k={start:fl()+v,b:_};_||(k.group=et,et.r+=1),s||a?a=k:(g&&(u(),c=En(e,r,_,y,v,f,g)),_&&h(0,1),s=p(k,y),pt(()=>Bt(e,_,"start")),cl(E=>{if(a&&E>a.start&&(s=p(a,y),a=null,Bt(e,s.b,"start"),g&&(u(),c=En(e,r,s.b,s.duration,0,f,o.css))),s){if(E>=s.end)h(r=s.b,1-r),Bt(e,s.b,"end"),a||(s.b?u():--s.group.r||je(s.group.c)),s=null;else if(E>=s.start){const M=E-s.start;r=s.a+s.d*f(M/s.duration),h(r,1-r);}}return !!(s||a)}));}return {run(_){st(o)?Il().then(()=>{o=o(l),d(_);}):d(_);},end(){u(),s=a=null;}}}function Yi(e,t){Z(e,1,1,()=>{t.delete(e.key);});}function Bi(e,t,n,i,l,o,r,s,a,c,u,p){let d=e.length,_=o.length,v=d;const y={};for(;v--;)y[e[v].key]=v;const f=[],h=new Map,g=new Map,k=[];for(v=_;v--;){const A=p(l,o,v),z=n(A);let T=r.get(z);T?i&&k.push(()=>T.p(A,t)):(T=c(z,A),T.c()),h.set(z,f[v]=T),z in y&&g.set(z,Math.abs(v-y[z]));}const E=new Set,M=new Set;function O(A){F(A,1),A.m(s,u),r.set(A.key,A),u=A.first,_--;}for(;d&&_;){const A=f[_-1],z=e[d-1],T=A.key,N=z.key;A===z?(u=A.first,d--,_--):h.has(N)?!r.has(T)||E.has(T)?O(A):M.has(N)?d--:g.get(T)>g.get(N)?(M.add(T),O(A)):(E.add(N),d--):(a(z,r),d--);}for(;d--;){const A=e[d];h.has(A.key)||a(A,r);}for(;_;)O(f[_-1]);return je(k),f}function Xe(e,t,n){const i=e.$$.props[t];i!==void 0&&(e.$$.bound[i]=n,n(e.$$.ctx[i]));}function Ae(e){e&&e.c();}function Ce(e,t,n,i){const{fragment:l,after_update:o}=e.$$;l&&l.m(t,n),i||pt(()=>{const r=e.$$.on_mount.map(Ri).filter(st);e.$$.on_destroy?e.$$.on_destroy.push(...r):je(r),e.$$.on_mount=[];}),o.forEach(pt);}function Se(e,t){const n=e.$$;n.fragment!==null&&(Ll(n.after_update),je(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[]);}function Sl(e,t){e.$$.dirty[0]===-1&&(ut.push(e),El(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31;}function rt(e,t,n,i,l,o,r,s=[-1]){const a=kt;bt(e);const c=e.$$={fragment:null,ctx:[],props:o,update:re,not_equal:l,bound:kn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:kn(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};r&&r(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(p,d,..._)=>{const v=_.length?_[0]:d;return c.ctx&&l(c.ctx[p],c.ctx[p]=v)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](v),u&&Sl(e,p)),d}):[],c.update(),u=!0,je(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){const p=ml(t.target);c.fragment&&c.fragment.l(p),p.forEach(C);}else c.fragment&&c.fragment.c();t.intro&&F(e.$$.fragment),Ce(e,t.target,t.anchor,t.customElement),qi();}bt(a);}class at{$destroy(){Se(this,1),this.$destroy=re;}$on(t,n){if(!st(n))return re;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const l=i.indexOf(n);l!==-1&&i.splice(l,1);}}$set(t){this.$$set&&!ll(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1);}}/*!
       * Masonry PACKAGED v4.2.2
       * Cascading grid layout library
       * https://masonry.desandro.com
       * MIT License
       * by David DeSandro
       */(function(e,t){typeof define=="function"&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(n){return t(e,n)}):e.jQueryBridget=t(e,e.jQuery);})(window,function(t,n){var i=Array.prototype.slice,l=t.console,o=typeof l>"u"?function(){}:function(a){l.error(a);};function r(a,c,u){if(u=u||n||t.jQuery,!u)return;c.prototype.option||(c.prototype.option=function(_){u.isPlainObject(_)&&(this.options=u.extend(!0,this.options,_));}),u.fn[a]=function(_){if(typeof _=="string"){var v=i.call(arguments,1);return p(this,_,v)}return d(this,_),this};function p(_,v,y){var f,h="$()."+a+'("'+v+'")';return _.each(function(g,k){var E=u.data(k,a);if(!E){o(a+" not initialized. Cannot call methods, i.e. "+h);return}var M=E[v];if(!M||v.charAt(0)=="_"){o(h+" is not a valid method");return}var O=M.apply(E,y);f=f===void 0?O:f;}),f!==void 0?f:_}function d(_,v){_.each(function(y,f){var h=u.data(f,a);h?(h.option(v),h._init()):(h=new c(f,v),u.data(f,a,h));});}s(u);}function s(a){!a||a&&a.bridget||(a.bridget=r);}return s(n||t.jQuery),r});(function(e,t){typeof define=="function"&&define.amd?define("ev-emitter/ev-emitter",t):e.EvEmitter=t();})(typeof window<"u"?window:globalThis,function(){function e(){}var t=e.prototype;return t.on=function(n,i){if(!(!n||!i)){var l=this._events=this._events||{},o=l[n]=l[n]||[];return o.indexOf(i)==-1&&o.push(i),this}},t.once=function(n,i){if(!(!n||!i)){this.on(n,i);var l=this._onceEvents=this._onceEvents||{},o=l[n]=l[n]||{};return o[i]=!0,this}},t.off=function(n,i){var l=this._events&&this._events[n];if(!(!l||!l.length)){var o=l.indexOf(i);return o!=-1&&l.splice(o,1),this}},t.emitEvent=function(n,i){var l=this._events&&this._events[n];if(!(!l||!l.length)){l=l.slice(0),i=i||[];for(var o=this._onceEvents&&this._onceEvents[n],r=0;r<l.length;r++){var s=l[r],a=o&&o[s];a&&(this.off(n,s),delete o[s]),s.apply(this,i);}return this}},t.allOff=function(){delete this._events,delete this._onceEvents;},e});/*!
       * getSize v2.0.3
       * measure size of elements
       * MIT license
       */(function(e,t){typeof define=="function"&&define.amd?define("get-size/get-size",t):e.getSize=t();})(window,function(){function t(d){var _=parseFloat(d),v=d.indexOf("%")==-1&&!isNaN(_);return v&&_}function n(){}var i=typeof console>"u"?n:function(d){console.error(d);},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],o=l.length;function r(){for(var d={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},_=0;_<o;_++){var v=l[_];d[v]=0;}return d}function s(d){var _=getComputedStyle(d);return _||i("Style returned "+_+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),_}var a=!1,c;function u(){if(!a){a=!0;var d=document.createElement("div");d.style.width="200px",d.style.padding="1px 2px 3px 4px",d.style.borderStyle="solid",d.style.borderWidth="1px 2px 3px 4px",d.style.boxSizing="border-box";var _=document.body||document.documentElement;_.appendChild(d);var v=s(d);c=Math.round(t(v.width))==200,p.isBoxSizeOuter=c,_.removeChild(d);}}function p(d){if(u(),typeof d=="string"&&(d=document.querySelector(d)),!(!d||typeof d!="object"||!d.nodeType)){var _=s(d);if(_.display=="none")return r();var v={};v.width=d.offsetWidth,v.height=d.offsetHeight;for(var y=v.isBorderBox=_.boxSizing=="border-box",f=0;f<o;f++){var h=l[f],g=_[h],k=parseFloat(g);v[h]=isNaN(k)?0:k;}var E=v.paddingLeft+v.paddingRight,M=v.paddingTop+v.paddingBottom,O=v.marginLeft+v.marginRight,A=v.marginTop+v.marginBottom,z=v.borderLeftWidth+v.borderRightWidth,T=v.borderTopWidth+v.borderBottomWidth,N=y&&c,W=t(_.width);W!==!1&&(v.width=W+(N?0:E+z));var D=t(_.height);return D!==!1&&(v.height=D+(N?0:M+T)),v.innerWidth=v.width-(E+z),v.innerHeight=v.height-(M+T),v.outerWidth=v.width+O,v.outerHeight=v.height+A,v}}return p});(function(e,t){typeof define=="function"&&define.amd?define("desandro-matches-selector/matches-selector",t):e.matchesSelector=t();})(window,function(){var t=function(){var n=window.Element.prototype;if(n.matches)return "matches";if(n.matchesSelector)return "matchesSelector";for(var i=["webkit","moz","ms","o"],l=0;l<i.length;l++){var o=i[l],r=o+"MatchesSelector";if(n[r])return r}}();return function(i,l){return i[t](l)}});(function(e,t){typeof define=="function"&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(n){return t(e,n)}):e.fizzyUIUtils=t(e,e.matchesSelector);})(window,function(t,n){var i={};i.extend=function(r,s){for(var a in s)r[a]=s[a];return r},i.modulo=function(r,s){return (r%s+s)%s};var l=Array.prototype.slice;i.makeArray=function(r){if(Array.isArray(r))return r;if(r==null)return [];var s=typeof r=="object"&&typeof r.length=="number";return s?l.call(r):[r]},i.removeFrom=function(r,s){var a=r.indexOf(s);a!=-1&&r.splice(a,1);},i.getParent=function(r,s){for(;r.parentNode&&r!=document.body;)if(r=r.parentNode,n(r,s))return r},i.getQueryElement=function(r){return typeof r=="string"?document.querySelector(r):r},i.handleEvent=function(r){var s="on"+r.type;this[s]&&this[s](r);},i.filterFindElements=function(r,s){r=i.makeArray(r);var a=[];return r.forEach(function(c){if(c instanceof HTMLElement){if(!s){a.push(c);return}n(c,s)&&a.push(c);for(var u=c.querySelectorAll(s),p=0;p<u.length;p++)a.push(u[p]);}}),a},i.debounceMethod=function(r,s,a){a=a||100;var c=r.prototype[s],u=s+"Timeout";r.prototype[s]=function(){var p=this[u];clearTimeout(p);var d=arguments,_=this;this[u]=setTimeout(function(){c.apply(_,d),delete _[u];},a);};},i.docReady=function(r){var s=document.readyState;s=="complete"||s=="interactive"?setTimeout(r):document.addEventListener("DOMContentLoaded",r);},i.toDashed=function(r){return r.replace(/(.)([A-Z])/g,function(s,a,c){return a+"-"+c}).toLowerCase()};var o=t.console;return i.htmlInit=function(r,s){i.docReady(function(){var a=i.toDashed(s),c="data-"+a,u=document.querySelectorAll("["+c+"]"),p=document.querySelectorAll(".js-"+a),d=i.makeArray(u).concat(i.makeArray(p)),_=c+"-options",v=t.jQuery;d.forEach(function(y){var f=y.getAttribute(c)||y.getAttribute(_),h;try{h=f&&JSON.parse(f);}catch(k){o&&o.error("Error parsing "+c+" on "+y.className+": "+k);return}var g=new r(y,h);v&&v.data(y,s,g);});});},i});(function(e,t){typeof define=="function"&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],t):(e.Outlayer={},e.Outlayer.Item=t(e.EvEmitter,e.getSize));})(window,function(t,n){function i(y){for(var f in y)return !1;return f=null,!0}var l=document.documentElement.style,o=typeof l.transition=="string"?"transition":"WebkitTransition",r=typeof l.transform=="string"?"transform":"WebkitTransform",s={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[o],a={transform:r,transition:o,transitionDuration:o+"Duration",transitionProperty:o+"Property",transitionDelay:o+"Delay"};function c(y,f){y&&(this.element=y,this.layout=f,this.position={x:0,y:0},this._create());}var u=c.prototype=Object.create(t.prototype);u.constructor=c,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"});},u.handleEvent=function(y){var f="on"+y.type;this[f]&&this[f](y);},u.getSize=function(){this.size=n(this.element);},u.css=function(y){var f=this.element.style;for(var h in y){var g=a[h]||h;f[g]=y[h];}},u.getPosition=function(){var y=getComputedStyle(this.element),f=this.layout._getOption("originLeft"),h=this.layout._getOption("originTop"),g=y[f?"left":"right"],k=y[h?"top":"bottom"],E=parseFloat(g),M=parseFloat(k),O=this.layout.size;g.indexOf("%")!=-1&&(E=E/100*O.width),k.indexOf("%")!=-1&&(M=M/100*O.height),E=isNaN(E)?0:E,M=isNaN(M)?0:M,E-=f?O.paddingLeft:O.paddingRight,M-=h?O.paddingTop:O.paddingBottom,this.position.x=E,this.position.y=M;},u.layoutPosition=function(){var y=this.layout.size,f={},h=this.layout._getOption("originLeft"),g=this.layout._getOption("originTop"),k=h?"paddingLeft":"paddingRight",E=h?"left":"right",M=h?"right":"left",O=this.position.x+y[k];f[E]=this.getXValue(O),f[M]="";var A=g?"paddingTop":"paddingBottom",z=g?"top":"bottom",T=g?"bottom":"top",N=this.position.y+y[A];f[z]=this.getYValue(N),f[T]="",this.css(f),this.emitEvent("layout",[this]);},u.getXValue=function(y){var f=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!f?y/this.layout.size.width*100+"%":y+"px"},u.getYValue=function(y){var f=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&f?y/this.layout.size.height*100+"%":y+"px"},u._transitionTo=function(y,f){this.getPosition();var h=this.position.x,g=this.position.y,k=y==this.position.x&&f==this.position.y;if(this.setPosition(y,f),k&&!this.isTransitioning){this.layoutPosition();return}var E=y-h,M=f-g,O={};O.transform=this.getTranslate(E,M),this.transition({to:O,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0});},u.getTranslate=function(y,f){var h=this.layout._getOption("originLeft"),g=this.layout._getOption("originTop");return y=h?y:-y,f=g?f:-f,"translate3d("+y+"px, "+f+"px, 0)"},u.goTo=function(y,f){this.setPosition(y,f),this.layoutPosition();},u.moveTo=u._transitionTo,u.setPosition=function(y,f){this.position.x=parseFloat(y),this.position.y=parseFloat(f);},u._nonTransition=function(y){this.css(y.to),y.isCleaning&&this._removeStyles(y.to);for(var f in y.onTransitionEnd)y.onTransitionEnd[f].call(this);},u.transition=function(y){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(y);return}var f=this._transn;for(var h in y.onTransitionEnd)f.onEnd[h]=y.onTransitionEnd[h];for(h in y.to)f.ingProperties[h]=!0,y.isCleaning&&(f.clean[h]=!0);y.from&&(this.css(y.from),this.element.offsetHeight),this.enableTransition(y.to),this.css(y.to),this.isTransitioning=!0;};function p(y){return y.replace(/([A-Z])/g,function(f){return "-"+f.toLowerCase()})}var d="opacity,"+p(r);u.enableTransition=function(){if(!this.isTransitioning){var y=this.layout.options.transitionDuration;y=typeof y=="number"?y+"ms":y,this.css({transitionProperty:d,transitionDuration:y,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(s,this,!1);}},u.onwebkitTransitionEnd=function(y){this.ontransitionend(y);},u.onotransitionend=function(y){this.ontransitionend(y);};var _={"-webkit-transform":"transform"};u.ontransitionend=function(y){if(y.target===this.element){var f=this._transn,h=_[y.propertyName]||y.propertyName;if(delete f.ingProperties[h],i(f.ingProperties)&&this.disableTransition(),h in f.clean&&(this.element.style[y.propertyName]="",delete f.clean[h]),h in f.onEnd){var g=f.onEnd[h];g.call(this),delete f.onEnd[h];}this.emitEvent("transitionEnd",[this]);}},u.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(s,this,!1),this.isTransitioning=!1;},u._removeStyles=function(y){var f={};for(var h in y)f[h]="";this.css(f);};var v={transitionProperty:"",transitionDuration:"",transitionDelay:""};return u.removeTransitionStyles=function(){this.css(v);},u.stagger=function(y){y=isNaN(y)?0:y,this.staggerDelay=y+"ms";},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this]);},u.remove=function(){if(!o||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem();}),this.hide();},u.reveal=function(){delete this.isHidden,this.css({display:""});var y=this.layout.options,f={},h=this.getHideRevealTransitionEndProperty("visibleStyle");f[h]=this.onRevealTransitionEnd,this.transition({from:y.hiddenStyle,to:y.visibleStyle,isCleaning:!0,onTransitionEnd:f});},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal");},u.getHideRevealTransitionEndProperty=function(y){var f=this.layout.options[y];if(f.opacity)return "opacity";for(var h in f)return h},u.hide=function(){this.isHidden=!0,this.css({display:""});var y=this.layout.options,f={},h=this.getHideRevealTransitionEndProperty("hiddenStyle");f[h]=this.onHideTransitionEnd,this.transition({from:y.visibleStyle,to:y.hiddenStyle,isCleaning:!0,onTransitionEnd:f});},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"));},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""});},c});/*!
       * Outlayer v2.1.1
       * the brains and guts of a layout library
       * MIT license
       */(function(e,t){typeof define=="function"&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,i,l,o){return t(e,n,i,l,o)}):e.Outlayer=t(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item);})(window,function(t,n,i,l,o){var r=t.console,s=t.jQuery,a=function(){},c=0,u={};function p(f,h){var g=l.getQueryElement(f);if(!g){r&&r.error("Bad element for "+this.constructor.namespace+": "+(g||f));return}this.element=g,s&&(this.$element=s(this.element)),this.options=l.extend({},this.constructor.defaults),this.option(h);var k=++c;this.element.outlayerGUID=k,u[k]=this,this._create();var E=this._getOption("initLayout");E&&this.layout();}p.namespace="outlayer",p.Item=o,p.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=p.prototype;l.extend(d,n.prototype),d.option=function(f){l.extend(this.options,f);},d._getOption=function(f){var h=this.constructor.compatOptions[f];return h&&this.options[h]!==void 0?this.options[h]:this.options[f]},p.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),l.extend(this.element.style,this.options.containerStyle);var f=this._getOption("resize");f&&this.bindResize();},d.reloadItems=function(){this.items=this._itemize(this.element.children);},d._itemize=function(f){for(var h=this._filterFindItemElements(f),g=this.constructor.Item,k=[],E=0;E<h.length;E++){var M=h[E],O=new g(M,this);k.push(O);}return k},d._filterFindItemElements=function(f){return l.filterFindElements(f,this.options.itemSelector)},d.getItemElements=function(){return this.items.map(function(f){return f.element})},d.layout=function(){this._resetLayout(),this._manageStamps();var f=this._getOption("layoutInstant"),h=f!==void 0?f:!this._isLayoutInited;this.layoutItems(this.items,h),this._isLayoutInited=!0;},d._init=d.layout,d._resetLayout=function(){this.getSize();},d.getSize=function(){this.size=i(this.element);},d._getMeasurement=function(f,h){var g=this.options[f],k;g?(typeof g=="string"?k=this.element.querySelector(g):g instanceof HTMLElement&&(k=g),this[f]=k?i(k)[h]:g):this[f]=0;},d.layoutItems=function(f,h){f=this._getItemsForLayout(f),this._layoutItems(f,h),this._postLayout();},d._getItemsForLayout=function(f){return f.filter(function(h){return !h.isIgnored})},d._layoutItems=function(f,h){if(this._emitCompleteOnItems("layout",f),!(!f||!f.length)){var g=[];f.forEach(function(k){var E=this._getItemLayoutPosition(k);E.item=k,E.isInstant=h||k.isLayoutInstant,g.push(E);},this),this._processLayoutQueue(g);}},d._getItemLayoutPosition=function(){return {x:0,y:0}},d._processLayoutQueue=function(f){this.updateStagger(),f.forEach(function(h,g){this._positionItem(h.item,h.x,h.y,h.isInstant,g);},this);},d.updateStagger=function(){var f=this.options.stagger;if(f==null){this.stagger=0;return}return this.stagger=y(f),this.stagger},d._positionItem=function(f,h,g,k,E){k?f.goTo(h,g):(f.stagger(E*this.stagger),f.moveTo(h,g));},d._postLayout=function(){this.resizeContainer();},d.resizeContainer=function(){var f=this._getOption("resizeContainer");if(f){var h=this._getContainerSize();h&&(this._setContainerMeasure(h.width,!0),this._setContainerMeasure(h.height,!1));}},d._getContainerSize=a,d._setContainerMeasure=function(f,h){if(f!==void 0){var g=this.size;g.isBorderBox&&(f+=h?g.paddingLeft+g.paddingRight+g.borderLeftWidth+g.borderRightWidth:g.paddingBottom+g.paddingTop+g.borderTopWidth+g.borderBottomWidth),f=Math.max(f,0),this.element.style[h?"width":"height"]=f+"px";}},d._emitCompleteOnItems=function(f,h){var g=this;function k(){g.dispatchEvent(f+"Complete",null,[h]);}var E=h.length;if(!h||!E){k();return}var M=0;function O(){M++,M==E&&k();}h.forEach(function(A){A.once(f,O);});},d.dispatchEvent=function(f,h,g){var k=h?[h].concat(g):g;if(this.emitEvent(f,k),s)if(this.$element=this.$element||s(this.element),h){var E=s.Event(h);E.type=f,this.$element.trigger(E,g);}else this.$element.trigger(f,g);},d.ignore=function(f){var h=this.getItem(f);h&&(h.isIgnored=!0);},d.unignore=function(f){var h=this.getItem(f);h&&delete h.isIgnored;},d.stamp=function(f){f=this._find(f),f&&(this.stamps=this.stamps.concat(f),f.forEach(this.ignore,this));},d.unstamp=function(f){f=this._find(f),f&&f.forEach(function(h){l.removeFrom(this.stamps,h),this.unignore(h);},this);},d._find=function(f){if(f)return typeof f=="string"&&(f=this.element.querySelectorAll(f)),f=l.makeArray(f),f},d._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this));},d._getBoundingRect=function(){var f=this.element.getBoundingClientRect(),h=this.size;this._boundingRect={left:f.left+h.paddingLeft+h.borderLeftWidth,top:f.top+h.paddingTop+h.borderTopWidth,right:f.right-(h.paddingRight+h.borderRightWidth),bottom:f.bottom-(h.paddingBottom+h.borderBottomWidth)};},d._manageStamp=a,d._getElementOffset=function(f){var h=f.getBoundingClientRect(),g=this._boundingRect,k=i(f),E={left:h.left-g.left-k.marginLeft,top:h.top-g.top-k.marginTop,right:g.right-h.right-k.marginRight,bottom:g.bottom-h.bottom-k.marginBottom};return E},d.handleEvent=l.handleEvent,d.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0;},d.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1;},d.onresize=function(){this.resize();},l.debounceMethod(p,"onresize",100),d.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout();},d.needsResizeLayout=function(){var f=i(this.element),h=this.size&&f;return h&&f.innerWidth!==this.size.innerWidth},d.addItems=function(f){var h=this._itemize(f);return h.length&&(this.items=this.items.concat(h)),h},d.appended=function(f){var h=this.addItems(f);h.length&&(this.layoutItems(h,!0),this.reveal(h));},d.prepended=function(f){var h=this._itemize(f);if(h.length){var g=this.items.slice(0);this.items=h.concat(g),this._resetLayout(),this._manageStamps(),this.layoutItems(h,!0),this.reveal(h),this.layoutItems(g);}},d.reveal=function(f){if(this._emitCompleteOnItems("reveal",f),!(!f||!f.length)){var h=this.updateStagger();f.forEach(function(g,k){g.stagger(k*h),g.reveal();});}},d.hide=function(f){if(this._emitCompleteOnItems("hide",f),!(!f||!f.length)){var h=this.updateStagger();f.forEach(function(g,k){g.stagger(k*h),g.hide();});}},d.revealItemElements=function(f){var h=this.getItems(f);this.reveal(h);},d.hideItemElements=function(f){var h=this.getItems(f);this.hide(h);},d.getItem=function(f){for(var h=0;h<this.items.length;h++){var g=this.items[h];if(g.element==f)return g}},d.getItems=function(f){f=l.makeArray(f);var h=[];return f.forEach(function(g){var k=this.getItem(g);k&&h.push(k);},this),h},d.remove=function(f){var h=this.getItems(f);this._emitCompleteOnItems("remove",h),!(!h||!h.length)&&h.forEach(function(g){g.remove(),l.removeFrom(this.items,g);},this);},d.destroy=function(){var f=this.element.style;f.height="",f.position="",f.width="",this.items.forEach(function(g){g.destroy();}),this.unbindResize();var h=this.element.outlayerGUID;delete u[h],delete this.element.outlayerGUID,s&&s.removeData(this.element,this.constructor.namespace);},p.data=function(f){f=l.getQueryElement(f);var h=f&&f.outlayerGUID;return h&&u[h]},p.create=function(f,h){var g=_(p);return g.defaults=l.extend({},p.defaults),l.extend(g.defaults,h),g.compatOptions=l.extend({},p.compatOptions),g.namespace=f,g.data=p.data,g.Item=_(o),l.htmlInit(g,f),s&&s.bridget&&s.bridget(f,g),g};function _(f){function h(){f.apply(this,arguments);}return h.prototype=Object.create(f.prototype),h.prototype.constructor=h,h}var v={ms:1,s:1e3};function y(f){if(typeof f=="number")return f;var h=f.match(/(^\d*\.?\d*)(\w*)/),g=h&&h[1],k=h&&h[2];if(!g.length)return 0;g=parseFloat(g);var E=v[k]||1;return g*E}return p.Item=o,p});/*!
       * Masonry v4.2.2
       * Cascading grid layout library
       * https://masonry.desandro.com
       * MIT License
       * by David DeSandro
       */(function(e,t){typeof define=="function"&&define.amd?define(["outlayer/outlayer","get-size/get-size"],t):e.Masonry=t(e.Outlayer,e.getSize);})(window,function(t,n){var i=t.create("masonry");i.compatOptions.fitWidth="isFitWidth";var l=i.prototype;return l._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var o=0;o<this.cols;o++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0;},l.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var o=this.items[0],r=o&&o.element;this.columnWidth=r&&n(r).outerWidth||this.containerWidth;}var s=this.columnWidth+=this.gutter,a=this.containerWidth+this.gutter,c=a/s,u=s-a%s,p=u&&u<1?"round":"floor";c=Math[p](c),this.cols=Math.max(c,1);},l.getContainerWidth=function(){var o=this._getOption("fitWidth"),r=o?this.element.parentNode:this.element,s=n(r);this.containerWidth=s&&s.innerWidth;},l._getItemLayoutPosition=function(o){o.getSize();var r=o.size.outerWidth%this.columnWidth,s=r&&r<1?"round":"ceil",a=Math[s](o.size.outerWidth/this.columnWidth);a=Math.min(a,this.cols);for(var c=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",u=this[c](a,o),p={x:this.columnWidth*u.col,y:u.y},d=u.y+o.size.outerHeight,_=a+u.col,v=u.col;v<_;v++)this.colYs[v]=d;return p},l._getTopColPosition=function(o){var r=this._getTopColGroup(o),s=Math.min.apply(Math,r);return {col:r.indexOf(s),y:s}},l._getTopColGroup=function(o){if(o<2)return this.colYs;for(var r=[],s=this.cols+1-o,a=0;a<s;a++)r[a]=this._getColGroupY(a,o);return r},l._getColGroupY=function(o,r){if(r<2)return this.colYs[o];var s=this.colYs.slice(o,o+r);return Math.max.apply(Math,s)},l._getHorizontalColPosition=function(o,r){var s=this.horizontalColIndex%this.cols,a=o>1&&s+o>this.cols;s=a?0:s;var c=r.size.outerWidth&&r.size.outerHeight;return this.horizontalColIndex=c?s+o:this.horizontalColIndex,{col:s,y:this._getColGroupY(s,o)}},l._manageStamp=function(o){var r=n(o),s=this._getElementOffset(o),a=this._getOption("originLeft"),c=a?s.left:s.right,u=c+r.outerWidth,p=Math.floor(c/this.columnWidth);p=Math.max(0,p);var d=Math.floor(u/this.columnWidth);d-=u%this.columnWidth?0:1,d=Math.min(this.cols-1,d);for(var _=this._getOption("originTop"),v=(_?s.top:s.bottom)+r.outerHeight,y=p;y<=d;y++)this.colYs[y]=Math.max(v,this.colYs[y]);},l._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var o={height:this.maxY};return this._getOption("fitWidth")&&(o.width=this._getContainerFitWidth()),o},l._getContainerFitWidth=function(){for(var o=0,r=this.cols;--r&&this.colYs[r]===0;)o++;return (this.cols-o)*this.columnWidth-this.gutter},l.needsResizeLayout=function(){var o=this.containerWidth;return this.getContainerWidth(),o!=this.containerWidth},i});function zt(e,{delay:t=0,duration:n=400,easing:i=Di}={}){const l=+getComputedStyle(e).opacity;return {delay:t,duration:n,easing:i,css:o=>`opacity: ${o*l}`}}const ct=[];function Et(e,t=re){let n;const i=new Set;function l(s){if(lt(e,s)&&(e=s,n)){const a=!ct.length;for(const c of i)c[1](),ct.push(c,e);if(a){for(let c=0;c<ct.length;c+=2)ct[c][0](ct[c+1]);ct.length=0;}}}function o(s){l(s(e));}function r(s,a=re){const c=[s,a];return i.add(c),i.size===1&&(n=t(l)||re),s(e),()=>{i.delete(c),i.size===0&&n&&(n(),n=null);}}return {set:l,update:o,subscribe:r}}const St={Call:0,Run:0};let Lt=null;function Ol(e,t){return function(){Lt&&(console.warn("debounce dupe!!!!!!"),clearTimeout(Lt)),Lt=setTimeout(function(){e.apply(this,arguments),Lt=null;},t);}}function ji(e,t){let n,i=0;return function(...l){const o=Date.now(),r=o-i;!n&&r>t?(e.apply(this,l),i=o):(clearTimeout(n),n=setTimeout(()=>{e.apply(this,l),i=o,n=null;},t-r));}}const Nl=ji(Fi,1500),Ml=ji(Fi,30);function Fi(){St.Run++,console.log(`呼叫整理次数: ${St.Call}   实际整理次数: ${St.Run}`),masonry.layout();}function ie(e="normal"){St.Call++,masonry&&(e==="fast"?Ml():Nl());}function jt(){console.log("------------------------NEXUS TOOLS------------------------"),jQuery(document).ready(function(){function e(u,p){let d=p.prop("naturalWidth"),_=p.prop("naturalHeight"),v=d/_,y=0,f=0,h=window.innerWidth-u.clientX,g=window.innerHeight-u.clientY,k=0,E=!1;return u.clientX>window.innerWidth/2&&u.clientX+d>window.innerWidth&&(E=!0,h=u.clientX),u.clientY>window.innerHeight/2&&(u.clientY+_/2>window.innerHeight?(k=1,g=u.clientY):u.clientY+_>window.innerHeight&&(k=2,g=u.clientY)),d>h&&(d=h,_=d/v),_>g&&(_=g,d=_*v),E&&(y=-d),k==1?f=-(_-(window.innerHeight-u.clientY)):k==2&&(f=-_/2),{imgWidth:d,imgHeight:_,offsetX:y,offsetY:f}}function t(u,p){return Math.min(p.width/u.width,p.height/u.height)}function n(u,p){let d=p.prop("naturalWidth")??0,_=p.prop("naturalHeight")??0;const v=u.clientX,y=u.clientY,f=window.innerWidth,h=window.innerHeight,g=y,k=h-y,E=v,M=f-v,O={width:d,height:_},A={bot:{width:f,height:k},top:{width:f,height:g},right:{width:M,height:h},left:{width:E,height:h}};let z=0,T="";for(const D in A)if(Object.hasOwnProperty.call(A,D)){const H=A[D];t(O,H)>z&&(z=t(O,H),T=D);}const N={top:{left:0,top:0,width:f,height:g},bot:{left:0,top:g,width:f,height:k},left:{left:0,top:0,width:E,height:h},right:{left:E,top:0,width:M,height:h},default:{left:0,top:0,width:0,height:0}};return T!=""?N[T]:N.default}function i(u,p){return {left:u.pageX+p.offsetX,top:u.pageY+p.offsetY,width:p.imgWidth,height:p.imgHeight}}const l="img.preview_Kesa";let o,r;if(!jQuery("#nexus-preview").length){const u=document.body.appendChild(document.createElement("img"));u.id="nexus-preview";}jQuery("#nexus-preview");function s(u){const p=jQuery("<div>",{id:"kp_container",css:{backgroundColor:u,opacity:1,position:"fixed",zIndex:2e4,pointerEvents:"none",transition:"all .3s"}});return p.append(jQuery("<img>",{class:"kp_img",css:{position:"absolute",zIndex:20002,pointerEvents:"none",width:"100%",height:"100%",objectFit:"contain"}})),p.append(jQuery("<img>",{class:"kp_img",css:{position:"absolute",zIndex:20001,pointerEvents:"none",width:"100%",height:"100%",objectFit:"cover",filter:"blur(8px)"}})),p}const a=jQuery("#kp_container").length>0?jQuery("#kp_container"):s("");jQuery("body").append(a);let c=null;if(jQuery("body").on("mouseover",l,function(u){o=jQuery(this),c=setTimeout(()=>{if(Xt(Nt)){r=e(u,o),i(u,r);let p=o.attr("src");p&&a&&a.find(".kp_img").attr("src",p),a.css(n(u,o)).show();}},Xt(Mt));}).on("mouseout",l,function(u){a.hide(),c&&clearTimeout(c);}).on("mousemove",l,function(u){r=e(u,o),i(u,r),a.css(n(u,o));}),"IntersectionObserver"in window){let u=[...document.querySelectorAll(".nexus-lazy-load_Kesa")];const p=new IntersectionObserver(d=>{d.forEach(_=>{const v=_.target;if(_.intersectionRatio,_.isIntersecting&&!v.classList.contains("preview_Kesa")){const y=v.dataset.src;v.src=y,v.classList.add("preview_Kesa"),ie();}});});u.forEach(d=>p.observe(d));}});}function Ze(e,t){const n=localStorage.getItem(e),i=n?JSON.parse(n):t,l=Et(i);return l.subscribe(o=>{localStorage.setItem(e,JSON.stringify(o));}),l}const $t=Et({}),Ot=Ze("_showMode",1),$e=Et(0),ot=Et("https://kamept.com/index.php"),Ht=Ze("_domain",""),wt=Ze("_bgColor",""),dt=Et(!1),Ft=Ze("_panelPos",{x:0,y:0}),yt=Ze("_turnPage",!1),Ut=Ze("_show_debug_btn",0),Nt=Ze("_show_nexus_pic",1),Mt=Ze("_delay_nexus_pic",600),Pt=Ze("_card_width",200),Dl={mt:{hide_gay:!0}},Wt=Ze("_SITE_SETTING",Dl);let Tn=!1;Wt.subscribe(e=>{Tn?(ie("fast"),ie("fast"),ie(),ie()):Tn=!0;});const Rl={all:!1,title:!0,free:!1,sub_title:!1,tags:!1,size_download_collect:!1,upload_time:!1,statistics:!1},pe=Ze("_card_show",Rl);let Ln=!1;pe.subscribe(e=>{Ln?(ie("fast"),ie("fast"),ie(),ie()):Ln=!0;});function In(e){let t,n,i,l,o,r;return {c(){t=It("svg"),n=It("path"),i=It("circle"),l=R(),o=w("div"),r=L(e[5]),b(n,"d","M102.6476822,65.245285l-40.2463036,40.1161652c-3.1256676,3.1155624-8.1839256,3.1114655-11.3045425-0.0091476  l-26.7890854-26.789093c-3.1289177-3.1289139-3.1234951-8.2035599,0.0121021-11.3257828l40.077301-39.9063568  C65.8964539,25.8381672,67.9261017,25,70.0419083,25H97c4.4182816,0,8,3.5817223,8,8v26.5792809  C105,61.7055016,104.1535873,63.7442589,102.6476822,65.245285z"),b(n,"fill","yellow"),b(n,"stroke","#000000"),b(n,"stroke-linecap","round"),b(n,"stroke-linejoin","round"),b(n,"stroke-miterlimit","10"),b(n,"stroke-width","4"),b(i,"cx","85"),b(i,"cy","45"),b(i,"fill","red"),b(i,"r","8"),b(i,"stroke","#000000"),b(i,"stroke-linecap","round"),b(i,"stroke-linejoin","round"),b(i,"stroke-miterlimit","10"),b(i,"stroke-width","4"),b(t,"enable-background","new 0 0 128 128"),b(t,"id","Layer_1"),b(t,"version","1.1"),b(t,"viewBox","0 0 128 128"),b(t,"xml:space","preserve"),b(t,"width","28"),b(t,"height","28"),b(t,"class","hint"),b(o,"class","_hint svelte-2vaqag");},m(s,a){S(s,t,a),m(t,n),m(t,i),S(s,l,a),S(s,o,a),m(o,r);},p(s,a){a&32&&B(r,s[5]);},d(s){s&&C(t),s&&C(l),s&&C(o);}}}function Cn(e){let t,n;function i(r,s){return r[7]?Hl:r[0]?zl:Al}let l=i(e),o=l(e);return {c(){t=L(`: 

      `),o.c(),n=We();},m(r,s){S(r,t,s),o.m(r,s),S(r,n,s);},p(r,s){l===(l=i(r))&&o?o.p(r,s):(o.d(1),o=l(r),o&&(o.c(),o.m(n.parentNode,n)));},d(r){r&&C(t),o.d(r),r&&C(n);}}}function Al(e){let t,n;return {c(){t=w("span"),n=L(e[3]),b(t,"class","title_green svelte-2vaqag");},m(i,l){S(i,t,l),m(t,n);},p(i,l){l&8&&B(n,i[3]);},d(i){i&&C(t);}}}function zl(e){let t,n;return {c(){t=w("span"),n=L(e[4]),b(t,"class","title_red svelte-2vaqag");},m(i,l){S(i,t,l),m(t,n);},p(i,l){l&16&&B(n,i[4]);},d(i){i&&C(t);}}}function Hl(e){let t;function n(o,r){return o[0]?Wl:Pl}let i=n(e),l=i(e);return {c(){l.c(),t=We();},m(o,r){l.m(o,r),S(o,t,r);},p(o,r){i===(i=n(o))&&l?l.p(o,r):(l.d(1),l=i(o),l&&(l.c(),l.m(t.parentNode,t)));},d(o){l.d(o),o&&C(t);}}}function Pl(e){let t,n;return {c(){t=w("span"),n=L(e[4]),b(t,"class","title_red svelte-2vaqag");},m(i,l){S(i,t,l),m(t,n);},p(i,l){l&16&&B(n,i[4]);},d(i){i&&C(t);}}}function Wl(e){let t,n;return {c(){t=w("span"),n=L(e[3]),b(t,"class","title_green svelte-2vaqag");},m(i,l){S(i,t,l),m(t,n);},p(i,l){l&8&&B(n,i[3]);},d(i){i&&C(t);}}}function Sn(e){let t,n,i,l,o,r;return {c(){t=w("div"),n=w("input"),i=R(),l=w("label"),b(n,"type","checkbox"),b(n,"id","_t"+e[8]),b(n,"class","svelte-2vaqag"),b(l,"for","_t"+e[8]),b(l,"class","svelte-2vaqag"),b(t,"class","s_switch");},m(s,a){S(s,t,a),m(t,n),n.checked=e[0],m(t,i),m(t,l),o||(r=[J(n,"change",e[11]),J(n,"change",e[12])],o=!0);},p(s,a){a&1&&(n.checked=s[0]);},d(s){s&&C(t),o=!1,je(r);}}}function On(e){let t;const n=e[10].default,i=ol(n,e,e[9],null);return {c(){i&&i.c();},m(l,o){i&&i.m(l,o),t=!0;},p(l,o){i&&i.p&&(!t||o&512)&&rl(i,n,l,l[9],t?sl(n,l[9],o,null):al(l[9]),null);},i(l){t||(F(i,l),t=!0);},o(l){Z(i,l),t=!1;},d(l){i&&i.d(l);}}}function Gl(e){let t,n,i,l,o,r,s,a,c=e[5]&&In(e),u=(e[3]||e[4])&&Cn(e),p=e[1]=="switch"&&Sn(e),d=e[1]=="range"&&On(e);return {c(){t=w("div"),n=w("div"),c&&c.c(),i=R(),l=L(e[2]),o=R(),u&&u.c(),r=R(),p&&p.c(),s=R(),d&&d.c(),b(n,"class","s_title svelte-2vaqag"),b(n,"title",e[5]),b(t,"class","switch svelte-2vaqag");},m(_,v){S(_,t,v),m(t,n),c&&c.m(n,null),m(n,i),m(n,l),m(n,o),u&&u.m(n,null),m(t,r),p&&p.m(t,null),m(t,s),d&&d.m(t,null),a=!0;},p(_,[v]){_[5]?c?c.p(_,v):(c=In(_),c.c(),c.m(n,i)):c&&(c.d(1),c=null),(!a||v&4)&&B(l,_[2]),_[3]||_[4]?u?u.p(_,v):(u=Cn(_),u.c(),u.m(n,null)):u&&(u.d(1),u=null),(!a||v&32)&&b(n,"title",_[5]),_[1]=="switch"?p?p.p(_,v):(p=Sn(_),p.c(),p.m(t,s)):p&&(p.d(1),p=null),_[1]=="range"?d?(d.p(_,v),v&2&&F(d,1)):(d=On(_),d.c(),F(d,1),d.m(t,null)):d&&(nt(),Z(d,1,1,()=>{d=null;}),it());},i(_){a||(F(d),a=!0);},o(_){Z(d),a=!1;},d(_){_&&C(t),c&&c.d(),u&&u.d(),p&&p.d(),d&&d.d();}}}function ql(e,t,n){let{$$slots:i={},$$scope:l}=t,{type:o="switch"}=t,{title_fixed:r=""}=t,{title_green:s=""}=t,{title_red:a=""}=t,{label:c=""}=t,{func:u=null}=t;const p=Math.random().toFixed(8);let{checked:d=!1}=t,{green_state:_=!0}=t;function v(){d=this.checked,n(0,d);}const y=()=>{console.log(r,d),u!=null&&u();};return e.$$set=f=>{"type"in f&&n(1,o=f.type),"title_fixed"in f&&n(2,r=f.title_fixed),"title_green"in f&&n(3,s=f.title_green),"title_red"in f&&n(4,a=f.title_red),"label"in f&&n(5,c=f.label),"func"in f&&n(6,u=f.func),"checked"in f&&n(0,d=f.checked),"green_state"in f&&n(7,_=f.green_state),"$$scope"in f&&n(9,l=f.$$scope);},[d,o,r,s,a,c,u,_,p,l,i,v,y]}class Be extends at{constructor(t){super(),rt(this,t,ql,Gl,lt,{type:1,title_fixed:2,title_green:3,title_red:4,label:5,func:6,checked:0,green_state:7});}}function Yl(e){let t,n,i;return {c(){t=w("div"),t.innerHTML=`<svg viewBox="0 0 32 32" width="24" height="24" xmlns="http://www.w3.org/2000/svg"><defs><style>.cls-1 {
                  fill: none;
                  stroke: #000;
                  stroke-linecap: round;
                  stroke-linejoin: round;
                  stroke-width: 2px;
                }
              </style></defs><title></title><g data-name="43-browser" id="_43-browser"><rect class="cls-1" height="30" width="30" x="1" y="1"></rect><line class="cls-1" x1="1" x2="31" y1="9" y2="9"></line><line class="cls-1" x1="5" x2="7" y1="5" y2="5"></line><line class="cls-1" x1="11" x2="13" y1="5" y2="5"></line><line class="cls-1" x1="9" x2="25" y1="16" y2="16"></line><line class="cls-1" x1="7" x2="25" y1="20" y2="20"></line><line class="cls-1" x1="7" x2="25" y1="24" y2="24"></line></g></svg>`,n=R(),i=w("div"),i.textContent="原有列表";},m(l,o){S(l,t,o),S(l,n,o),S(l,i,o);},d(l){l&&C(t),l&&C(n),l&&C(i);}}}function Bl(e){let t,n,i;return {c(){t=w("div"),t.innerHTML='<svg enable-background="new 0 0 64 64" width="24" height="24" id="Layer_1" version="1.1" viewBox="0 0 64 64"><path d="M19,2.875H3.5c-0.829,0-1.5,0.671-1.5,1.5v19.979c0,0.829,0.671,1.5,1.5,1.5H19c0.829,0,1.5-0.671,1.5-1.5V4.375  C20.5,3.546,19.829,2.875,19,2.875z M17.5,22.854H5V5.875h12.5V22.854z" fill="white"></path><path d="M19,28.773H3.5c-0.829,0-1.5,0.671-1.5,1.5v6.166c0,0.828,0.671,1.5,1.5,1.5H19c0.829,0,1.5-0.672,1.5-1.5v-6.166  C20.5,29.445,19.829,28.773,19,28.773z M17.5,34.939H5v-3.166h12.5V34.939z" fill="white"></path><path d="M19,40.859H3.5c-0.829,0-1.5,0.672-1.5,1.5v17.266c0,0.828,0.671,1.5,1.5,1.5H19c0.829,0,1.5-0.672,1.5-1.5V42.359  C20.5,41.531,19.829,40.859,19,40.859z M17.5,58.125H5V43.859h12.5V58.125z" fill="white"></path><path d="M40,2.875H24.5c-0.829,0-1.5,0.671-1.5,1.5v14.25c0,0.829,0.671,1.5,1.5,1.5H40c0.828,0,1.5-0.671,1.5-1.5V4.375  C41.5,3.546,40.828,2.875,40,2.875z M38.5,17.125H26V5.875h12.5V17.125z" fill="white"></path><path d="M40,23.125H24.5c-0.829,0-1.5,0.671-1.5,1.5V46.5c0,0.828,0.671,1.5,1.5,1.5H40c0.828,0,1.5-0.672,1.5-1.5V24.625  C41.5,23.796,40.828,23.125,40,23.125z M38.5,45H26V26.125h12.5V45z" fill="white"></path><path d="M40,51H24.5c-0.829,0-1.5,0.672-1.5,1.5v7.125c0,0.828,0.671,1.5,1.5,1.5H40c0.828,0,1.5-0.672,1.5-1.5V52.5  C41.5,51.672,40.828,51,40,51z M38.5,58.125H26V54h12.5V58.125z" fill="white"></path><path d="M60.5,2.875H45c-0.828,0-1.5,0.671-1.5,1.5v35.171c0,0.828,0.672,1.5,1.5,1.5h15.5c0.828,0,1.5-0.672,1.5-1.5V4.375  C62,3.546,61.328,2.875,60.5,2.875z M59,38.046H46.5V5.875H59V38.046z" fill="white"></path><path d="M60.5,44.346H45c-0.828,0-1.5,0.672-1.5,1.5v13.779c0,0.828,0.672,1.5,1.5,1.5h15.5c0.828,0,1.5-0.672,1.5-1.5V45.846  C62,45.018,61.328,44.346,60.5,44.346z M59,58.125H46.5V47.346H59V58.125z" fill="white"></path></svg>',n=R(),i=w("div"),i.textContent="瀑布流";},m(l,o){S(l,t,o),S(l,n,o),S(l,i,o);},d(l){l&&C(t),l&&C(n),l&&C(i);}}}function Nn(e){let t,n,i,l,o,r,s,a,c,u,p;return {c(){t=w("button"),t.textContent="[d]切换宽度",n=R(),i=w("button"),i.textContent="[d]显示详情",l=R(),o=w("button"),r=L("[d]"),s=L(e[1]),a=R(),c=w("button"),c.textContent="[d]iframe",b(t,"class","sideP__btn svelte-mdsgbd"),b(i,"class","sideP__btn svelte-mdsgbd"),b(o,"class","sideP__btn svelte-mdsgbd"),b(c,"class","sideP__btn svelte-mdsgbd");},m(d,_){S(d,t,_),S(d,n,_),S(d,i,_),S(d,l,_),S(d,o,_),m(o,r),m(o,s),S(d,a,_),S(d,c,_),u||(p=[J(t,"click",e[16]),J(i,"click",e[17]),J(o,"click",e[18]),J(c,"click",e[19])],u=!0);},p(d,_){_[0]&2&&B(s,d[1]);},d(d){d&&C(t),d&&C(n),d&&C(i),d&&C(l),d&&C(o),d&&C(a),d&&C(c),u=!1,je(p);}}}function Mn(e){let t,n,i,l,o,r,s,a,c,u,p,d,_,v,y,f,h,g,k,E,M,O,A,z,T,N,W,D,H,q,ce,ee,le,ze,ge,ue,Ee,Y,X,oe,Te,Oe,te,Le,Ne,se,de,Me,ae,_e,He,ve,be,De,he,Ie,Ge,ye,Ve,qe,me,Pe,Fe,Ye,x=e[9]=="kp.m-team.cc"&&Dn(e);function Qe(P){e[27](P);}let Je={title_fixed:"显示模式",title_green:"瀑布流",title_red:"原始表格",label:"原始表格模式仅支持点击图片显示iframe和加载下一页",func:e[26]};e[4]!==void 0&&(Je.checked=e[4]),_=new Be({props:Je}),Re.push(()=>Xe(_,"checked",Qe));function I(P){e[28](P);}let V={title_fixed:"加载下一页方式",title_green:"按钮(默认)",title_red:"滚动(谨慎使用)",label:"滚动模式下 MT 等网站频繁使用可能会导致 120",green_state:!1};e[2]!==void 0&&(V.checked=e[2]),f=new Be({props:V}),Re.push(()=>Xe(f,"checked",I));function j(P){e[29](P);}let G={title_fixed:"侧边栏debug按钮",title_green:"隐藏(默认)",title_red:"显示(开发用)",green_state:!1};e[8]!==void 0&&(G.checked=e[8]),k=new Be({props:G}),Re.push(()=>Xe(k,"checked",j));function Qi(P){e[30](P);}let xt={title_fixed:"悬浮预览大图",title_green:"默认开启",title_red:"核心功能->确定不用再关"};e[11]!==void 0&&(xt.checked=e[11]),O=new Be({props:xt}),Re.push(()=>Xe(O,"checked",Qi));let ke=e[11]&&Rn(e);function $i(P){e[35](P);}let en={title_fixed:"卡片信息",title_green:"显示下方所选信息(精简)",title_red:"显示所有信息(较乱)",green_state:!1};e[3].all!==void 0&&(en.checked=e[3].all),le=new Be({props:en}),Re.push(()=>Xe(le,"checked",$i)),le.$on("click",e[20]);function Zi(P){e[36](P);}let tn={title_fixed:"显示种子名称"};e[3].title!==void 0&&(tn.checked=e[3].title),oe=new Be({props:tn}),Re.push(()=>Xe(oe,"checked",Zi));function Ji(P){e[37](P);}let nn={title_fixed:"显示置顶和免费"};e[3].free!==void 0&&(nn.checked=e[3].free),te=new Be({props:nn}),Re.push(()=>Xe(te,"checked",Ji));function Ki(P){e[38](P);}let ln={title_fixed:"显示副标题"};e[3].sub_title!==void 0&&(ln.checked=e[3].sub_title),se=new Be({props:ln}),Re.push(()=>Xe(se,"checked",Ki));function xi(P){e[39](P);}let on={title_fixed:"显示标签"};e[3].tags!==void 0&&(on.checked=e[3].tags),ae=new Be({props:on}),Re.push(()=>Xe(ae,"checked",xi));function el(P){e[40](P);}let sn={title_fixed:"显示 [大小/下载/收藏]"};e[3].size_download_collect!==void 0&&(sn.checked=e[3].size_download_collect),ve=new Be({props:sn}),Re.push(()=>Xe(ve,"checked",el));function tl(P){e[41](P);}let rn={title_fixed:"显示上传时间"};e[3].upload_time!==void 0&&(rn.checked=e[3].upload_time),he=new Be({props:rn}),Re.push(()=>Xe(he,"checked",tl));function nl(P){e[42](P);}let an={title_fixed:"显示 [评论/上传/下载/完成]"};return e[3].statistics!==void 0&&(an.checked=e[3].statistics),ye=new Be({props:an}),Re.push(()=>Xe(ye,"checked",nl)),{c(){t=w("div"),n=w("div"),i=w("div"),l=w("p"),l.textContent="详细配置面板",o=R(),r=w("button"),r.innerHTML='<svg class="feather feather-x" fill="none" height="28" width="28" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><line x1="20" x2="6" y1="6" y2="20"></line><line x1="6" x2="20" y1="6" y2="20"></line></svg>',s=R(),x&&x.c(),a=R(),c=w("div"),u=w("h1"),u.textContent="常用配置",p=R(),d=w("div"),Ae(_.$$.fragment),y=R(),Ae(f.$$.fragment),g=R(),Ae(k.$$.fragment),M=R(),Ae(O.$$.fragment),z=R(),ke&&ke.c(),T=R(),N=w("button"),N.textContent="切换宽度(开发中)",W=R(),D=R(),H=w("div"),q=w("h1"),q.textContent="卡片信息",ce=R(),ee=w("div"),Ae(le.$$.fragment),ge=R(),ue=w("div"),Ee=w("h3"),Ee.textContent="配置常驻卡片信息",Y=R(),X=w("div"),Ae(oe.$$.fragment),Oe=R(),Ae(te.$$.fragment),Ne=R(),Ae(se.$$.fragment),Me=R(),Ae(ae.$$.fragment),He=R(),Ae(ve.$$.fragment),De=R(),Ae(he.$$.fragment),Ge=R(),Ae(ye.$$.fragment),qe=R(),b(i,"class","configP_title svelte-mdsgbd"),b(u,"class","s_title"),b(N,"class","sideP__btn svelte-mdsgbd"),b(d,"class","s_panel"),b(c,"class","section svelte-mdsgbd"),b(q,"class","s_title"),b(ee,"class","s_panel"),b(Ee,"class","s_title"),b(X,"class","s_panel"),b(ue,"class","section svelte-mdsgbd"),b(H,"class","section svelte-mdsgbd"),b(n,"class","configP_holder svelte-mdsgbd"),b(t,"class","configP svelte-mdsgbd");},m(P,we){S(P,t,we),m(t,n),m(n,i),m(i,l),m(i,o),m(i,r),m(n,s),x&&x.m(n,null),m(n,a),m(n,c),m(c,u),m(c,p),m(c,d),Ce(_,d,null),m(d,y),Ce(f,d,null),m(d,g),Ce(k,d,null),m(d,M),Ce(O,d,null),m(d,z),ke&&ke.m(d,null),m(d,T),m(d,N),m(d,W),m(n,D),m(n,H),m(H,q),m(H,ce),m(H,ee),Ce(le,ee,null),m(H,ge),m(H,ue),m(ue,Ee),m(ue,Y),m(ue,X),Ce(oe,X,null),m(X,Oe),Ce(te,X,null),m(X,Ne),Ce(se,X,null),m(X,Me),Ce(ae,X,null),m(X,He),Ce(ve,X,null),m(X,De),Ce(he,X,null),m(X,Ge),Ce(ye,X,null),m(X,qe),Pe=!0,Fe||(Ye=[J(r,"click",e[24]),J(N,"click",e[16]),J(t,"click",_l(e[57]))],Fe=!0);},p(P,we){P[9]=="kp.m-team.cc"?x?(x.p(P,we),we[0]&512&&F(x,1)):(x=Dn(P),x.c(),F(x,1),x.m(n,a)):x&&(nt(),Z(x,1,1,()=>{x=null;}),it());const fn={};!v&&we[0]&16&&(v=!0,fn.checked=P[4],Ue(()=>v=!1)),_.$set(fn);const cn={};!h&&we[0]&4&&(h=!0,cn.checked=P[2],Ue(()=>h=!1)),f.$set(cn);const un={};!E&&we[0]&256&&(E=!0,un.checked=P[8],Ue(()=>E=!1)),k.$set(un);const dn={};!A&&we[0]&2048&&(A=!0,dn.checked=P[11],Ue(()=>A=!1)),O.$set(dn),P[11]?ke?(ke.p(P,we),we[0]&2048&&F(ke,1)):(ke=Rn(P),ke.c(),F(ke,1),ke.m(d,T)):ke&&(nt(),Z(ke,1,1,()=>{ke=null;}),it());const _n={};!ze&&we[0]&8&&(ze=!0,_n.checked=P[3].all,Ue(()=>ze=!1)),le.$set(_n);const hn={};!Te&&we[0]&8&&(Te=!0,hn.checked=P[3].title,Ue(()=>Te=!1)),oe.$set(hn);const mn={};!Le&&we[0]&8&&(Le=!0,mn.checked=P[3].free,Ue(()=>Le=!1)),te.$set(mn);const pn={};!de&&we[0]&8&&(de=!0,pn.checked=P[3].sub_title,Ue(()=>de=!1)),se.$set(pn);const gn={};!_e&&we[0]&8&&(_e=!0,gn.checked=P[3].tags,Ue(()=>_e=!1)),ae.$set(gn);const vn={};!be&&we[0]&8&&(be=!0,vn.checked=P[3].size_download_collect,Ue(()=>be=!1)),ve.$set(vn);const bn={};!Ie&&we[0]&8&&(Ie=!0,bn.checked=P[3].upload_time,Ue(()=>Ie=!1)),he.$set(bn);const yn={};!Ve&&we[0]&8&&(Ve=!0,yn.checked=P[3].statistics,Ue(()=>Ve=!1)),ye.$set(yn);},i(P){Pe||(F(x),F(_.$$.fragment,P),F(f.$$.fragment,P),F(k.$$.fragment,P),F(O.$$.fragment,P),F(ke),F(le.$$.fragment,P),F(oe.$$.fragment,P),F(te.$$.fragment,P),F(se.$$.fragment,P),F(ae.$$.fragment,P),F(ve.$$.fragment,P),F(he.$$.fragment,P),F(ye.$$.fragment,P),pt(()=>{Pe&&(me||(me=At(t,zt,{duration:100},!0)),me.run(1));}),Pe=!0);},o(P){Z(x),Z(_.$$.fragment,P),Z(f.$$.fragment,P),Z(k.$$.fragment,P),Z(O.$$.fragment,P),Z(ke),Z(le.$$.fragment,P),Z(oe.$$.fragment,P),Z(te.$$.fragment,P),Z(se.$$.fragment,P),Z(ae.$$.fragment,P),Z(ve.$$.fragment,P),Z(he.$$.fragment,P),Z(ye.$$.fragment,P),me||(me=At(t,zt,{duration:100},!1)),me.run(0),Pe=!1;},d(P){P&&C(t),x&&x.d(),Se(_),Se(f),Se(k),Se(O),ke&&ke.d(),Se(le),Se(oe),Se(te),Se(se),Se(ae),Se(ve),Se(he),Se(ye),P&&me&&me.end(),Fe=!1,je(Ye);}}}function Dn(e){let t,n,i,l,o,r,s;function a(u){e[25](u);}let c={title_fixed:"隐藏Gay分区卡片",title_green:"隐藏(默认)",title_red:"显示(狠人)"};return e[10].mt.hide_gay!==void 0&&(c.checked=e[10].mt.hide_gay),o=new Be({props:c}),Re.push(()=>Xe(o,"checked",a)),{c(){t=w("div"),n=w("h1"),n.textContent="MT专用配置",i=R(),l=w("div"),Ae(o.$$.fragment),b(n,"class","s_title"),b(l,"class","s_panel"),b(t,"class","section svelte-mdsgbd");},m(u,p){S(u,t,p),m(t,n),m(t,i),m(t,l),Ce(o,l,null),s=!0;},p(u,p){const d={};!r&&p[0]&1024&&(r=!0,d.checked=u[10].mt.hide_gay,Ue(()=>r=!1)),o.$set(d);},i(u){s||(F(o.$$.fragment,u),s=!0);},o(u){Z(o.$$.fragment,u),s=!1;},d(u){u&&C(t),Se(o);}}}function Rn(e){let t,n;return t=new Be({props:{title_fixed:`悬浮预览延迟${e[12]?":"+e[12]+"ms":""}`,title_red:`${e[12]?"":"无延迟"}`,label:"防止无意滑动时大图打开妨碍预览",type:"range",$$slots:{default:[jl]},$$scope:{ctx:e}}}),{c(){Ae(t.$$.fragment);},m(i,l){Ce(t,i,l),n=!0;},p(i,l){const o={};l[0]&4096&&(o.title_fixed=`悬浮预览延迟${i[12]?":"+i[12]+"ms":""}`),l[0]&4096&&(o.title_red=`${i[12]?"":"无延迟"}`),l[0]&4096|l[2]&32&&(o.$$scope={dirty:l,ctx:i}),t.$set(o);},i(i){n||(F(t.$$.fragment,i),n=!0);},o(i){Z(t.$$.fragment,i),n=!1;},d(i){Se(t,i);}}}function jl(e){let t,n,i;return {c(){t=w("input"),b(t,"type","range"),b(t,"min","0"),b(t,"max","1500"),b(t,"step","100"),b(t,"list","values");},m(l,o){S(l,t,o),wn(t,e[12]),n||(i=[J(t,"change",e[31]),J(t,"input",e[31])],n=!0);},p(l,o){o[0]&4096&&wn(t,l[12]);},d(l){l&&C(t),n=!1,je(i);}}}function Fl(e){let t,n,i,l,o,r,s,a,c,u,p,d,_,v;function y(E,M){return E[4]?Bl:Yl}let f=y(e),h=f(e),g=e[8]&&Nn(e),k=e[7]&&Mn(e);return {c(){t=w("div"),n=w("div"),i=R(),l=w("div"),o=w("button"),h.c(),r=R(),s=w("button"),s.innerHTML=`<div><svg width="24" height="24" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><defs><style>.cls-1 {
                fill: none;
                stroke: #fff;
                stroke-linecap: round;
                stroke-linejoin: round;
                stroke-width: 2px;
              }
            </style></defs><title></title><g data-name="80-setting" id="_80-setting"><circle class="cls-1" cx="10" cy="6" r="3"></circle><circle class="cls-1" cx="22" cy="16" r="3"></circle><circle class="cls-1" cx="10" cy="26" r="3"></circle><line class="cls-1" x1="7" x2="1" y1="6" y2="6"></line><line class="cls-1" x1="15" x2="1" y1="16" y2="16"></line><line class="cls-1" x1="7" x2="1" y1="26" y2="26"></line><line class="cls-1" x1="31" x2="17" y1="26" y2="26"></line><line class="cls-1" x1="31" x2="25" y1="16" y2="16"></line><line class="cls-1" x1="31" x2="17" y1="6" y2="6"></line></g></svg></div> 
      <div>详细配置</div>`,a=R(),g&&g.c(),c=R(),k&&k.c(),u=R(),p=w("div"),p.textContent="重置瀑布流配置边栏位置",b(n,"class","sideP__title svelte-mdsgbd"),b(o,"class","sideP__btn svelte-mdsgbd"),b(s,"class","sideP__btn svelte-mdsgbd"),b(l,"class","sideP__out svelte-mdsgbd"),b(t,"class","sideP svelte-mdsgbd"),K(t,"top",e[5].y+"px"),K(t,"left",e[5].x+"px"),K(t,"background-color",e[6]),b(p,"id","reset_panel_pos"),b(p,"class","svelte-mdsgbd");},m(E,M){S(E,t,M),m(t,n),m(t,i),m(t,l),m(l,o),h.m(o,null),m(l,r),m(l,s),m(l,a),g&&g.m(l,null),e[23](t),S(E,c,M),k&&k.m(E,M),S(E,u,M),S(E,p,M),d=!0,_||(v=[J(n,"mousedown",e[13]),J(o,"click",e[15]),J(s,"click",e[22]),J(p,"click",e[14])],_=!0);},p(E,M){f!==(f=y(E))&&(h.d(1),h=f(E),h&&(h.c(),h.m(o,null))),E[8]?g?g.p(E,M):(g=Nn(E),g.c(),g.m(l,null)):g&&(g.d(1),g=null),(!d||M[0]&32)&&K(t,"top",E[5].y+"px"),(!d||M[0]&32)&&K(t,"left",E[5].x+"px"),(!d||M[0]&64)&&K(t,"background-color",E[6]),E[7]?k?(k.p(E,M),M[0]&128&&F(k,1)):(k=Mn(E),k.c(),F(k,1),k.m(u.parentNode,u)):k&&(nt(),Z(k,1,1,()=>{k=null;}),it());},i(E){d||(F(k),d=!0);},o(E){Z(k),d=!1;},d(E){E&&C(t),h.d(),g&&g.d(),e[23](null),E&&C(c),k&&k.d(E),E&&C(u),E&&C(p),_=!1,je(v);}}}function An(e,t,n){return e<=t&&(e=t),e>=n&&(e=n),e}function Ul(e,t,n){let i,l,o,r,s,a,c,u,p,d,_,v,y;Q(e,$e,I=>n(61,i=I)),Q(e,yt,I=>n(2,l=I)),Q(e,pe,I=>n(3,o=I)),Q(e,Pt,I=>n(62,r=I)),Q(e,$t,I=>n(63,I)),Q(e,Ot,I=>n(4,s=I)),Q(e,Ft,I=>n(5,a=I)),Q(e,wt,I=>n(6,c=I)),Q(e,dt,I=>n(7,u=I)),Q(e,Ut,I=>n(8,p=I)),Q(e,Ht,I=>n(9,d=I)),Q(e,Wt,I=>n(10,_=I)),Q(e,Nt,I=>n(11,v=I)),Q(e,Mt,I=>n(12,y=I));let f,h=!1,g=0,k=0;const E=I=>{I.preventDefault(),h=!0,g=I.clientX-f.getBoundingClientRect().left,k=I.clientY-f.getBoundingClientRect().top;},M=I=>{if(!h)return;const V=An(I.clientX-g,0,window.innerWidth-(f.getBoundingClientRect().width+5)),j=An(I.clientY-k,0,window.innerHeight-(f.getBoundingClientRect().height+5));fe(Ft,a={x:V,y:j},a);},O=()=>{h=!1;};function A(){a.x==0&&a.y==0&&alert("无需重置瀑布流边栏位置"),fe(Ft,a={x:0,y:0},a);}let{originTable:z}=t;function T(){fe(Ot,s=!s,s),window.CHANGE_CARD_LAYOUT();}function N(){fe(Pt,r=r==300?200:300,r),console.log(`[debug]$card_width: ${r}`),ce();}function W(){fe(pe,o.all=!o.all,o),ce();}let D=l?"滚动加载":"按钮加载";function H(){fe(yt,l=!l,l),n(1,D=l?"滚动加载":"按钮加载");}function q(){fe($e,i=i==0?1:0,i);}function ce(){ie("fast"),ie("fast"),ie(),ie();}Jt(()=>(window.addEventListener("mousemove",M),window.addEventListener("mouseup",O),()=>{window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",O);}));const ee=()=>{fe(dt,u=!u,u);};function le(I){Re[I?"unshift":"push"](()=>{f=I,n(0,f);});}const ze=()=>fe(dt,u=!1,u);function ge(I){e.$$.not_equal(_.mt.hide_gay,I)&&(_.mt.hide_gay=I,Wt.set(_));}const ue=()=>{window.CHANGE_CARD_LAYOUT();};function Ee(I){s=I,Ot.set(s);}function Y(I){l=I,yt.set(l);}function X(I){p=I,Ut.set(p);}function oe(I){v=I,Nt.set(v);}function Te(){y=hl(this.value),Mt.set(y);}const Oe=()=>{fe(Ut,p=!p,p);},te=()=>{fe(Nt,v=!v,v);},Le=()=>{fe(Mt,y=y==0?600:0,y);};function Ne(I){e.$$.not_equal(o.all,I)&&(o.all=I,pe.set(o));}function se(I){e.$$.not_equal(o.title,I)&&(o.title=I,pe.set(o));}function de(I){e.$$.not_equal(o.free,I)&&(o.free=I,pe.set(o));}function Me(I){e.$$.not_equal(o.sub_title,I)&&(o.sub_title=I,pe.set(o));}function ae(I){e.$$.not_equal(o.tags,I)&&(o.tags=I,pe.set(o));}function _e(I){e.$$.not_equal(o.size_download_collect,I)&&(o.size_download_collect=I,pe.set(o));}function He(I){e.$$.not_equal(o.upload_time,I)&&(o.upload_time=I,pe.set(o));}function ve(I){e.$$.not_equal(o.statistics,I)&&(o.statistics=I,pe.set(o));}function be(){o.title=this.checked,pe.set(o);}const De=()=>{ie();};function he(){o.free=this.checked,pe.set(o);}const Ie=()=>{ie();};function Ge(){o.sub_title=this.checked,pe.set(o);}const ye=()=>{ie();};function Ve(){o.tags=this.checked,pe.set(o);}const qe=()=>{ie();};function me(){o.size_download_collect=this.checked,pe.set(o);}const Pe=()=>{ie();};function Fe(){o.upload_time=this.checked,pe.set(o);}const Ye=()=>{ie();};function x(){o.statistics=this.checked,pe.set(o);}const Qe=()=>{ie();},Je=()=>fe(dt,u=!1,u);return e.$$set=I=>{"originTable"in I&&n(21,z=I.originTable);},[f,D,l,o,s,a,c,u,p,d,_,v,y,E,A,T,N,W,H,q,ce,z,ee,le,ze,ge,ue,Ee,Y,X,oe,Te,Oe,te,Le,Ne,se,de,Me,ae,_e,He,ve,be,De,he,Ie,Ge,ye,Ve,qe,me,Pe,Fe,Ye,x,Qe,Je]}class Xl extends at{constructor(t){super(),rt(this,t,Ul,Fl,lt,{originTable:21},null,[-1,-1,-1]);}}const Ke={torrentListTable:"table.torrents",TORRENT_LIST_TO_JSON:Vl,LOADING_PIC:"pic/logo2_100.png",ICON:{},CATEGORY:{410:"#FF66FF",413:"#FF66FF",414:"#FF66FF",417:"#59CD90",433:"#59CD90",434:"#59CD90",424:"#59CD90",435:"#59CD90",411:"#FAC05E",419:"#FAC05E",423:"#FAC05E",420:"#3FA7D6",421:"#3FA7D6",422:"#3FA7D6",437:"#3FA7D6",415:"#EE6352",418:"#EE6352"},INDEX:0,Iframe_Width:1260,special:function(){$("ksearchboxmain")&&($("ksearchboxmain").style.display="none");const e=document.querySelector('a[href="?sort=7&type=asc&seeders_begin=1"]');e&&(e.childNodes[0].style.color="black");let t=document.querySelector("img#nexus-preview");t&&(t.style.zIndex=12e3),zn();},pageLoaded:function(){var e=document.createElement("script");e.src="https://kamept.com/js/nexus.js",document.head.appendChild(e),zn();}};function zn(){Array.from(document.querySelectorAll(".torrentname")).forEach(t=>t.addEventListener("click",function(n){n.preventDefault(),$e.set(1),ot.set(t.children[0].children[0].children[1].querySelector("a").href+"#kdescr");}));}function Vl(e){const t=e.querySelectorAll("tbody tr"),n=[];return t.forEach(i=>{const l=i.querySelector("td:nth-child(1) > a > img"),o=l?l.alt:"";if(!o)return;const s=l.parentNode.href,a=s.slice(-3),c=l.cloneNode(!0);c.className="card-category-img";const u=Ke.INDEX++,p=i.querySelector(".torrentname a"),d=p?p.textContent.trim():"",_=p.href,v=/id=(\d+)&hit/,y=_.match(v),f=y?parseInt(y[1]):null,h=i.querySelector(".torrentname img").getAttribute("data-src"),g=i.querySelector(".torrentname td:nth-child(2)"),k=g.childNodes.length-1,E=g.childNodes[k],M=E.nodeName=="#text"?E.textContent.trim():"",O=i.querySelectorAll(".torrentname img.sticky"),A=O[0]?O[0].title:"",z=Array.from(i.querySelectorAll(".torrentname font")),T=i.querySelector('img[class^="pro_"]'),N=T?"_"+T.alt.replace(/\s+/g,""):"",W=N?z.pop():"",D=W?W.innerText:"",H=i.querySelectorAll(".torrentname span"),q=Array.from(H);let ce=H?q.map(_e=>_e.textContent.trim()):[];D!=""&&(ce.shift(),q.shift());const ee=q.map(_e=>_e.outerHTML).join(""),le=`download.php?id=${f}`,ze=`javascript: bookmark(${f},${u});`,ue=i.querySelector(".torrentname a[id^='bookmark']").children[0].alt,Ee=i.querySelector("td.rowfollow:nth-child(3) a"),Y=Ee?parseInt(Ee.textContent):0,X=i.querySelector("td:nth-child(4) span"),oe=X?X.title:"",Te=i.querySelector("td:nth-child(5)"),Oe=Te?Te.textContent.trim():"",te=i.querySelector("td:nth-child(6) a"),Le=te?parseInt(te.textContent):0,Ne=i.querySelector("td:nth-child(7)"),se=Ne?parseInt(Ne.textContent):0,de=i.querySelector("td:nth-child(8) a"),Me=de?parseInt(de.textContent):0,ae={torrentIndex:u,_categoryImg:c,category:o,categoryLink:s,categoryNumber:a,torrent_name:d,torrentLink:_,torrentId:f,picLink:h,place_at_the_top:O,pattMsg:A,downloadLink:le,collectLink:ze,collectState:ue,tempTagDom:z,freeTypeImg:T,free_type:N,free_remaining_time:D,raw_tags:ee,tagsDOM:q,tags:ce,description:M,upload_date:oe,comments:Y,size:Oe,seeders:Le,leechers:se,snatched:Me};n.push(ae);}),n}const xe={torrentListTable:"table.torrents",TORRENT_LIST_TO_JSON:Ql,LOADING_PIC:"logo.png",ICON:{},CATEGORY:{410:"#f52bcb",429:"#f52bcb",424:"#db55a9",430:"#db55a9",437:"#f77afa",426:"#f77afa",431:"#19a7ec",432:"#19a7ec",440:"#f52bcb",436:"#bb1e9a",425:"#bb1e9a",433:"#bb1e9a",411:"#f49800",412:"#f49800",413:"#f49800",401:"#c74854",419:"#c01a20",420:"#c74854",421:"#00a0e9",439:"#1b2a51",403:"#c74854",402:"#276fb8",435:"#4dbebd ",438:"#1897d6",404:"#23ac38",405:"#996c34",407:"#23ac38",422:"#f39800",423:"#f39800",427:"#f39800",409:"#996c34",406:"#8a57a1",408:"#8a57a1",434:"#8a57a1"},INDEX:0,Iframe_Width:1260,special:function(){Hn();},pageLoaded:function(){Hn();}};function Hn(){Array.from(document.querySelectorAll("td.torrentimg a")).forEach(t=>t.addEventListener("click",function(n){n.preventDefault(),$e.set(1),ot.set(t.href+"#kdescr");}));}function Ql(e){const t=e.querySelectorAll("tbody tr"),n=[];return t.forEach(i=>{const l=i.querySelector("td:nth-child(1) > a > img"),o=l?l.title:"";if(!o)return;const s=l.parentNode.href,a=s.slice(-3),c=l.style.backgroundImage,u=/url\("(.*)"\)/,p=c.match(u),d=p&&p.length>1?p[1]:null,_=xe.INDEX++,v=i.querySelector(".torrentname a"),y=v?v.title.trim():"",f=v.href,h=/id=(\d+)&hit/,g=f.match(h),k=g?parseInt(g[1]):null,M=i.querySelector(".torrentname img").getAttribute("onmouseover"),O=M?M.split(",")[2].toString():"",A=O?O.slice(O.indexOf("'")+1,O.lastIndexOf("'")):"/pic/nopic.jpg",z=i.querySelector(".torrentname td:nth-child(2)"),T=z.childNodes.length-1,N=z.childNodes[T],W=N.nodeName=="#text"?N.textContent.trim():"",D=i.querySelectorAll(".torrentname img.sticky"),H=D[0]?D[0].title:"",q=i.querySelectorAll(".torrentname font"),ce=i.querySelector('img[class^="pro_"]'),ee=ce?"_"+ce.alt.replace(/\s+/g,""):"",le=i.querySelector(".torrentname td:nth-child(2) span"),ze=le?le.innerText:"",ge=i.querySelectorAll(".torrentname img[class^='label_']"),ue=Array.from(ge);let Ee=ge?ue.map(Ie=>Ie.title.trim()):[];const Y=ue.map(Ie=>Ie.outerHTML).join("&nbsp;"),X=`download.php?id=${k}`,oe=`javascript: bookmark(${k},${_});`,Oe=i.querySelector(".torrentname a[id^='bookmark']").children[0].alt,te=i.querySelector("td.rowfollow:nth-child(3) a"),Le=te?parseInt(te.textContent):0,Ne=i.querySelector("td:nth-child(4) span"),se=Ne?Ne.title:"",de=i.querySelector("td:nth-child(5)"),Me=de?de.textContent.trim():"",ae=i.querySelector("td:nth-child(6) a"),_e=ae?parseInt(ae.textContent):0,He=i.querySelector("td:nth-child(7)"),ve=He?parseInt(He.textContent):0,be=i.querySelector("td:nth-child(8) a"),De=be?parseInt(be.textContent):0,he={torrentIndex:_,_categoryImg:d,category:o,categoryLink:s,categoryNumber:a,torrent_name:y,torrentLink:f,torrentId:k,picLink:A,place_at_the_top:D,pattMsg:H,downloadLink:X,collectLink:oe,collectState:Oe,tempTagDom:q,freeTypeImg:ce,free_type:ee,free_remaining_time:ze,raw_tags:Y,tagsDOM:ue,tags:Ee,description:W,comments:Le,upload_date:se,size:Me,seeders:_e,leechers:ve,snatched:De};n.push(he);}),n}const tt={"kamept.com":Ke,"kp.m-team.cc":xe};function Ui(){return window.location.hostname}function Kt(){var n;const e=Ui();console.log("|-> 当前站点: ",e),console.log("|-> 当前页面: ",window.location.pathname);const t=((n=tt[e])==null?void 0:n.torrentListTable)??null;return console.log("|-> 站点selector:",t),t}const vt={CARD_WIDTH:Xt(Pt),CARD_BORDER:0,CARD_INDEX:0,PIC_HOVER_STYLE:0},ne={GAP:3e3,DISTANCE:300,IS_ORIGIN:!0,PAGE_ORIGIN:0,PAGE_CURRENT:0,PAGE_NEXT:0,NEXT_URL:"",SWITCH_MODE:"Button"},Xi={SIZE:'<img class="size" src="pic/trans.gif" style=" transform: translateY(-0.4px);" alt="size" title="大小">',COMMENT:'<img class="comments" src="pic/trans.gif" alt="comments" title="评论数">',SEEDERS:'<img class="seeders" src="pic/trans.gif" alt="seeders" title="种子数">',LEECHERS:'<img class="leechers" src="pic/trans.gif" alt="leechers" title="下载数">',SNATCHED:'<img class="snatched" src="pic/trans.gif" alt="snatched" title="完成数">',DOWNLOAD:'<img class="download" src="pic/trans.gif" style=" transform: translateY(1px);" alt="download" title="下载本种">',COLLET:'<img class="delbookmark" src="pic/trans.gif" alt="Unbookmarked" title="收藏">',COLLETED:'<img class="bookmark" src="pic/trans.gif" alt="Bookmarked">'};function Pn(e){let t,n,i,l=(e[0].tempTagDom?e[0].tempTagDom.map(ti).join("&nbsp;"):"")+"",o,r,s=e[0].torrent_name+"",a,c;return {c(){t=w("div"),n=w("a"),i=new U(!1),o=R(),r=w("b"),a=L(s),i.a=o,b(n,"class","two-lines svelte-vdh3h6"),b(n,"href",c=e[0].torrentLink),b(n,"target","_blank"),b(t,"class","card-title svelte-vdh3h6");},m(u,p){S(u,t,p),m(t,n),i.m(l,n),m(n,o),m(n,r),m(r,a);},p(u,p){p&1&&l!==(l=(u[0].tempTagDom?u[0].tempTagDom.map(ti).join("&nbsp;"):"")+"")&&i.p(l),p&1&&s!==(s=u[0].torrent_name+"")&&B(a,s),p&1&&c!==(c=u[0].torrentLink)&&b(n,"href",c);},d(u){u&&C(t);}}}function Wn(e){let t,n,i,l=e[0].tagsDOM.map(e[10]).join("")+"",o,r,s,a,c,u=e[2].SIZE+"",p,d=e[0].size+"",_,v,y,f,h=e[2].DOWNLOAD+"",g,k,E,M,O,A,z,T,N,W=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"",D,H,q,ce,ee,le,ze,ge=e[0].upload_date+"",ue,Ee,Y,X,oe=e[2].COMMENT+"",Te,Oe,te=e[0].comments+"",Le,Ne,se,de=e[2].SEEDERS+"",Me,ae,_e=e[0].seeders+"",He,ve,be,De=e[2].LEECHERS+"",he,Ie,Ge=e[0].leechers+"",ye,Ve,qe,me=e[2].SNATCHED+"",Pe,Fe,Ye=e[0].snatched+"",x,Qe,Je,I=(e[0].free_type||e[0].pattMsg)&&Gn(e),V=e[0].description&&jn(e);return {c(){I&&I.c(),t=R(),V&&V.c(),n=R(),i=w("div"),o=R(),r=w("div"),s=w("div"),a=w("div"),c=new U(!1),p=L(" "),_=L(d),v=L(`

          
            
          `),y=w("div"),f=new U(!1),g=L(` 
            `),k=w("b"),E=w("a"),M=L("下载"),A=L(`

          
            
          `),z=w("div"),T=w("div"),N=new U(!1),D=L(`
               `),H=w("b"),H.textContent="收藏",ce=R(),ee=w("div"),le=w("b"),le.textContent="上传时间:",ze=R(),ue=L(ge),Ee=R(),Y=w("div"),X=new U(!1),Te=L(" "),Oe=w("b"),Le=L(te),Ne=L(`  
          `),se=new U(!1),Me=L(" "),ae=w("b"),He=L(_e),ve=L(`  
          `),be=new U(!1),he=L(" "),Ie=w("b"),ye=L(Ge),Ve=L(`  
          `),qe=new U(!1),Pe=L(" "),Fe=w("b"),x=L(Ye),b(i,"class","cl-tags svelte-vdh3h6"),c.a=p,b(a,"class","cl-center svelte-vdh3h6"),f.a=g,b(E,"href",O=e[0].downloadLink),b(y,"class","cl-center svelte-vdh3h6"),N.a=D,b(T,"class","btnCollet cl-center svelte-vdh3h6"),b(T,"id",q="tI_"+e[0].torrentIndex),b(z,"class","cl-center svelte-vdh3h6"),b(s,"class","card-line svelte-vdh3h6"),b(ee,"class","card-line svelte-vdh3h6"),X.a=Te,se.a=Me,be.a=he,qe.a=Pe,b(Y,"class","card-line svelte-vdh3h6"),b(r,"class","card-details svelte-vdh3h6");},m(j,G){I&&I.m(j,G),S(j,t,G),V&&V.m(j,G),S(j,n,G),S(j,i,G),i.innerHTML=l,S(j,o,G),S(j,r,G),m(r,s),m(s,a),c.m(u,a),m(a,p),m(a,_),m(s,v),m(s,y),f.m(h,y),m(y,g),m(y,k),m(k,E),m(E,M),m(s,A),m(s,z),m(z,T),N.m(W,T),m(T,D),m(T,H),m(r,ce),m(r,ee),m(ee,le),m(ee,ze),m(ee,ue),m(r,Ee),m(r,Y),X.m(oe,Y),m(Y,Te),m(Y,Oe),m(Oe,Le),m(Y,Ne),se.m(de,Y),m(Y,Me),m(Y,ae),m(ae,He),m(Y,ve),be.m(De,Y),m(Y,he),m(Y,Ie),m(Ie,ye),m(Y,Ve),qe.m(me,Y),m(Y,Pe),m(Y,Fe),m(Fe,x),Qe||(Je=J(T,"click",function(){st(Gt(e[0].collectLink,"tI_"+e[0].torrentIndex))&&Gt(e[0].collectLink,"tI_"+e[0].torrentIndex).apply(this,arguments);}),Qe=!0);},p(j,G){e=j,e[0].free_type||e[0].pattMsg?I?I.p(e,G):(I=Gn(e),I.c(),I.m(t.parentNode,t)):I&&(I.d(1),I=null),e[0].description?V?V.p(e,G):(V=jn(e),V.c(),V.m(n.parentNode,n)):V&&(V.d(1),V=null),G&1&&l!==(l=e[0].tagsDOM.map(e[10]).join("")+"")&&(i.innerHTML=l),G&4&&u!==(u=e[2].SIZE+"")&&c.p(u),G&1&&d!==(d=e[0].size+"")&&B(_,d),G&4&&h!==(h=e[2].DOWNLOAD+"")&&f.p(h),G&1&&O!==(O=e[0].downloadLink)&&b(E,"href",O),G&5&&W!==(W=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"")&&N.p(W),G&1&&q!==(q="tI_"+e[0].torrentIndex)&&b(T,"id",q),G&1&&ge!==(ge=e[0].upload_date+"")&&B(ue,ge),G&4&&oe!==(oe=e[2].COMMENT+"")&&X.p(oe),G&1&&te!==(te=e[0].comments+"")&&B(Le,te),G&4&&de!==(de=e[2].SEEDERS+"")&&se.p(de),G&1&&_e!==(_e=e[0].seeders+"")&&B(He,_e),G&4&&De!==(De=e[2].LEECHERS+"")&&be.p(De),G&1&&Ge!==(Ge=e[0].leechers+"")&&B(ye,Ge),G&4&&me!==(me=e[2].SNATCHED+"")&&qe.p(me),G&1&&Ye!==(Ye=e[0].snatched+"")&&B(x,Ye);},d(j){I&&I.d(j),j&&C(t),V&&V.d(j),j&&C(n),j&&C(i),j&&C(o),j&&C(r),Qe=!1,Je();}}}function Gn(e){let t,n,i,l,o,r=e[0].place_at_the_top.length!=0&&qn(e),s=e[0].freeTypeImg&&Yn(e),a=e[0].free_remaining_time&&Bn(e);return {c(){t=w("div"),n=w("div"),r&&r.c(),i=R(),s&&s.c(),l=R(),a&&a.c(),b(n,"class",o="top_and_free "+e[0].free_type+" svelte-vdh3h6"),b(t,"class","card-alter svelte-vdh3h6");},m(c,u){S(c,t,u),m(t,n),r&&r.m(n,null),m(n,i),s&&s.m(n,null),m(n,l),a&&a.m(n,null);},p(c,u){c[0].place_at_the_top.length!=0?r?r.p(c,u):(r=qn(c),r.c(),r.m(n,i)):r&&(r.d(1),r=null),c[0].freeTypeImg?s?s.p(c,u):(s=Yn(c),s.c(),s.m(n,l)):s&&(s.d(1),s=null),c[0].free_remaining_time?a?a.p(c,u):(a=Bn(c),a.c(),a.m(n,null)):a&&(a.d(1),a=null),u&1&&o!==(o="top_and_free "+c[0].free_type+" svelte-vdh3h6")&&b(n,"class",o);},d(c){c&&C(t),r&&r.d(),s&&s.d(),a&&a.d();}}}function qn(e){let t,n=Array.from(e[0].place_at_the_top).map(ni)+"&nbsp;",i;return {c(){t=new U(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=Array.from(l[0].place_at_the_top).map(ni)+"&nbsp;")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function Yn(e){let t,n=e[0].freeTypeImg.outerHTML+"",i;return {c(){t=new U(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=l[0].freeTypeImg.outerHTML+"")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function Bn(e){let t,n,i=e[0].free_remaining_time+"",l;return {c(){t=L(" "),n=w("b"),l=L(i);},m(o,r){S(o,t,r),S(o,n,r),m(n,l);},p(o,r){r&1&&i!==(i=o[0].free_remaining_time+"")&&B(l,i);},d(o){o&&C(t),o&&C(n);}}}function jn(e){let t,n=e[0].description+"",i,l;return {c(){t=w("a"),i=L(n),b(t,"class","card-description svelte-vdh3h6"),b(t,"href",l=e[0].torrentLink);},m(o,r){S(o,t,r),m(t,i);},p(o,r){r&1&&n!==(n=o[0].description+"")&&B(i,n),r&1&&l!==(l=o[0].torrentLink)&&b(t,"href",l);},d(o){o&&C(t);}}}function Fn(e){let t,n,i,l,o,r,s=e[5].free&&(e[0].free_type||e[0].pattMsg)&&Un(e),a=e[5].sub_title&&e[0].description&&$n(e),c=e[5].tags&&Zn(e),u=e[5].size_download_collect&&Jn(e),p=e[5].upload_time&&Kn(e),d=e[5].statistics&&xn(e);return {c(){s&&s.c(),t=R(),a&&a.c(),n=R(),c&&c.c(),i=R(),l=w("div"),u&&u.c(),o=R(),p&&p.c(),r=R(),d&&d.c(),b(l,"class","card-details svelte-vdh3h6");},m(_,v){s&&s.m(_,v),S(_,t,v),a&&a.m(_,v),S(_,n,v),c&&c.m(_,v),S(_,i,v),S(_,l,v),u&&u.m(l,null),m(l,o),p&&p.m(l,null),m(l,r),d&&d.m(l,null);},p(_,v){_[5].free&&(_[0].free_type||_[0].pattMsg)?s?s.p(_,v):(s=Un(_),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),_[5].sub_title&&_[0].description?a?a.p(_,v):(a=$n(_),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),_[5].tags?c?c.p(_,v):(c=Zn(_),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null),_[5].size_download_collect?u?u.p(_,v):(u=Jn(_),u.c(),u.m(l,o)):u&&(u.d(1),u=null),_[5].upload_time?p?p.p(_,v):(p=Kn(_),p.c(),p.m(l,r)):p&&(p.d(1),p=null),_[5].statistics?d?d.p(_,v):(d=xn(_),d.c(),d.m(l,null)):d&&(d.d(1),d=null);},d(_){s&&s.d(_),_&&C(t),a&&a.d(_),_&&C(n),c&&c.d(_),_&&C(i),_&&C(l),u&&u.d(),p&&p.d(),d&&d.d();}}}function Un(e){let t,n,i,l,o,r=e[0].place_at_the_top.length!=0&&Xn(e),s=e[0].freeTypeImg&&Vn(e),a=e[0].free_remaining_time&&Qn(e);return {c(){t=w("div"),n=w("div"),r&&r.c(),i=R(),s&&s.c(),l=R(),a&&a.c(),b(n,"class",o="top_and_free "+e[0].free_type+" svelte-vdh3h6"),b(t,"class","card-alter svelte-vdh3h6");},m(c,u){S(c,t,u),m(t,n),r&&r.m(n,null),m(n,i),s&&s.m(n,null),m(n,l),a&&a.m(n,null);},p(c,u){c[0].place_at_the_top.length!=0?r?r.p(c,u):(r=Xn(c),r.c(),r.m(n,i)):r&&(r.d(1),r=null),c[0].freeTypeImg?s?s.p(c,u):(s=Vn(c),s.c(),s.m(n,l)):s&&(s.d(1),s=null),c[0].free_remaining_time?a?a.p(c,u):(a=Qn(c),a.c(),a.m(n,null)):a&&(a.d(1),a=null),u&1&&o!==(o="top_and_free "+c[0].free_type+" svelte-vdh3h6")&&b(n,"class",o);},d(c){c&&C(t),r&&r.d(),s&&s.d(),a&&a.d();}}}function Xn(e){let t,n=Array.from(e[0].place_at_the_top).map(ii)+"&nbsp;",i;return {c(){t=new U(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=Array.from(l[0].place_at_the_top).map(ii)+"&nbsp;")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function Vn(e){let t,n=e[0].freeTypeImg.outerHTML+"",i;return {c(){t=new U(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=l[0].freeTypeImg.outerHTML+"")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function Qn(e){let t,n,i=e[0].free_remaining_time+"",l;return {c(){t=L(" "),n=w("b"),l=L(i);},m(o,r){S(o,t,r),S(o,n,r),m(n,l);},p(o,r){r&1&&i!==(i=o[0].free_remaining_time+"")&&B(l,i);},d(o){o&&C(t),o&&C(n);}}}function $n(e){let t,n=e[0].description+"",i,l;return {c(){t=w("a"),i=L(n),b(t,"class","card-description svelte-vdh3h6"),b(t,"href",l=e[0].torrentLink);},m(o,r){S(o,t,r),m(t,i);},p(o,r){r&1&&n!==(n=o[0].description+"")&&B(i,n),r&1&&l!==(l=o[0].torrentLink)&&b(t,"href",l);},d(o){o&&C(t);}}}function Zn(e){let t,n=e[0].tagsDOM.map(e[11]).join("")+"";return {c(){t=w("div"),b(t,"class","cl-tags svelte-vdh3h6");},m(i,l){S(i,t,l),t.innerHTML=n;},p(i,l){l&1&&n!==(n=i[0].tagsDOM.map(i[11]).join("")+"")&&(t.innerHTML=n);},d(i){i&&C(t);}}}function Jn(e){let t,n,i,l=e[2].SIZE+"",o,r=e[0].size+"",s,a,c,u,p=e[2].DOWNLOAD+"",d,_,v,y,f,h,g,k,E,M=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"",O,A,z,T,N;return {c(){t=w("div"),n=w("div"),i=new U(!1),o=L(" "),s=L(r),a=L(`

            
              
            `),c=w("div"),u=new U(!1),d=L(` 
              `),_=w("b"),v=w("a"),y=L("下载"),h=L(`

            
              
            `),g=w("div"),k=w("div"),E=new U(!1),O=L(`
                 `),A=w("b"),A.textContent="收藏",i.a=o,b(n,"class","cl-center svelte-vdh3h6"),u.a=d,b(v,"href",f=e[0].downloadLink),b(c,"class","cl-center svelte-vdh3h6"),E.a=O,b(k,"class","btnCollet cl-center svelte-vdh3h6"),b(k,"id",z="tI_"+e[0].torrentIndex),b(g,"class","cl-center svelte-vdh3h6"),b(t,"class","card-line svelte-vdh3h6");},m(W,D){S(W,t,D),m(t,n),i.m(l,n),m(n,o),m(n,s),m(t,a),m(t,c),u.m(p,c),m(c,d),m(c,_),m(_,v),m(v,y),m(t,h),m(t,g),m(g,k),E.m(M,k),m(k,O),m(k,A),T||(N=J(k,"click",function(){st(Gt(e[0].collectLink,"tI_"+e[0].torrentIndex))&&Gt(e[0].collectLink,"tI_"+e[0].torrentIndex).apply(this,arguments);}),T=!0);},p(W,D){e=W,D&4&&l!==(l=e[2].SIZE+"")&&i.p(l),D&1&&r!==(r=e[0].size+"")&&B(s,r),D&4&&p!==(p=e[2].DOWNLOAD+"")&&u.p(p),D&1&&f!==(f=e[0].downloadLink)&&b(v,"href",f),D&5&&M!==(M=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"")&&E.p(M),D&1&&z!==(z="tI_"+e[0].torrentIndex)&&b(k,"id",z);},d(W){W&&C(t),T=!1,N();}}}function Kn(e){let t,n,i,l=e[0].upload_date+"",o;return {c(){t=w("div"),n=w("b"),n.textContent="上传时间:",i=R(),o=L(l),b(t,"class","card-line svelte-vdh3h6");},m(r,s){S(r,t,s),m(t,n),m(t,i),m(t,o);},p(r,s){s&1&&l!==(l=r[0].upload_date+"")&&B(o,l);},d(r){r&&C(t);}}}function xn(e){let t,n,i=e[2].COMMENT+"",l,o,r=e[0].comments+"",s,a,c,u=e[2].SEEDERS+"",p,d,_=e[0].seeders+"",v,y,f,h=e[2].LEECHERS+"",g,k,E=e[0].leechers+"",M,O,A,z=e[2].SNATCHED+"",T,N,W=e[0].snatched+"",D;return {c(){t=w("div"),n=new U(!1),l=L(" "),o=w("b"),s=L(r),a=L(`  
            `),c=new U(!1),p=L(" "),d=w("b"),v=L(_),y=L(`  
            `),f=new U(!1),g=L(" "),k=w("b"),M=L(E),O=L(`  
            `),A=new U(!1),T=L(" "),N=w("b"),D=L(W),n.a=l,c.a=p,f.a=g,A.a=T,b(t,"class","card-line svelte-vdh3h6");},m(H,q){S(H,t,q),n.m(i,t),m(t,l),m(t,o),m(o,s),m(t,a),c.m(u,t),m(t,p),m(t,d),m(d,v),m(t,y),f.m(h,t),m(t,g),m(t,k),m(k,M),m(t,O),A.m(z,t),m(t,T),m(t,N),m(N,D);},p(H,q){q&4&&i!==(i=H[2].COMMENT+"")&&n.p(i),q&1&&r!==(r=H[0].comments+"")&&B(s,r),q&4&&u!==(u=H[2].SEEDERS+"")&&c.p(u),q&1&&_!==(_=H[0].seeders+"")&&B(v,_),q&4&&h!==(h=H[2].LEECHERS+"")&&f.p(h),q&1&&E!==(E=H[0].leechers+"")&&B(M,E),q&4&&z!==(z=H[2].SNATCHED+"")&&A.p(z),q&1&&W!==(W=H[0].snatched+"")&&B(D,W);},d(H){H&&C(t);}}}function $l(e){let t,n,i,l=e[0].category+"",o,r,s,a,c,u,p,d,_,v,y,f=e[0].torrentIndex+1+"",h,g,k,E,M,O=(e[5].title||e[3])&&Pn(e),A=(e[5].all||e[3])&&Wn(e),z=!(e[5].all||e[3])&&Fn(e);return {c(){t=w("div"),n=w("div"),i=w("div"),o=L(l),s=R(),O&&O.c(),a=R(),c=w("div"),u=w("img"),v=R(),y=w("div"),h=L(f),g=R(),A&&A.c(),k=R(),z&&z.c(),b(i,"class","card-category svelte-vdh3h6"),b(i,"data-href",r=e[0].categoryLink),K(i,"background-color",Ke.CATEGORY[e[0].categoryNumber]??"transparent"),K(i,"color",Ke.CATEGORY[e[0].categoryNumber]?ei(Ke.CATEGORY[e[0].categoryNumber]):"black"),b(u,"class","card-image--img nexus-lazy-load_Kesa svelte-vdh3h6"),_t(u.src,p=Ke.LOADING_PIC)||b(u,"src",p),b(u,"data-src",d=e[0].picLink),b(u,"alt",_=e[0].torrentName),b(y,"class","card-index svelte-vdh3h6"),b(c,"class","card-image svelte-vdh3h6"),b(n,"class","card-holder svelte-vdh3h6"),b(t,"class","card svelte-vdh3h6"),K(t,"width",e[1]+"px"),K(t,"z-index",1e4-e[0].torrentIndex),K(t,"background-color",e[4]);},m(T,N){S(T,t,N),m(t,n),m(n,i),m(i,o),m(n,s),O&&O.m(n,null),m(n,a),m(n,c),m(c,u),m(c,v),m(c,y),m(y,h),m(n,g),A&&A.m(n,null),m(n,k),z&&z.m(n,null),E||(M=[J(u,"load",e[6]),J(u,"click",e[7]),J(n,"mouseenter",e[8]),J(n,"mouseleave",e[9])],E=!0);},p(T,[N]){N&1&&l!==(l=T[0].category+"")&&B(o,l),N&1&&r!==(r=T[0].categoryLink)&&b(i,"data-href",r),N&1&&K(i,"background-color",Ke.CATEGORY[T[0].categoryNumber]??"transparent"),N&1&&K(i,"color",Ke.CATEGORY[T[0].categoryNumber]?ei(Ke.CATEGORY[T[0].categoryNumber]):"black"),T[5].title||T[3]?O?O.p(T,N):(O=Pn(T),O.c(),O.m(n,a)):O&&(O.d(1),O=null),N&1&&d!==(d=T[0].picLink)&&b(u,"data-src",d),N&1&&_!==(_=T[0].torrentName)&&b(u,"alt",_),N&1&&f!==(f=T[0].torrentIndex+1+"")&&B(h,f),T[5].all||T[3]?A?A.p(T,N):(A=Wn(T),A.c(),A.m(n,k)):A&&(A.d(1),A=null),T[5].all||T[3]?z&&(z.d(1),z=null):z?z.p(T,N):(z=Fn(T),z.c(),z.m(n,null)),N&2&&K(t,"width",T[1]+"px"),N&1&&K(t,"z-index",1e4-T[0].torrentIndex),N&16&&K(t,"background-color",T[4]);},i:re,o:re,d(T){T&&C(t),O&&O.d(),A&&A.d(),z&&z.d(),E=!1,je(M);}}}function Gt(e,t){try{window.location.href=e;const i=document.querySelector(`div#${t}`).children[0];i.className=i.className=="delbookmark"?"bookmark":"delbookmark",console.log(`执行脚本${e}成功, 已经收藏或者取消~`);}catch(n){console.error(n);}}function ei(e){const t=e.replace("#",""),n=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),l=parseInt(t.substr(4,2),16);return (n*299+i*587+l*114)/1e3<128?"white":"black"}const ti=e=>e.outerHTML,ni=e=>e.outerHTML,ii=e=>e.outerHTML;function Zl(e,t,n){let i,l,o,r;Q(e,ot,h=>n(12,i=h)),Q(e,$e,h=>n(13,l=h)),Q(e,wt,h=>n(4,o=h)),Q(e,pe,h=>n(5,r=h));function s(){ie();}function a(){fe($e,l=1,l),fe(ot,i=c.torrentLink+"#kdescr",i);}let{torrentInfo:c}=t,{cardWidth:u}=t,{ICON:p}=t,d=!1;function _(){n(3,d=!0);}function v(){n(3,d=!1);}const y=h=>{const g=document.createElement("div");return g.innerHTML=h.outerHTML,g.outerHTML},f=h=>{const g=document.createElement("div");return g.innerHTML=h.outerHTML,g.outerHTML};return e.$$set=h=>{"torrentInfo"in h&&n(0,c=h.torrentInfo),"cardWidth"in h&&n(1,u=h.cardWidth),"ICON"in h&&n(2,p=h.ICON);},[c,u,p,d,o,r,s,a,_,v,y,f]}class Jl extends at{constructor(t){super(),rt(this,t,Zl,$l,lt,{torrentInfo:0,cardWidth:1,ICON:2});}}function li(e){let t,n,i,l,o=e[0].torrent_name+"",r,s,a=e[0].tempTagDom.length!=0&&oi(e);return {c(){t=w("div"),n=w("a"),a&&a.c(),i=R(),l=w("b"),r=L(o),b(n,"class","two-lines svelte-1fw75v2"),b(n,"href",s=e[0].torrentLink),b(n,"target","_blank"),b(t,"class","card-title svelte-1fw75v2");},m(c,u){S(c,t,u),m(t,n),a&&a.m(n,null),m(n,i),m(n,l),m(l,r);},p(c,u){c[0].tempTagDom.length!=0?a?a.p(c,u):(a=oi(c),a.c(),a.m(n,i)):a&&(a.d(1),a=null),u&1&&o!==(o=c[0].torrent_name+"")&&B(r,o),u&1&&s!==(s=c[0].torrentLink)&&b(n,"href",s);},d(c){c&&C(t),a&&a.d();}}}function oi(e){let t,n=Array.from(e[0].tempTagDom).map(Ei)+"";return {c(){t=w("span"),b(t,"class","tempTags svelte-1fw75v2");},m(i,l){S(i,t,l),t.innerHTML=n;},p(i,l){l&1&&n!==(n=Array.from(i[0].tempTagDom).map(Ei)+"")&&(t.innerHTML=n);},d(i){i&&C(t);}}}function si(e){let t,n,i,l=e[0].tagsDOM.map(e[11]).join("")+"",o,r,s,a,c,u=e[2].SIZE+"",p,d=e[0].size+"",_,v,y,f,h=e[2].DOWNLOAD+"",g,k,E,M,O,A,z,T,N,W=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"",D,H,q,ce,ee,le,ze,ge=e[0].upload_date+"",ue,Ee,Y,X,oe=e[2].COMMENT+"",Te,Oe,te=e[0].comments+"",Le,Ne,se,de=e[2].SEEDERS+"",Me,ae,_e=e[0].seeders+"",He,ve,be,De=e[2].LEECHERS+"",he,Ie,Ge=e[0].leechers+"",ye,Ve,qe,me=e[2].SNATCHED+"",Pe,Fe,Ye=e[0].snatched+"",x,Qe,Je,I=(e[0].free_type||e[0].pattMsg)&&ri(e),V=e[0].description&&ui(e);return {c(){I&&I.c(),t=R(),V&&V.c(),n=R(),i=w("div"),o=R(),r=w("div"),s=w("div"),a=w("div"),c=new U(!1),p=L(" "),_=L(d),v=L(`

          
            
          `),y=w("div"),f=new U(!1),g=L(` 
            `),k=w("b"),E=w("a"),M=L("下载"),A=L(`

          
            
          `),z=w("div"),T=w("div"),N=new U(!1),D=L(`
               `),H=w("b"),H.textContent="收藏",ce=R(),ee=w("div"),le=w("b"),le.textContent="上传时间:",ze=R(),ue=L(ge),Ee=R(),Y=w("div"),X=new U(!1),Te=L(" "),Oe=w("b"),Le=L(te),Ne=L(`  
          `),se=new U(!1),Me=L(" "),ae=w("b"),He=L(_e),ve=L(`  
          `),be=new U(!1),he=L(" "),Ie=w("b"),ye=L(Ge),Ve=L(`  
          `),qe=new U(!1),Pe=L(" "),Fe=w("b"),x=L(Ye),b(i,"class","cl-tags svelte-1fw75v2"),c.a=p,b(a,"class","cl-center svelte-1fw75v2"),f.a=g,b(E,"href",O=e[0].downloadLink),b(y,"class","cl-center svelte-1fw75v2"),N.a=D,b(T,"class","btnCollet cl-center svelte-1fw75v2"),b(T,"id",q="tI_"+e[0].torrentIndex),b(z,"class","cl-center svelte-1fw75v2"),b(s,"class","card-line svelte-1fw75v2"),b(ee,"class","card-line svelte-1fw75v2"),X.a=Te,se.a=Me,be.a=he,qe.a=Pe,b(Y,"class","card-line svelte-1fw75v2"),b(r,"class","card-details svelte-1fw75v2");},m(j,G){I&&I.m(j,G),S(j,t,G),V&&V.m(j,G),S(j,n,G),S(j,i,G),i.innerHTML=l,S(j,o,G),S(j,r,G),m(r,s),m(s,a),c.m(u,a),m(a,p),m(a,_),m(s,v),m(s,y),f.m(h,y),m(y,g),m(y,k),m(k,E),m(E,M),m(s,A),m(s,z),m(z,T),N.m(W,T),m(T,D),m(T,H),m(r,ce),m(r,ee),m(ee,le),m(ee,ze),m(ee,ue),m(r,Ee),m(r,Y),X.m(oe,Y),m(Y,Te),m(Y,Oe),m(Oe,Le),m(Y,Ne),se.m(de,Y),m(Y,Me),m(Y,ae),m(ae,He),m(Y,ve),be.m(De,Y),m(Y,he),m(Y,Ie),m(Ie,ye),m(Y,Ve),qe.m(me,Y),m(Y,Pe),m(Y,Fe),m(Fe,x),Qe||(Je=J(T,"click",function(){st(qt(e[0].collectLink,"tI_"+e[0].torrentIndex))&&qt(e[0].collectLink,"tI_"+e[0].torrentIndex).apply(this,arguments);}),Qe=!0);},p(j,G){e=j,e[0].free_type||e[0].pattMsg?I?I.p(e,G):(I=ri(e),I.c(),I.m(t.parentNode,t)):I&&(I.d(1),I=null),e[0].description?V?V.p(e,G):(V=ui(e),V.c(),V.m(n.parentNode,n)):V&&(V.d(1),V=null),G&1&&l!==(l=e[0].tagsDOM.map(e[11]).join("")+"")&&(i.innerHTML=l),G&4&&u!==(u=e[2].SIZE+"")&&c.p(u),G&1&&d!==(d=e[0].size+"")&&B(_,d),G&4&&h!==(h=e[2].DOWNLOAD+"")&&f.p(h),G&1&&O!==(O=e[0].downloadLink)&&b(E,"href",O),G&5&&W!==(W=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"")&&N.p(W),G&1&&q!==(q="tI_"+e[0].torrentIndex)&&b(T,"id",q),G&1&&ge!==(ge=e[0].upload_date+"")&&B(ue,ge),G&4&&oe!==(oe=e[2].COMMENT+"")&&X.p(oe),G&1&&te!==(te=e[0].comments+"")&&B(Le,te),G&4&&de!==(de=e[2].SEEDERS+"")&&se.p(de),G&1&&_e!==(_e=e[0].seeders+"")&&B(He,_e),G&4&&De!==(De=e[2].LEECHERS+"")&&be.p(De),G&1&&Ge!==(Ge=e[0].leechers+"")&&B(ye,Ge),G&4&&me!==(me=e[2].SNATCHED+"")&&qe.p(me),G&1&&Ye!==(Ye=e[0].snatched+"")&&B(x,Ye);},d(j){I&&I.d(j),j&&C(t),V&&V.d(j),j&&C(n),j&&C(i),j&&C(o),j&&C(r),Qe=!1,Je();}}}function ri(e){let t,n,i,l,o,r=e[0].place_at_the_top.length!=0&&ai(e),s=e[0].freeTypeImg&&fi(e),a=e[0].free_remaining_time&&ci(e);return {c(){t=w("div"),n=w("div"),r&&r.c(),i=R(),s&&s.c(),l=R(),a&&a.c(),b(n,"class",o="top_and_free "+e[0].free_type+" svelte-1fw75v2"),b(t,"class","card-alter svelte-1fw75v2");},m(c,u){S(c,t,u),m(t,n),r&&r.m(n,null),m(n,i),s&&s.m(n,null),m(n,l),a&&a.m(n,null);},p(c,u){c[0].place_at_the_top.length!=0?r?r.p(c,u):(r=ai(c),r.c(),r.m(n,i)):r&&(r.d(1),r=null),c[0].freeTypeImg?s?s.p(c,u):(s=fi(c),s.c(),s.m(n,l)):s&&(s.d(1),s=null),c[0].free_remaining_time?a?a.p(c,u):(a=ci(c),a.c(),a.m(n,null)):a&&(a.d(1),a=null),u&1&&o!==(o="top_and_free "+c[0].free_type+" svelte-1fw75v2")&&b(n,"class",o);},d(c){c&&C(t),r&&r.d(),s&&s.d(),a&&a.d();}}}function ai(e){let t,n=Array.from(e[0].place_at_the_top).map(Ti)+"&nbsp;",i;return {c(){t=new U(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=Array.from(l[0].place_at_the_top).map(Ti)+"&nbsp;")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function fi(e){let t,n=e[0].freeTypeImg.outerHTML+"",i;return {c(){t=new U(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=l[0].freeTypeImg.outerHTML+"")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function ci(e){let t,n,i=e[0].free_remaining_time+"",l;return {c(){t=L(" "),n=w("b"),l=L(i);},m(o,r){S(o,t,r),S(o,n,r),m(n,l);},p(o,r){r&1&&i!==(i=o[0].free_remaining_time+"")&&B(l,i);},d(o){o&&C(t),o&&C(n);}}}function ui(e){let t,n=e[0].description+"",i,l;return {c(){t=w("a"),i=L(n),b(t,"class","card-description svelte-1fw75v2"),b(t,"href",l=e[0].torrentLink);},m(o,r){S(o,t,r),m(t,i);},p(o,r){r&1&&n!==(n=o[0].description+"")&&B(i,n),r&1&&l!==(l=o[0].torrentLink)&&b(t,"href",l);},d(o){o&&C(t);}}}function di(e){let t,n,i,l,o,r,s=e[6].free&&(e[0].free_type||e[0].pattMsg)&&_i(e),a=e[6].sub_title&&e[0].description&&gi(e),c=e[6].tags&&e[0].tagsDOM.length!=0&&vi(e),u=e[6].size_download_collect&&bi(e),p=e[6].upload_time&&yi(e),d=e[6].statistics&&ki(e);return {c(){s&&s.c(),t=R(),a&&a.c(),n=R(),c&&c.c(),i=R(),l=w("div"),u&&u.c(),o=R(),p&&p.c(),r=R(),d&&d.c(),b(l,"class","card-details svelte-1fw75v2");},m(_,v){s&&s.m(_,v),S(_,t,v),a&&a.m(_,v),S(_,n,v),c&&c.m(_,v),S(_,i,v),S(_,l,v),u&&u.m(l,null),m(l,o),p&&p.m(l,null),m(l,r),d&&d.m(l,null);},p(_,v){_[6].free&&(_[0].free_type||_[0].pattMsg)?s?s.p(_,v):(s=_i(_),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),_[6].sub_title&&_[0].description?a?a.p(_,v):(a=gi(_),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),_[6].tags&&_[0].tagsDOM.length!=0?c?c.p(_,v):(c=vi(_),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null),_[6].size_download_collect?u?u.p(_,v):(u=bi(_),u.c(),u.m(l,o)):u&&(u.d(1),u=null),_[6].upload_time?p?p.p(_,v):(p=yi(_),p.c(),p.m(l,r)):p&&(p.d(1),p=null),_[6].statistics?d?d.p(_,v):(d=ki(_),d.c(),d.m(l,null)):d&&(d.d(1),d=null);},d(_){s&&s.d(_),_&&C(t),a&&a.d(_),_&&C(n),c&&c.d(_),_&&C(i),_&&C(l),u&&u.d(),p&&p.d(),d&&d.d();}}}function _i(e){let t,n,i,l,o,r=e[0].place_at_the_top.length!=0&&hi(e),s=e[0].freeTypeImg&&mi(e),a=e[0].free_remaining_time&&pi(e);return {c(){t=w("div"),n=w("div"),r&&r.c(),i=R(),s&&s.c(),l=R(),a&&a.c(),b(n,"class",o="top_and_free "+e[0].free_type+" svelte-1fw75v2"),b(t,"class","card-alter svelte-1fw75v2");},m(c,u){S(c,t,u),m(t,n),r&&r.m(n,null),m(n,i),s&&s.m(n,null),m(n,l),a&&a.m(n,null);},p(c,u){c[0].place_at_the_top.length!=0?r?r.p(c,u):(r=hi(c),r.c(),r.m(n,i)):r&&(r.d(1),r=null),c[0].freeTypeImg?s?s.p(c,u):(s=mi(c),s.c(),s.m(n,l)):s&&(s.d(1),s=null),c[0].free_remaining_time?a?a.p(c,u):(a=pi(c),a.c(),a.m(n,null)):a&&(a.d(1),a=null),u&1&&o!==(o="top_and_free "+c[0].free_type+" svelte-1fw75v2")&&b(n,"class",o);},d(c){c&&C(t),r&&r.d(),s&&s.d(),a&&a.d();}}}function hi(e){let t,n=Array.from(e[0].place_at_the_top).map(Li)+"&nbsp;",i;return {c(){t=new U(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=Array.from(l[0].place_at_the_top).map(Li)+"&nbsp;")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function mi(e){let t,n=e[0].freeTypeImg.outerHTML+"",i;return {c(){t=new U(!1),i=We(),t.a=i;},m(l,o){t.m(n,l,o),S(l,i,o);},p(l,o){o&1&&n!==(n=l[0].freeTypeImg.outerHTML+"")&&t.p(n);},d(l){l&&C(i),l&&t.d();}}}function pi(e){let t,n,i=e[0].free_remaining_time+"",l;return {c(){t=L(" "),n=w("b"),l=L(i);},m(o,r){S(o,t,r),S(o,n,r),m(n,l);},p(o,r){r&1&&i!==(i=o[0].free_remaining_time+"")&&B(l,i);},d(o){o&&C(t),o&&C(n);}}}function gi(e){let t,n=e[0].description+"",i,l;return {c(){t=w("a"),i=L(n),b(t,"class","card-description svelte-1fw75v2"),b(t,"href",l=e[0].torrentLink);},m(o,r){S(o,t,r),m(t,i);},p(o,r){r&1&&n!==(n=o[0].description+"")&&B(i,n),r&1&&l!==(l=o[0].torrentLink)&&b(t,"href",l);},d(o){o&&C(t);}}}function vi(e){let t,n=e[0].tagsDOM.map(e[12]).join("")+"";return {c(){t=w("div"),b(t,"class","cl-tags svelte-1fw75v2");},m(i,l){S(i,t,l),t.innerHTML=n;},p(i,l){l&1&&n!==(n=i[0].tagsDOM.map(i[12]).join("")+"")&&(t.innerHTML=n);},d(i){i&&C(t);}}}function bi(e){let t,n,i,l=e[2].SIZE+"",o,r=e[0].size+"",s,a,c,u,p=e[2].DOWNLOAD+"",d,_,v,y,f,h,g,k,E,M=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"",O,A,z,T,N;return {c(){t=w("div"),n=w("div"),i=new U(!1),o=L(" "),s=L(r),a=L(`

            
              
            `),c=w("div"),u=new U(!1),d=L(` 
              `),_=w("b"),v=w("a"),y=L("下载"),h=L(`

            
              
            `),g=w("div"),k=w("div"),E=new U(!1),O=L(`
                 `),A=w("b"),A.textContent="收藏",i.a=o,b(n,"class","cl-center svelte-1fw75v2"),u.a=d,b(v,"href",f=e[0].downloadLink),b(c,"class","cl-center svelte-1fw75v2"),E.a=O,b(k,"class","btnCollet cl-center svelte-1fw75v2"),b(k,"id",z="tI_"+e[0].torrentIndex),b(g,"class","cl-center svelte-1fw75v2"),b(t,"class","card-line svelte-1fw75v2");},m(W,D){S(W,t,D),m(t,n),i.m(l,n),m(n,o),m(n,s),m(t,a),m(t,c),u.m(p,c),m(c,d),m(c,_),m(_,v),m(v,y),m(t,h),m(t,g),m(g,k),E.m(M,k),m(k,O),m(k,A),T||(N=J(k,"click",function(){st(qt(e[0].collectLink,"tI_"+e[0].torrentIndex))&&qt(e[0].collectLink,"tI_"+e[0].torrentIndex).apply(this,arguments);}),T=!0);},p(W,D){e=W,D&4&&l!==(l=e[2].SIZE+"")&&i.p(l),D&1&&r!==(r=e[0].size+"")&&B(s,r),D&4&&p!==(p=e[2].DOWNLOAD+"")&&u.p(p),D&1&&f!==(f=e[0].downloadLink)&&b(v,"href",f),D&5&&M!==(M=(e[0].collectState=="Unbookmarked"?e[2].COLLET:e[2].COLLETED)+"")&&E.p(M),D&1&&z!==(z="tI_"+e[0].torrentIndex)&&b(k,"id",z);},d(W){W&&C(t),T=!1,N();}}}function yi(e){let t,n,i,l=e[0].upload_date+"",o;return {c(){t=w("div"),n=w("b"),n.textContent="上传时间:",i=R(),o=L(l),b(t,"class","card-line svelte-1fw75v2");},m(r,s){S(r,t,s),m(t,n),m(t,i),m(t,o);},p(r,s){s&1&&l!==(l=r[0].upload_date+"")&&B(o,l);},d(r){r&&C(t);}}}function ki(e){let t,n,i=e[2].COMMENT+"",l,o,r=e[0].comments+"",s,a,c,u=e[2].SEEDERS+"",p,d,_=e[0].seeders+"",v,y,f,h=e[2].LEECHERS+"",g,k,E=e[0].leechers+"",M,O,A,z=e[2].SNATCHED+"",T,N,W=e[0].snatched+"",D;return {c(){t=w("div"),n=new U(!1),l=L(" "),o=w("b"),s=L(r),a=L(`  
            `),c=new U(!1),p=L(" "),d=w("b"),v=L(_),y=L(`  
            `),f=new U(!1),g=L(" "),k=w("b"),M=L(E),O=L(`  
            `),A=new U(!1),T=L(" "),N=w("b"),D=L(W),n.a=l,c.a=p,f.a=g,A.a=T,b(t,"class","card-line svelte-1fw75v2");},m(H,q){S(H,t,q),n.m(i,t),m(t,l),m(t,o),m(o,s),m(t,a),c.m(u,t),m(t,p),m(t,d),m(d,v),m(t,y),f.m(h,t),m(t,g),m(t,k),m(k,M),m(t,O),A.m(z,t),m(t,T),m(t,N),m(N,D);},p(H,q){q&4&&i!==(i=H[2].COMMENT+"")&&n.p(i),q&1&&r!==(r=H[0].comments+"")&&B(s,r),q&4&&u!==(u=H[2].SEEDERS+"")&&c.p(u),q&1&&_!==(_=H[0].seeders+"")&&B(v,_),q&4&&h!==(h=H[2].LEECHERS+"")&&f.p(h),q&1&&E!==(E=H[0].leechers+"")&&B(M,E),q&4&&z!==(z=H[2].SNATCHED+"")&&A.p(z),q&1&&W!==(W=H[0].snatched+"")&&B(D,W);},d(H){H&&C(t);}}}function Kl(e){let t,n,i,l,o,r,s=e[0].category+"",a,c,u,p,d,_,v,y,f,h,g,k=e[0].torrentIndex+1+"",E,M,O,A,z,T=(e[6].title||e[3])&&li(e),N=(e[6].all||e[3])&&si(e),W=!(e[6].all||e[3])&&di(e);return {c(){t=w("div"),n=w("div"),i=w("div"),l=w("img"),r=R(),a=L(s),u=R(),T&&T.c(),p=R(),d=w("div"),_=w("img"),h=R(),g=w("div"),E=L(k),M=R(),N&&N.c(),O=R(),W&&W.c(),b(l,"class","card_category-img svelte-1fw75v2"),_t(l.src,o=e[0]._categoryImg)||b(l,"src",o),b(l,"alt",""),b(i,"class","card-category svelte-1fw75v2"),b(i,"data-href",c=e[0].categoryLink),K(i,"background-color",xe.CATEGORY[e[0].categoryNumber]??"transparent"),K(i,"color",xe.CATEGORY[e[0].categoryNumber]?wi(xe.CATEGORY[e[0].categoryNumber]):"black"),b(_,"class","card-image--img nexus-lazy-load_Kesa svelte-1fw75v2"),_t(_.src,v=xe.LOADING_PIC)||b(_,"src",v),b(_,"data-src",y=e[0].picLink),b(_,"alt",f=e[0].torrentName),b(g,"class","card-index svelte-1fw75v2"),b(d,"class","card-image svelte-1fw75v2"),b(n,"class","card-holder svelte-1fw75v2"),b(t,"class","card svelte-1fw75v2"),K(t,"display",e[0].categoryNumber=="440"&&e[4].mt.hide_gay?"none":"block"),K(t,"width",e[1]+"px"),K(t,"z-index",1e4-e[0].torrentIndex),K(t,"background-color",e[5]);},m(D,H){S(D,t,H),m(t,n),m(n,i),m(i,l),m(i,r),m(i,a),m(n,u),T&&T.m(n,null),m(n,p),m(n,d),m(d,_),m(d,h),m(d,g),m(g,E),m(n,M),N&&N.m(n,null),m(n,O),W&&W.m(n,null),A||(z=[J(_,"load",e[7]),J(_,"click",e[8]),J(n,"mouseenter",e[9]),J(n,"mouseleave",e[10])],A=!0);},p(D,[H]){H&1&&!_t(l.src,o=D[0]._categoryImg)&&b(l,"src",o),H&1&&s!==(s=D[0].category+"")&&B(a,s),H&1&&c!==(c=D[0].categoryLink)&&b(i,"data-href",c),H&1&&K(i,"background-color",xe.CATEGORY[D[0].categoryNumber]??"transparent"),H&1&&K(i,"color",xe.CATEGORY[D[0].categoryNumber]?wi(xe.CATEGORY[D[0].categoryNumber]):"black"),D[6].title||D[3]?T?T.p(D,H):(T=li(D),T.c(),T.m(n,p)):T&&(T.d(1),T=null),H&1&&y!==(y=D[0].picLink)&&b(_,"data-src",y),H&1&&f!==(f=D[0].torrentName)&&b(_,"alt",f),H&1&&k!==(k=D[0].torrentIndex+1+"")&&B(E,k),D[6].all||D[3]?N?N.p(D,H):(N=si(D),N.c(),N.m(n,O)):N&&(N.d(1),N=null),D[6].all||D[3]?W&&(W.d(1),W=null):W?W.p(D,H):(W=di(D),W.c(),W.m(n,null)),H&17&&K(t,"display",D[0].categoryNumber=="440"&&D[4].mt.hide_gay?"none":"block"),H&2&&K(t,"width",D[1]+"px"),H&1&&K(t,"z-index",1e4-D[0].torrentIndex),H&32&&K(t,"background-color",D[5]);},i:re,o:re,d(D){D&&C(t),T&&T.d(),N&&N.d(),W&&W.d(),A=!1,je(z);}}}function qt(e,t){try{window.location.href=e;const i=document.querySelector(`div#${t}`).children[0];i.className=i.className=="delbookmark"?"bookmark":"delbookmark",console.log(`执行脚本${e}成功, 已经收藏或者取消~`);}catch(n){console.error(n);}}function wi(e){const t=e.replace("#",""),n=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),l=parseInt(t.substr(4,2),16);return (n*299+i*587+l*114)/1e3<128?"white":"black"}const Ei=e=>e.outerHTML,Ti=e=>e.outerHTML,Li=e=>e.outerHTML;function xl(e,t,n){let i,l,o,r,s;Q(e,ot,g=>n(13,i=g)),Q(e,$e,g=>n(14,l=g)),Q(e,Wt,g=>n(4,o=g)),Q(e,wt,g=>n(5,r=g)),Q(e,pe,g=>n(6,s=g));function a(){ie();}function c(){fe($e,l=1,l),fe(ot,i=u.torrentLink+"#kdescr",i);}let{torrentInfo:u}=t,{cardWidth:p}=t,{ICON:d}=t,_=!1;function v(){n(3,_=!0);}function y(){n(3,_=!1);}const f=g=>{const k=document.createElement("div");return k.innerHTML=g.outerHTML,k.outerHTML},h=g=>{const k=document.createElement("div");return k.innerHTML=g.outerHTML,k.outerHTML};return e.$$set=g=>{"torrentInfo"in g&&n(0,u=g.torrentInfo),"cardWidth"in g&&n(1,p=g.cardWidth),"ICON"in g&&n(2,d=g.ICON);},[u,p,d,_,o,r,s,a,c,v,y,f,h]}class eo extends at{constructor(t){super(),rt(this,t,xl,Kl,lt,{torrentInfo:0,cardWidth:1,ICON:2});}}function Ii(e,t,n){const i=e.slice();return i[24]=t[n],i}function Ci(e,t,n){const i=e.slice();return i[24]=t[n],i}function to(e){let t;return {c(){t=w("div"),t.textContent="else";},m(n,i){S(n,t,i);},p:re,i:re,o:re,d(n){n&&C(t);}}}function no(e){let t=[],n=new Map,i,l,o=e[2];const r=s=>s[24].torrentIndex;for(let s=0;s<o.length;s+=1){let a=Ii(e,o,s),c=r(a);n.set(c,t[s]=Si(c,a));}return {c(){for(let s=0;s<t.length;s+=1)t[s].c();i=We();},m(s,a){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(s,a);S(s,i,a),l=!0;},p(s,a){a&5&&(o=s[2],nt(),t=Bi(t,a,r,1,s,o,n,i.parentNode,Yi,Si,i,Ii),it());},i(s){if(!l){for(let a=0;a<o.length;a+=1)F(t[a]);l=!0;}},o(s){for(let a=0;a<t.length;a+=1)Z(t[a]);l=!1;},d(s){for(let a=0;a<t.length;a+=1)t[a].d(s);s&&C(i);}}}function io(e){let t=[],n=new Map,i,l,o=e[2];const r=s=>s[24].torrentIndex;for(let s=0;s<o.length;s+=1){let a=Ci(e,o,s),c=r(a);n.set(c,t[s]=Oi(c,a));}return {c(){for(let s=0;s<t.length;s+=1)t[s].c();i=We();},m(s,a){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(s,a);S(s,i,a),l=!0;},p(s,a){a&5&&(o=s[2],nt(),t=Bi(t,a,r,1,s,o,n,i.parentNode,Yi,Oi,i,Ci),it());},i(s){if(!l){for(let a=0;a<o.length;a+=1)F(t[a]);l=!0;}},o(s){for(let a=0;a<t.length;a+=1)Z(t[a]);l=!1;},d(s){for(let a=0;a<t.length;a+=1)t[a].d(s);s&&C(i);}}}function Si(e,t){let n,i,l;return i=new eo({props:{torrentInfo:t[24],cardWidth:t[0].CARD_WIDTH,ICON:Xi}}),{key:e,first:null,c(){n=We(),Ae(i.$$.fragment),this.first=n;},m(o,r){S(o,n,r),Ce(i,o,r),l=!0;},p(o,r){t=o;const s={};r&4&&(s.torrentInfo=t[24]),r&1&&(s.cardWidth=t[0].CARD_WIDTH),i.$set(s);},i(o){l||(F(i.$$.fragment,o),l=!0);},o(o){Z(i.$$.fragment,o),l=!1;},d(o){o&&C(n),Se(i,o);}}}function Oi(e,t){let n,i,l;return i=new Jl({props:{torrentInfo:t[24],cardWidth:t[0].CARD_WIDTH,ICON:Xi}}),{key:e,first:null,c(){n=We(),Ae(i.$$.fragment),this.first=n;},m(o,r){S(o,n,r),Ce(i,o,r),l=!0;},p(o,r){t=o;const s={};r&4&&(s.torrentInfo=t[24]),r&1&&(s.cardWidth=t[0].CARD_WIDTH),i.$set(s);},i(o){l||(F(i.$$.fragment,o),l=!0);},o(o){Z(i.$$.fragment,o),l=!1;},d(o){o&&C(n),Se(i,o);}}}function lo(e){let t=e[5].normal+"",n;return {c(){n=L(t);},m(i,l){S(i,n,l);},p:re,d(i){i&&C(n);}}}function oo(e){let t=e[5].suspend+"",n;return {c(){n=L(t);},m(i,l){S(i,n,l);},p:re,d(i){i&&C(n);}}}function so(e){let t=e[5].disable+"",n;return {c(){n=L(t);},m(i,l){S(i,n,l);},p:re,d(i){i&&C(n);}}}function ro(e){let t,n,i,l,o,r,s,a,c;const u=[io,no,to],p=[];function d(f,h){return f[3]=="kamept.com"?0:f[3]=="kp.m-team.cc"?1:2}t=d(e),n=p[t]=u[t](e);function _(f,h){return f[4]?so:f[1]?oo:lo}let v=_(e),y=v(e);return {c(){n.c(),i=R(),l=w("div"),o=w("button"),y.c(),b(o,"id","turnPage"),o.disabled=r=e[4]||e[1],b(o,"class","svelte-kydsmq");},m(f,h){p[t].m(f,h),S(f,i,h),S(f,l,h),m(l,o),y.m(o,null),s=!0,a||(c=J(o,"click",e[6]),a=!0);},p(f,[h]){let g=t;t=d(f),t===g?p[t].p(f,h):(nt(),Z(p[g],1,1,()=>{p[g]=null;}),it(),n=p[t],n?n.p(f,h):(n=p[t]=u[t](f),n.c()),F(n,1),n.m(i.parentNode,i)),v===(v=_(f))&&y?y.p(f,h):(y.d(1),y=v(f),y&&(y.c(),y.m(o,null))),(!s||h&18&&r!==(r=f[4]||f[1]))&&(o.disabled=r);},i(f){s||(F(n),s=!0);},o(f){Z(n),s=!1;},d(f){p[t].d(f),f&&C(i),f&&C(l),y.d(),a=!1,c();}}}function ao(e,t,n){var z;let i,l,o,r,s;Q(e,$t,T=>n(14,i=T)),Q(e,Pt,T=>n(10,l=T)),Q(e,Ht,T=>n(3,o=T)),Q(e,yt,T=>n(4,r=T)),Q(e,wt,T=>n(15,s=T));let{originTable:a}=t,{waterfallNode:c}=t;function u(T,N){const W=T.clientWidth,D=N+vt.CARD_BORDER,H=Math.floor(W/D),q=(W-H*D)/(H-1);return console.log(`列数:${H} 间隔:${q}`),console.log(`容器宽:${W} 列宽:${E?E.columnWidth:"对象"}`),Math.floor(q)}function p(){n(9,E.options.gutter=u(c,l),E),n(9,E.options.columnWidth=l,E),ie("fast"),ie("fast");}window.CHANGE_CARD_LAYOUT=p;let d=!1,_=!1;const v={normal:"点击加载下一页",suspend:`下一页加载CD: ${ne.GAP} ms`,disable:"不可用"};function y(T){T.preventDefault(),r||M(),d||(n(1,d=!0),setTimeout(()=>{n(1,d=!1);},ne.GAP));}window.turnPage=y,fe(Ht,o=Ui(),o);const f=document.querySelector("table.mainouter"),h=window.getComputedStyle(f)["background-color"];fe(wt,s=h,s),console.log("背景颜色:",h);const g=tt[o];let k=[];k=[...k,...g.TORRENT_LIST_TO_JSON(a)],console.log("---> 环境:	","production"),(z=tt[o])==null||z.special();let E,M;function O(){const T=document.body.scrollHeight,N=document.documentElement.clientHeight;(document.documentElement.scrollTop||document.body.scrollTop)+N>=T-ne.DISTANCE&&(r?M():console.log("加载模式: 按钮"),ie());}M=Ol(A,ne.GAP);function A(){console.log("到页面底部啦!!! Scrolled to bottom!");const T=new URLSearchParams(window.location.search);ne.PAGE_CURRENT=ne.IS_ORIGIN?Number(T.get("page")):ne.PAGE_CURRENT,ne.IS_ORIGIN&&(ne.PAGE_ORIGIN=ne.PAGE_CURRENT),ne.PAGE_CURRENT?console.log("当前页数: "+ne.PAGE_CURRENT):(console.log("网页链接没有page参数, 无法跳转下一页, 生成PAGE.PAGE_CURRENT为0"),ne.PAGE_CURRENT=0),ne.PAGE_NEXT=parseInt(ne.PAGE_CURRENT)+1,T.set("page",ne.PAGE_NEXT),ne.NEXT_URL=window.location.origin+window.location.pathname+"?"+T.toString(),console.log("New URL:",ne.NEXT_URL),fetch(ne.NEXT_URL).then(N=>N.text()).then(N=>{var ce,ee;const H=new DOMParser().parseFromString(N,"text/html").querySelector(Kt()),q=Array.from(H.cloneNode(!0).children[0].children);q[0].children[1].textContent=`
        ↓ 新加载第${ne.PAGE_NEXT-ne.PAGE_ORIGIN}页`,console.log(ne.PAGE_ORIGIN),a.children[0].append(...q),typeof((ce=tt[o])==null?void 0:ce.pageLoaded)=="function"&&((ee=tt[o])==null||ee.pageLoaded()),n(2,k=[...k,...g.TORRENT_LIST_TO_JSON(H)]),ne.IS_ORIGIN=!1,ne.PAGE_CURRENT=ne.PAGE_NEXT,_=!0,setTimeout(()=>{_=!1;},1e3);}).catch(N=>{console.warn("获取不到下页信息, 可能到头了"),console.warn(N);});}return Jt(()=>{n(9,E=new Masonry(c,{itemSelector:".card",columnWidth:l,gutter:u(c,l)})),window.masonry=E,fe($t,i=E,i),E.layout("fast"),E.layout("fast"),c.addEventListener("click",T=>{T.target===T.currentTarget&&(E&&E.layout(),console.log("Masonry 已整理~"));}),window.addEventListener("scroll",function(){O();}),jt(),window.NEXUS_TOOLS=jt;}),kl(()=>{console.log("afterUpdate-------------------->"),E&&_&&(console.log("reload Items-------------------->"),E.reloadItems(),E.layout(),setTimeout(jt,600));}),e.$$set=T=>{"originTable"in T&&n(7,a=T.originTable),"waterfallNode"in T&&n(8,c=T.waterfallNode);},e.$$.update=()=>{e.$$.dirty&1537&&E&&(n(0,vt.CARD_WIDTH=l,vt),console.log("卡片宽度:	",vt.CARD_WIDTH),p());},[vt,d,k,o,r,v,y,a,c,E,l]}class fo extends at{constructor(t){super(),rt(this,t,ao,ro,lt,{originTable:7,waterfallNode:8});}}function co(e){let t=e[2].normal+"",n;return {c(){n=L(t);},m(i,l){S(i,n,l);},p:re,d(i){i&&C(n);}}}function uo(e){let t=e[2].suspend+"",n;return {c(){n=L(t);},m(i,l){S(i,n,l);},p:re,d(i){i&&C(n);}}}function _o(e){let t=e[2].disable+"",n;return {c(){n=L(t);},m(i,l){S(i,n,l);},p:re,d(i){i&&C(n);}}}function ho(e){let t,n,i,l,o;function r(c,u){return c[1]?_o:c[0]?uo:co}let s=r(e),a=s(e);return {c(){t=w("div"),n=w("button"),a.c(),b(n,"id","_turnPage"),n.disabled=i=e[1]||e[0],b(n,"class","svelte-2j14uu");},m(c,u){S(c,t,u),m(t,n),a.m(n,null),l||(o=J(n,"click",e[3]),l=!0);},p(c,[u]){s===(s=r(c))&&a?a.p(c,u):(a.d(1),a=s(c),a&&(a.c(),a.m(n,null))),u&3&&i!==(i=c[1]||c[0])&&(n.disabled=i);},i:re,o:re,d(c){c&&C(t),a.d(),l=!1,o();}}}const Ni=3e3;function mo(e,t,n){let i;Q(e,yt,s=>n(1,i=s));let l=!1;const o={normal:"点击加载下一页",suspend:`下一页加载CD: ${Ni} ms`,disable:"不可用"};function r(s){s.preventDefault(),window.turnPage(s),l||(n(0,l=!0),setTimeout(()=>{n(0,l=!1);},Ni));}return [l,i,o,r]}class po extends at{constructor(t){super(),rt(this,t,mo,ho,lt,{});}}function Mi(e){let t,n,i,l,o,r,s;return {c(){t=w("div"),n=w("iframe"),_t(n.src,i=e[1])||b(n,"src",i),b(n,"frameborder","0"),b(n,"title","wow"),K(n,"width",(tt[e[2]]?tt[e[2]].Iframe_Width:1e3)+"px"),b(n,"class","svelte-1wevt6e"),b(t,"id","_iframe"),b(t,"class","svelte-1wevt6e");},m(a,c){S(a,t,c),m(t,n),o=!0,r||(s=J(t,"click",e[3]),r=!0);},p(a,c){(!o||c&2&&!_t(n.src,i=a[1]))&&b(n,"src",i),(!o||c&4)&&K(n,"width",(tt[a[2]]?tt[a[2]].Iframe_Width:1e3)+"px");},i(a){o||(pt(()=>{o&&(l||(l=At(t,zt,{duration:300},!0)),l.run(1));}),o=!0);},o(a){l||(l=At(t,zt,{duration:300},!1)),l.run(0),o=!1;},d(a){a&&C(t),a&&l&&l.end(),r=!1,s();}}}function go(e){let t,n,i,l,o=e[0]&&Mi(e);return {c(){o&&o.c(),t=We();},m(r,s){o&&o.m(r,s),S(r,t,s),n=!0,i||(l=J(window,"keydown",e[4],!0),i=!0);},p(r,[s]){r[0]?o?(o.p(r,s),s&1&&F(o,1)):(o=Mi(r),o.c(),F(o,1),o.m(t.parentNode,t)):o&&(nt(),Z(o,1,1,()=>{o=null;}),it());},i(r){n||(F(o),n=!0);},o(r){Z(o),n=!1;},d(r){o&&o.d(r),r&&C(t),i=!1,l();}}}function vo(e,t,n){let i,l,o,r,s;Q(e,dt,v=>n(9,i=v)),Q(e,$e,v=>n(0,l=v)),Q(e,Ot,v=>n(5,o=v)),Q(e,ot,v=>n(1,r=v)),Q(e,Ht,v=>n(2,s=v)),console.log(`[${new Date().toLocaleTimeString()}]<--------------------------HMR-------------------------->`);const a=document.querySelector(Kt());for(;!Masonry;)console.log("等待初始化......");const c=a.parentNode,u=document.createElement("div");u.classList.add("waterfall"),c.insertBefore(u,a.nextSibling);const p=document.createElement("div");p.classList.add("nextPage"),c.insertBefore(p,a.nextSibling);function d(){fe($e,l=0,l);}function _(v){v.key==="Escape"&&(console.log(v),fe($e,l=0,l),fe(dt,i=!1,i));}return Jt(()=>{new Xl({target:document.body,props:{originTable:a}}),new fo({target:u,props:{originTable:a,waterfallNode:u}}),new po({target:p});}),e.$$.update=()=>{e.$$.dirty&32&&(a.style.display=o?"none":"block",p.style.display=o?"none":"block",u.style.display=o?"block":"none");},[l,r,s,d,_,o]}class bo extends at{constructor(t){super(),rt(this,t,vo,go,lt,{});}}console.log("________PT-TorrentList-Masonry________");const Vi=Kt(),yo=document.querySelector(Vi);Vi&&yo?new bo({target:(()=>{const e=document.createElement("div");return document.body.append(e),e})()}):console.log("未识别到种子列表捏~");

})();
